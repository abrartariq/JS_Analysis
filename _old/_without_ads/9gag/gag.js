(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,,function(t,e,i){"use strict";var n=new(i(7).a);e.a=n},,function(t,e,i){"use strict";var n=i(0),s=i.n(n),o={POST_PAGE:"PostPage",USER_POST_LIST:"UserPostList",TAG_POST_LIST:"TagPostList",SEARCH_POST_LIST:"SearchPostList",POST_LIST:"PostList",SECTION_POST_LIST:"SectionPostList",LOGIN_PAGE:"LoginPage",SIGNUP_PAGE:"SignupPage"};e.a=s()({},o,{LIST_VIEWS:[o.USER_POST_LIST,o.TAG_POST_LIST,o.SEARCH_POST_LIST,o.POST_LIST,o.SECTION_POST_LIST]})},function(t,e,i){"use strict";(function(t,n){i(30);var s=i(4),o=(i(16),{_domain:"9gag.com",_backUrl:"",_pageKey:"",route:null,init:function(){this._domain=t.get("page.domain"),this._backUrl=t.get("page.back_url"),this._pageKey=t.get("page.page_key")},getRouteInfo:function(){return this.route},setRouteInfo:function(t){this.route=t},getProtocol:function(){return"https:"==document.location.protocol?"https":"http"},getDomain:function(){return this._domain},getCookieOptions:function(){return{domain:t.get("page.cookie_domain"),path:"/",expires:1095}},getPageKey:function(){return this.route?this.getPageKeyFromRoute(this.route):this._pageKey||""},getPageKeyFromRoute:function(t){var e;switch(t.name){case s.a.POST_LIST:return n.capitalize(t.params.type||"hot");case s.a.SECTION_POST_LIST:var i=n.capitalize(t.params.section||"");return e=n.capitalize(t.params.type||"hot"),"".concat(i,"-").concat(e);case s.a.TAG_POST_LIST:var o=n.capitalize(t.params.tag||"");return e=n.capitalize(t.params.type||"hot"),"Tag-".concat(o,"-").concat(e);case s.a.USER_POST_LIST:return e=n.capitalize(t.params.type||"overview"),"Profile-".concat(e);case s.a.SEARCH_POST_LIST:return"Search";case s.a.POST_PAGE:return"Post";case s.a.SIGNUP_PAGE:return"Signup";case s.a.LOGIN_PAGE:return"Login"}return this._pageKey},load:function(t){window.location=t},getBackUrl:function(){return this.route?encodeURIComponent(this.route.fullPath):this._backUrl},isPostPage:function(){return"Post"===this.getPageKey()},isSectionPage:function(){return this.route&&this.route.name===s.a.SECTION_POST_LIST},isTagPostListPage:function(){return this.route&&this.route.name===s.a.TAG_POST_LIST},isProfilePage:function(){return this.route&&this.route.name===s.a.USER_POST_LIST},isSearchPage:function(){return this.route&&this.route.name===s.a.SEARCH_POST_LIST},isUploadPage:function(){return"Submit"==this.getPageKey()},isSignupPage:function(){return"Signup"==this.getPageKey()},getUrlParam:function(t){return this.route&&this.route.query[t]||""}});e.a=o}).call(this,i(34).default,i(43).default)},,,function(t,e,i){"use strict";var n=i(5),s=i(21);e.a={methods:{track:function(t,e,i){s.default.track(t,e,n.a.getPageKey(),"",i)},trackLabel:function(t,e,i,n){s.default.track(t,e,i,"",n)}}}},,,function(t,e,i){"use strict";i(26),i(25);var n=i(7),s=i(3),o=i(295);var a=i(102),r=i.n(a);var c=i(294),l=i(60),u=i.n(l),d=i(57),h=i.n(d),p=(i(35),i(106),i(18),i(0)),f=i.n(p),g=(i(52),i(10)),m=i.n(g),_=i(9),v=i.n(_),T=i(47),E=i.n(T),S=i(22),P=i.n(S),O=i(46),I=i.n(O),C=i(17),y=i.n(C),A=i(20),b=i.n(A),R=i(98),N=i(55),k=i.n(N),L=new(function(t){function e(){return m()(this,e),E()(this,P()(e).apply(this,arguments))}return I()(e,t),v()(e,[{key:"updateSettings",value:function(t){var e=new k.a("".concat(this.baseUrl(),"/settings"));return t=b()(f()({},this.options,t),["loginName","email","fullName","country","location","safeMode","about","gender","birthday"]),y.a.post(e.toString(),t).then(function(t){return t.data.data}).catch(this.returnError)}}]),e}(R.a)),U=i(173),w=(i(209),i(172));var D=i(58);i(90),i(89);var M=new(function(t){function e(){return m()(this,e),E()(this,P()(e).apply(this,arguments))}return I()(e,t),v()(e,[{key:"getFeaturedPosts",value:function(){var t=new k.a("".concat(this.baseUrl(),"/featured-posts"));return y.a.get(t.toString()).then(function(t){return t.data.data}).catch(this.returnError)}}]),e}(R.a)),x=i(167),F=i.n(x);i(293);var H=i(71);n.a.use(s.b);var V=[Object(H.a)({key:"appState",paths:["app.darkMode"],filter:function(t){return["app/TOGGLE_DARK_MODE"].includes(t.type)}}),Object(H.a)({key:"gdprState",paths:["gdpr.googleNpa"],filter:function(t){return["gdpr/SET_GOOGLE_NPA"].includes(t.type)}}),Object(H.a)({key:"sidebarState",paths:["sidebar.clickedPosts"],filter:function(t){return"sidebar/ADD_CLICKED_POST"===t.type}}),Object(H.a)({storage:window.sessionStorage,key:"postSessionCache",paths:["post.sessionCache"],filter:function(t){return"post/SAVE_SESSION_CACHE"===t.type}}),Object(H.a)({key:"sectionState",paths:["section.favoriteSections"],filter:function(t){return["section/FAVORITE_SECTION","section/UNFAVORITE_SECTION"].includes(t.type)}})];var B=new s.b.Store({modules:{app:Object(o.a)(),gdpr:{namespaced:!0,state:{googleNpa:!1},mutations:{SET_GOOGLE_NPA:function(t,e){t.googleNpa=e}},actions:{SET_GOOGLE_NPA:function(t,e){var i=t.commit;t.state,i("SET_GOOGLE_NPA",e)}}},config:{namespaced:!0,state:{page:{},configs:{},data:{}},getters:{APP_VERSION:function(t){return r()(t,"configs.t.appVersion","00000")},COOKIE_DOMAIN:function(t){return r()(t,"page.cookie_domain",".9gag.com")},GET_CONFIG:function(t){return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r()(t,e,i)}}},mutations:{SET_CONFIG:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.page,n=e.configs,s=e.data;t.page=i,t.configs=n,t.data=s}},actions:{INIT_CONFIG:function(t,e){var i=t.commit,n=(t.state,t.getters);i("SET_CONFIG",e);var s=n.GET_CONFIG("page.sections");s&&i("section/INIT_SECTIONS",s,{root:!0})}}},post:Object(c.a)(),user:{namespaced:!0,state:{user:{username:null,userId:null,accountId:null,avatar:null,hashId:null,notiOptions:null,commentSso:null},preference:{isSafeModeOn:!0},votes:{},uploads:[],reports:[],uninterestedPosts:[],recommendedPosts:[]},getters:{IS_LOGGED_IN:function(t){return null!==t.user.username}},mutations:{SET_USER:function(t,e){t.user=e},SET_PREFERENCE:function(t,e){t.preference=e},SET_REPORT:function(t,e){t.reports=e},ADD_REPORT:function(t,e){var i=function(t,e){var i=t.indexOf(e);return-1!==i&&t.splice(i,1),t.unshift(e),t.splice(1e3),t}(t.reports,e);t.reports=i,w.a.addToCache(i)},SET_VOTE:function(t,e){t.votes=e},ADD_VOTE:function(t,e){t.votes=f()({},t.votes,e)},SET_NSFW:function(t,e){t.preference.isSafeModeOn=e},SET_UPLOAD:function(t,e){t.uploads=e},UPDATE_UNINTERESTED_POSTS:function(t,e){var i=[];Object.entries(t.votes).forEach(function(t){var e=h()(t,2),n=e[0];-1===e[1]&&i.push(n)}),t.uninterestedPosts=[].concat(i,u()(t.reports)).filter(function(e){return!t.uploads.includes(e)})},UPDATE_RECOMMENDED_POSTS:function(t,e){t.recommendedPosts=e||[]}},actions:{SET_NSFW:function(t,e){var i=t.commit;L.updateSettings({safeMode:e}),U.a.updateCache({isSafeModeOn:e},!1),i("SET_NSFW",e)}}},tag:{namespaced:!0,state:{tags:{},tagNavs:{}},getters:{TAGS:function(t,e,i){var n=D.a.getApiInfo(i.route).url;return t.tags[n]||[]},TAG_NAV:function(t,e,i){var n=D.a.getApiInfo(i.route).url;return t.tagNavs[n]||{}}},mutations:{SET_TAGS:function(t,e){var i=e.key,s=e.tags;n.a.set(t.tags,i,s)},SET_TAG_NAV:function(t,e){var i=e.key,s=e.tagNav;n.a.set(t.tagNavs,i,s)}},actions:{}},section:{namespaced:!0,state:{sections:{},favoriteSections:[]},getters:{GET_SECTION:function(t){return function(e){return t.sections[e]||{}}},GET_FAVORITE_SECTIONS:function(t){var e={},i=!0,n=!1,s=void 0;try{for(var o,a=t.favoriteSections[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value;t.sections.hasOwnProperty(r)&&(e[r]=t.sections[r])}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}return e},GET_NON_FAVORITE_SECTIONS:function(t){var e={};for(var i in t.sections)t.favoriteSections.includes(i)||(e[i]=t.sections[i]);return e}},mutations:{INIT_SECTIONS:function(t,e){t.sections=e},ADD_SECTION:function(t,e){n.a.set(t.sections,e.url,e)},FAVORITE_SECTION:function(t,e){var i=[];t.favoriteSections.forEach(function(e){t.sections[e]&&i.push(e)}),i.includes(e)||(i.length>=10&&i.shift(),i.push(e)),t.favoriteSections=i},UNFAVORITE_SECTION:function(t,e){var i=t.favoriteSections.indexOf(e);i>-1&&t.favoriteSections.splice(i,1)}}},profile:{namespaced:!0,state:{profiles:{}},getters:{GET_PROFILE_BY_USERNAME:function(t){return function(e){return t.profiles[e.toLowerCase()]||{permissions:{}}}}},mutations:{ADD_PROFILE:function(t,e){n.a.set(t.profiles,e.username,e)}}},sidebar:{namespaced:!0,state:{featuredPosts:[],clickedPosts:[],clickedFeaturedCount:0,isFetchingFeaturedPosts:!1},getters:{},mutations:{SET_FEATURED_POSTS:function(t,e){if(t.clickedPosts&&t.clickedPosts.length>0)for(var i=0,n=0;n<e.length;n++){var s=e[i].itemId;Array.isArray(t.clickedPosts)&&t.clickedPosts.includes(s)?(e.push(e.splice(i,1)[0]),t.clickedFeaturedCount+=1):i++}t.featuredPosts=e},ADD_CLICKED_POST:function(t,e){if(Array.isArray(t.clickedPosts)&&!t.clickedPosts.includes(e)){if(t.clickedPosts.length>=20){var i=t.clickedPosts.shift();t.featuredPosts.includes(i)&&(t.clickedFeaturedCount-=1)}t.clickedPosts.push(e)}else t.clickedPosts=[e];t.clickedFeaturedCount+=1},SHUFFLE_FEATURED_POSTS:function(t){var e=t.featuredPosts,i=[];if(t.clickedFeaturedCount>0){var n=t.featuredPosts.length-t.clickedFeaturedCount;e=t.featuredPosts.slice(0,n),i=t.featuredPosts.slice(n)}t.featuredPosts=[].concat(u()(F()(e)),u()(i))},FETCHING_FEATURED_POSTS:function(t,e){t.isFetchingFeaturedPosts=e}},actions:{SET_FEATURED_POSTS:function(t){var e=t.commit;return e("FETCHING_FEATURED_POSTS",!0),M.getFeaturedPosts().then(function(t){e("SET_FEATURED_POSTS",t.items),e("SHUFFLE_FEATURED_POSTS"),e("FETCHING_FEATURED_POSTS",!1)}).catch(function(t){e("FETCHING_FEATURED_POSTS",!1)})},ADD_CLICKED_POST:function(t,e){var i=t.commit,n=t.state;i("ADD_CLICKED_POST",e),i("SET_FEATURED_POSTS",n.featuredPosts)},SHUFFLE_FEATURED_POSTS:function(t){(0,t.commit)("SHUFFLE_FEATURED_POSTS")}}}},strict:!1,plugins:V});e.a=B},function(t,e,i){"use strict";i(30);var n=i(29),s=i(4);e.a={computed:{isPostPage:function(){return this.$route.name===s.a.POST_PAGE},type:function(){var t=n.a.HOT;return this.$route.name===s.a.USER_POST_LIST&&(t=n.a.OVERVIEW),this.$route.params.type||t}},methods:{getRoute:function(t){var e=t.name,i=void 0===e?null:e,n=t.params,s=void 0===n?{}:n,o=t.query,a=void 0===o?{}:o;return this.$router.resolve({name:i||this.$router.name,params:s,query:a}).href},getPostRoute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$router.resolve({name:s.a.POST_PAGE,params:{postId:t},query:e}).href}}}},function(t,e,i){"use strict";var n=i(176),s=function(){this._base=this};(s.prototype=new n.a).getBase=function(){return this._base},s.prototype.init=function(){},s.prototype.onLoad=function(){},s.prototype.onScroll=function(){},s.prototype.onDomReady=function(){},e.a=s},function(t,e,i){"use strict";i.r(e);var n=i(10),s=i.n(n),o=i(9),a=i.n(o),r=function(){function t(){s()(this,t)}return a()(t,null,[{key:"log",value:function(t,e){this.logWithData(t,e)}},{key:"logWithData",value:function(t,e){}}]),t}();e.default=r},function(t,e,i){"use strict";(function(t,n){var s=i(21),o=(i(16),i(27)),a=i(5),r=i(56),c=i(292),l=i(84),u=i(4),d={getShareTrackingParams:function(t,e,i){var n=e?"p":"l",s="";switch(t){case"facebook":s="social,fb.s,,,d,".concat(i,",").concat(n,")");break;case"twitter":s="social,t.s,,,d,".concat(i,",").concat(n,")");break;case"gplus":s="social,gp.s,,,d,".concat(i,",").concat(n);break;case"pinterest":s="social,pn.s,,,d,".concat(i,",").concat(n);break;case"email":s="social,9g.m,,,d,".concat(i,",").concat(n);break;default:s=""}return s},getShareEventParams:function(t,e,i){var n="Post"===e?"PostAction":"PostList",s="Post"===e&&i?i:e,o="";switch(t){case"facebook":o="FacebookButton";break;case"facebook-bottom":o="FacebookBottomButton";break;case"twitter":o="TwitterButton";break;case"gplus":o="GplusButton";break;case"pinterest":o="PinterestButton";break;case"pinterest-bottom":o="PinterestBottomButton";break;case"email":o="EmailButton"}return"".concat(n,",").concat("ShareSocial",",").concat(s,",").concat("",",").concat(o)},getShareTitle:function(t,e){var i="";switch(e){case"twitter":case"pinterest":i=encodeURI(t);break;default:i=t}return i},getShareUrl:function(t,e){var i=null;switch(t){case"facebook":i="fb.s";break;case"twitter":i="t";break;case"gplus":i="gp";break;case"pinterest":i="pn";break;case"email":i="9g.m"}var n=l.a.resolve({name:u.a.POST_PAGE,params:{postId:e},query:{ref:i}});return document.location.origin+n.href},getEmailShareUrl:function(e,i){var n=t.htmlDecode(e),s=this.getShareUrl("email",i),o='Check out "'.concat(n,'"'),a="This is funny, you must check it out! :D\n".concat(n,"\n").concat(s);return"mailto:?subject=".concat(encodeURI(o),"&body=").concat(encodeURI(a))},openShareWindow:function(t){var e=window.screen.height/2-230,i=window.screen.width/2-320;window.open(t,"Share","status=1,height=460,width=640,top="+e+",left="+i+",resizable=0")},reportEntry:function(t){var e=a.a.isPostPage()?"PostAction":"PostList";s.default.track(e,"TapReport",t),o.a.isLoggedIn()?n.ReportController.showReportOverlay({type:n.ReportController.types.POST,objectId:t}):r.a.presentSignupForm()},deleteEntry:function(t){var e=a.a.isPostPage()?"PostAction":"PostList";if(s.default.track(e,"TapDelete",t),o.a.isLoggedIn()){confirm("Confirm to delete this post?")&&c.a.deleteEntry(t)}else r.a.presentSignupForm()}};e.a=d}).call(this,i(43).default,i(31).default)},function(t,e,i){"use strict";i.r(e),function(t){i(94),i(66);var n=i(309),s=i.n(n),o=i(216),a=i.n(o),r={parseJsonString:function(e){try{return t.parseJSON(e)}catch(t){}return{}},isCurrentlyFocusedInTypeable:function(){var e=t(document.activeElement).prop("tagName").toLowerCase();return"input"==e||"textarea"==e},cookieCheckKey:"cchk",isCookieEnabled:function(){var e=t.cookie(this.cookieCheckKey);return null!=e||(t.cookie(this.cookieCheckKey,1),null!=(e=t.cookie(this.cookieCheckKey)))},getPostDomId:function(t){return"jsid-post-".concat(t)},getPostId:function(t){return t.replace("jsid-post-","")},getStreamDomId:function(t){return"stream-".concat(t)},getStreamPos:function(t){return Number(t.replace("stream-",""))},getSpinnerHtml:function(){return'<div class="simple-spinner"></div>'},getScrollTop:function(){return a()().scrollTop},scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;s.a.top(a()(),t,{duration:e})}};e.default=r}.call(this,i(6))},,,,,function(t,e,i){"use strict";i.r(e),function(t){var n=i(88),s=i(5),o={track:function(e,i,s,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};n.a.track(e,i,s),t.trackEvent(e,i,s,o,a)},trackPage:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=s.a.getPageKey()||"";n.a.track(e,i,r),t.trackEvent(e,i,r,o,a)},trackPageView:function(e){n.a.trackPageView(e),t.trackEvent("WEB_TRACKING","PAGEVIEW","","",{},document.location.origin+e)},trackException:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.a.trackException(t,e)}};e.default=o}.call(this,i(75).default)},,function(t,e,i){"use strict";(function(t,n,s,o){i(74);var a=i(13),r=i(5),c=t.extend({},new a.a,{_isShown:!1,_hideUsingBackground:!0,_hideAllOverlayReturnToUpload:!1,selectors:{OVERLAY:"#overlay-container",OVERLAY_COMPONENT:"section",OVERLAY_CLOSE_BUTTON:".badge-overlay-close",OVERLAY_COMPONENT_UPLOAD:".badge-overlay-upload",OVERLAY_COMPONENT_REPORT:".badge-overlay-report",OVERLAY_COMPONENT_DRAG_AND_DROP:".badge-drag-and-drop",MODAL_POST_ZOOM_CONTAINER:"#jsid-modal-post-zoom",BODY_SELECTOR:"body"},init:function(){this.bindOverlayCloseButtons(),this.bindMouseLeave()},handlers:{closeButtonClickedHandler:function(e){return t(e.currentTarget).closest(this.selectors.OVERLAY_COMPONENT).is(this.selectors.OVERLAY_COMPONENT_UPLOAD)&&(n.track("Upload","Clicked","Cancel"),r.a.isUploadPage())?(window.location.href="https://"+r.a.getDomain(),!1):r.a.isSignupPage()?(window.location.href="https://"+r.a.getDomain(),!1):(this.hideOverlay(t(e.currentTarget).closest(this.selectors.OVERLAY_COMPONENT)),void e.preventDefault())},overlayBackgroundClickedHandler:function(t){this._hideUsingBackground&&this.hideAllOverlay()},overlayComponentClickedHandler:function(t){t.stopPropagation()}},isAnyOverlayShown:function(){return this._isShown},setHideUsingBackground:function(t){this._hideUsingBackground=!1!==t},showOverlay:function(e,i){this.hideAllOverlay(),this._isShown=!0,t(this.selectors.OVERLAY).removeClass("hide"),i||t("body").addClass("no-scroll"),void 0!==e&&(t(e).removeClass("hide"),e==this.selectors.OVERLAY_COMPONENT_UPLOAD||r.a.isSignupPage()?this.setHideUsingBackground(!1):e==this.selectors.MODAL_POST_ZOOM_CONTAINER&&this.setHideUsingBackground(!0))},hideOverlay:function(e){this._isShown=!1,t(this.selectors.OVERLAY).addClass("hide"),t("body").removeClass("no-scroll"),void 0!==e&&(t(e).addClass("hide"),t(e).hasClass("badge-overlay-upload")&&this.setHideUsingBackground(!0))},hideAllOverlay:function(){s.log("hideAllOverlay"),this._hideAllOverlayReturnToUpload?(this._hideAllOverlayReturnToUpload=!1,this.showOverlay(this.selectors.OVERLAY_COMPONENT_UPLOAD,!1)):(this.hideOverlay(t(this.selectors.OVERLAY).children()),o.ReportController.onCancel())},bindOverlayCloseButtons:function(){t(this.selectors.OVERLAY).find(this.selectors.OVERLAY_CLOSE_BUTTON).click(t.proxy(this.handlers.closeButtonClickedHandler,this)),t(this.selectors.OVERLAY).click(t.proxy(this.handlers.overlayBackgroundClickedHandler,this)),t(this.selectors.OVERLAY).find(this.selectors.OVERLAY_COMPONENT).click(t.proxy(this.handlers.overlayComponentClickedHandler,this))},bindMouseLeave:function(){t(this.selectors.OVERLAY).mouseleave(function(){this._isShown&&!t(this.selectors.OVERLAY_COMPONENT_DRAG_AND_DROP).hasClass("hide")&&this.hideOverlay(this.selectors.OVERLAY_COMPONENT_DRAG_AND_DROP)})},isInsideOverlay:function(e){return t(e).is(this.selectors.OVERLAY+" *")}});e.a=c}).call(this,i(6),i(21).default,i(14).default,i(31).default)},,,,function(t,e,i){"use strict";(function(t,n){var s=i(48),o=i(5),a=t.extend({},new s.a,function(){var t={_isLoggedIn:null,_user:null};return{init:function(){t._user=n.get("user")},isLoggedIn:function(e,i){if(t._isLoggedIn=this.getUserId()>0,e&&!t._isLoggedIn){var n="https://"+o.a.getDomain()+"/login";i&&(n+="?next="+i),o.a.load(n)}return t._isLoggedIn},getUsername:function(){return t._user&&t._user.username?t._user.username:""},getUserId:function(){return t._user&&t._user.id?t._user.id:0},getAccountId:function(){return t._user&&t._user.account_id?t._user.account_id:0}}}());e.a=a}).call(this,i(6),i(34).default)},function(t,e,i){"use strict";(function(t,n,s){var o=i(63),a=i.n(o),r=(i(119),i(99)),c=i.n(r),l=i(13),u=i(73),d=i(5),h=i(2),p=t.extend({},new l.a,{adConfigs:{},init:function(){this.adConfigs=n.get("rcfgAds")||{};var t={page_segment:n.get("configs.t.appVersion")||"00000",on_google_npa_changed:function(t){s.log("onGoogleNpaChanged bus emit",t),h.a.$emit("gdpr::setGoogleNpa",t)}};u.a.init(this.adConfigs,this.getCurrentAdView(),"list_default",t),this.checkGoogleNpa()},checkGoogleNpa:function(){var t=c()(a.a.mark(function t(){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getGoogleNpa();case 2:e=t.sent,s.log("checkGoogleNpa bus emit npa",e),h.a.$emit("gdpr::setGoogleNpa",e);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setTargeting:function(t){u.a.setTargeting(t)},getCurrentAdView:function(){return d.a.isPostPage()?"post_default":"list_default"},getAdContainer:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.a.getAdContainer(t,e)},renderAd:function(t,e){t&&u.a.renderAd(t,e)},refreshAd:function(t){t&&u.a.refreshAd(t)},switchAdView:function(){u.a.switchAdView(this.getCurrentAdView(),"list_default")}});e.a=p}).call(this,i(6),i(34).default,i(14).default)},function(t,e,i){"use strict";e.a={HOT:"hot",FRESH:"fresh",TRENDING:"trending",OVERVIEW:"overview",POSTS:"posts",LIKES:"likes",COMMENTS:"comments"}},,function(t,e,i){"use strict";i.r(e);e.default={}},,,function(t,e,i){"use strict";i.r(e);i(52),i(66),i(51);var n={_configs:{},_uuid:"",init:function(){this._uuid=this.generateUuid()},load:function(t){this._configs=t||{}},get:function(t){for(var e=t.split("."),i=this._configs,n="";i&&e.length>0;)n=i=i[e.shift()];return n},getUuid:function(){return this._uuid},generateUuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}};e.default=n},,,,function(t,e,i){"use strict";(function(t,n,s){var o=i(48),a=i(72),r=i(2),c=t.extend({},new o.a,{remoteHandler:null,cacheKey:"",cacheTTL:3600,remoteKey:"",init:function(t){this.remoteHandler=t},get:function(t){var e=this.getFromCache(t);return e&&r.a.$emit(this.cacheKey,e),e},formatRemoteParams:function(t){return{}},getFromCache:function(){if(""==this.cacheKey)return n.log("getFromCache: empty cache key"),null;var t=a.a.storageImpl.getItem(this.cacheKey);return null==t?null:void 0==(t=JSON.parse(t)).expireAt?(n.log("getFromCache: invalid cache. Reason: no expire time.  do clear:"+this.cacheKey),a.a.storageImpl.removeItem(this.cacheKey),null):t.expireAt<s.getCurrentTime()?(n.log("getFromCache: invalid cache. Reason: expired.  do clear:"+this.cacheKey),a.a.storageImpl.removeItem(this.cacheKey),null):t.data},addToCache:function(t){return!1},removeFromCache:function(t){return!1},updateCache:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(""==this.cacheKey)return n.log("updateCache: empty cache key"),!1;var i={};return i.data=t,i.expireAt=this.cacheTTL+s.getCurrentTime(),a.a.storageImpl.setItem(this.cacheKey,JSON.stringify(i)),e&&r.a.$emit(this.cacheKey,t),!0},clearCache:function(){return""==this.cacheKey?(n.log("clearCache: empty cache key"),null):(a.a.storageImpl.removeItem(this.cacheKey),!0)}});e.a=c}).call(this,i(6),i(14).default,i(120).default)},function(t,e,i){"use strict";var n={LIST_VIEW_WIDTH:500,LIST_VIEW_MAX_HEIGHT:500,POST_VIEW_WIDTH:600,POST_VIEW_MAX_WIDTH:640,POST_VIEW_MAX_HEIGHT:640,getPostViewMinHeight:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t=t/e*this.POST_VIEW_WIDTH;return i&&t>this.POST_VIEW_MAX_HEIGHT&&(n=this.POST_VIEW_MAX_HEIGHT),n},getListViewPhoto:function(t,e){return this._getStylesByWidth(this.LIST_VIEW_WIDTH,t,e)},_getStylesByWidth:function(t,e,i){var n=this._calculateScaleByWidth(t,e,i);return{img:"",a:{minHeight:"".concat(n.height,"px")}}},_getStylesByMaxHeight:function(t,e,i,n){var s=n*(t/i),o=t;return{img:{width:"".concat(s,"px"),height:"".concat(o,"px"),maxHeight:"".concat(o,"px")},a:{paddingLeft:e/2-s/2+"px"}}},_calculateScaleByWidth:function(t,e,i){var n=0==i?0:t/i;return n<=4?{width:t,height:e*n,doScale:!0}:{width:i,height:e,doScale:!1}},getListViewAnimatedPhoto:function(t,e){return this.getAnimiatedPhoto(this.LIST_VIEW_WIDTH,this.LIST_VIEW_MAX_HEIGHT,t,e)},getAnimiatedPhoto:function(t,e,i,n){var s={img:"",a:""};if(i>0&&n>0){if(i>e)return this._getStylesByMaxHeight(e,t,i,n);var o=this._calculateScaleByWidth(t,i,n);return o.doScale?o.height>e?this._getStylesByMaxHeight(e,t,i,n):this._getStylesByWidth(t,i,n):(s.a={minHeight:"".concat(o.height,"px")},s)}return s}};e.a=n},,,,function(t,e,i){"use strict";i.r(e);i(52),i(66);var n=i(10),s=i.n(n),o=i(9),a=i.n(o),r=i(177),c=i.n(r),l=function(){function t(){s()(this,t),this.renderer=null}return a()(t,[{key:"htmlDecode",value:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}},{key:"integerWithCommas",value:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"secondsToTimeDisplay",value:function(t){if(!t)return"";var e=t%60;return Math.floor(t/60)+":"+(e<10?"0":"")+e}},{key:"capitalize",value:function(t){return"string"==typeof t?t.replace(/^\w/,function(t){return t.toUpperCase()}):t}},{key:"getMarkedRenderer",value:function(){return this.renderer?this.renderer:(this.renderer=new c.a.Renderer,this.renderer.link=function(t,e,i){return 0!==t.indexOf("http")&&(t="http://".concat(t)),'<a href="'.concat(t,'" target="_blank">').concat(i,"</a>")},this.renderer)}},{key:"getCanonicalTagFromUrl",value:function(t){return t.replace("/tag/","")}},{key:"getTagUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i="/tag/".concat(t.toLowerCase().replace(/ /g,"-"));return e&&(i="".concat(i,"?ref=").concat(e)),i}},{key:"abbreviateNumber",value:function(t){return t>=1e7?"".concat(Math.floor(t/1e7),"M"):t>=1e6?"".concat(Math.floor(t/1e5)/10,"M"):t>=1e4?"".concat(Math.floor(t/1e3),"K"):t>=1e3?"".concat(Math.floor(t/100)/10,"K"):t}}]),t}();e.default=new l},,,,,function(t,e,i){"use strict";var n=i(176),s=function(){this._base=this};(s.prototype=new n.a).getBase=function(){return this._base},s.prototype.init=function(){},e.a=s},function(t,e,i){"use strict";e.a={TYPE_PHOTO:"Photo",TYPE_ANIMATED:"Animated",TYPE_VIDEO:"Video",TYPE_EMBED_VIDEO:"EmbedVideo",TYPE_ARTICLE:"Article"}},,,,,function(t,e,i){"use strict";var n=i(0),s=i.n(n),o=i(2),a=(i(8),i(3)),r=Object(a.a)("user").mapGetters;e.a={computed:s()({},r({isLoggedIn:"IS_LOGGED_IN"})),methods:{ensureLoggedIn:function(t){return!!this.isLoggedIn||(o.a.$emit("Overlay::showSignupSocial",t),!1)}}}},,function(t,e,i){"use strict";(function(t,n){var s=i(13),o=(i(23),i(27),i(5),i(83),i(2)),a=t.extend({},new s.a,{init:function(){this.bindElements()},selectors:{HEADER_LOGIN_BUTTON:"#jsid-login-button",HEADER_SIGNUP_BUTTON:"#jsid-signup-button",DELETE_CONFIRM_FORM:".badge-delete-confirm-form",SHOW_DELETE_FORM_BTN:"#jsid-show-form-btn",RESET_SUBMIT_BTN:".badge-reset-submit",RESET_SUBMIT_FROM:"#jsid-form-reset",RESET_NEW_PWD:"#jsid-reset-new-pwd",RESET_RETYPE_NEW_PWD:"#jsid-reset-retype-new-pwd"},bindElements:function(){this.bindSignupElements(),this.bindLoginElements(),this.bindDeleteConfirmElements(),this.bindResetForm()},bindSignupElements:function(){t(this.selectors.HEADER_SIGNUP_BUTTON).on("click",t.proxy(function(t){t.preventDefault(),this.presentSignupForm()},this))},bindLoginElements:function(){t(this.selectors.HEADER_LOGIN_BUTTON).on("click",t.proxy(function(t){t.preventDefault(),this.presentLoginForm()},this))},bindDeleteConfirmElements:function(){t(this.selectors.SHOW_DELETE_FORM_BTN).on("click",t.proxy(function(){t(this.selectors.DELETE_CONFIRM_FORM).removeClass("hide")},this))},bindResetForm:function(){t(this.selectors.RESET_SUBMIT_FROM).submit(t.proxy(function(t){return!!this.validateReset()},this))},validateReset:function(){var e=t(this.selectors.RESET_NEW_PWD).val();if(e!=t(this.selectors.RESET_RETYPE_NEW_PWD).val())return t(".badge-error-message").text("Your new password doesn't seem to be matching.").removeClass("hide"),!1;var i=n.isValidPassword(e,6,30);return i?t(".badge-error-message").text("").addClass("hide"):t(".badge-error-message").text("Invalid password.").removeClass("hide"),i},presentLoginForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o.a.$emit("Overlay::showLogin",t)},presentSignupForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o.a.$emit("Overlay::showSignupSocial",t)}});e.a=a}).call(this,i(6),i(210).default)},,function(t,e,i){"use strict";i(52),i(117),i(30);var n=i(10),s=i.n(n),o=i(9),a=i.n(o),r=i(47),c=i.n(r),l=i(22),u=i.n(l),d=i(46),h=i.n(d),p=i(17),f=i.n(p),g=i(98),m=i(4),_=i(55),v=i.n(_),T=i(5),E=function(t){function e(){return s()(this,e),c()(this,u()(e).apply(this,arguments))}return h()(e,t),a()(e,[{key:"getApiInfo",value:function(t){var e,i,n=t.params,s=t.query;switch(t.name){case m.a.POST_PAGE:e="/post?id=".concat(n.postId);break;case m.a.POST_LIST:case m.a.SECTION_POST_LIST:var o,a=n.section;o=void 0===a?"default":a;var r=n.type;i=void 0===r?"hot":r,e="/group-posts/group/".concat(o,"/type/").concat(i),s.sort&&(e+="/sort/".concat(s.sort));break;case m.a.TAG_POST_LIST:var c;c=n.tag;var l=n.type;i=void 0===l?"hot":l,e="/tag-posts/tag/".concat(encodeURIComponent(c),"/type/").concat(i);break;case m.a.USER_POST_LIST:var u;u=n.username;var d=n.type;i=void 0===d?"overview":d,e="/user-posts/username/".concat(u,"/type/").concat(i);break;case m.a.SEARCH_POST_LIST:e="/search-posts?query=".concat(s.query)}return{url:e,name:t.name,pageKey:T.a.getPageKeyFromRoute(t)}}},{key:"getListPosts",value:function(t,e){var i=t.url,n=new v.a("".concat(this.baseUrl()).concat(i));e&&n.set("query",e);var s="get";return t.name===m.a.USER_POST_LIST&&(s="post"),f.a[s](n.toString()).then(function(t){return{url:i,data:t.data.data}}).catch(this.returnError)}}]),e}(g.a);e.a=new E},,,function(t,e,i){"use strict";(function(t,n,s,o,a){i(51),i(128),i(66),i(74);var r=i(13),c=i(23),l=i(5),u=i(174),d=i(100),h=i(253),p=t.extend({},new r.a,{TITLE_LENGTH_WARNING_THRESHOLD:20,_isUploadingImage:!1,_isVerifyingUrl:!1,_verifyUrlAjax:!1,ENTER_KEY:13,COMMA_KEY:188,BACKSPACE_KEY:8,init:function(){if(this._bindElements(),l.a.isUploadPage()){n.OverlayController.showOverlay(n.OverlayController.selectors.OVERLAY_COMPONENT_UPLOAD);var e=t("#jsid-get-url").text(),i=t("#jsid-get-title").text();""!=e?(this.showUploadStep(this.selectors.UPLOAD_URL_STEP),t(this.selectors.UPLOAD_URL_INPUT).val(e),this._validateUrl(),""!=i&&t(this.selectors.UPLOAD_TITLE_INPUT).val(i),this.showUploadStep(this.selectors.UPLOAD_URL_STEP)):this.showUploadStep(this.selectors.UPLOAD_FILE_STEP)}},selectors:{UPLOAD_URL_BTN:"#jsid-upload-url-btn",UPLOAD_FILE_BTN:"#jsid-upload-file-btn",UPLOAD_FILE_BTN_TEXT:".badge-drop-zone-text",UPLOAD_URL_NEXT_BTN:".badge-upload-url-next-btn",UPLOAD_URL_BACK_BTN:".badge-upload-url-back-btn",UPLOAD_INFO_NEXT_BTN:".badge-upload-info-next-btn",UPLOAD_INFO_BACK_BTN:".badge-upload-info-back-btn",UPLOAD_POST_PICK_SECTION_POST_BTN:".badge-upload-pick-section-post-btn",UPLOAD_POST_PICK_SECTION_BACK_BTN:".badge-upload-pick-section-back-btn",UPLOAD_URL_INPUT:"#jsid-upload-url-input",UPLOAD_FILE_INPUT:"#jsid-upload-file-input",UPLOAD_CHAR_COUNT:"#jsid-char-count",UPLOAD_TITLE_INPUT:"#jsid-upload-title",UPLOAD_SOURCE_CHECKBOX:"#jsid-source-checkbox",UPLOAD_SOURCE_CHECKBOX_LABEL:"#jsid-source-checkbox-label",UPLOAD_SOURCE_INPUT:"#jsid-source-input",UPLOAD_SOURCE_CHECKBOX_DIV:"#jsid-source-checkbox-div",UPLOAD_SOURCE_INPUT_TEXTBOX:"#jsid-source-input-textbox",UPLOAD_SUBMIT_BTN:"#jsid-submit-btn",UPLOAD_DISABLE_MASK:"#jsid-disable-mask",UPLOAD_STEP:".badge-upload-step",UPLOAD_FILE_STEP:".badge-upload-file-step",UPLOAD_URL_STEP:".badge-upload-url-step",UPLOAD_INFO_STEP:".badge-upload-info-step",UPLOAD_PICK_SECTION_STEP:".badge-upload-pick-section-step",UPLOAD_FILE_PREVIEW:"#jsid-upload-file-preview",UPLOAD_INFO_MESSAGE:".badge-upload-info-message",UPLOAD_URL_MESSAGE:".badge-upload-url-message",UPLOAD_FILE_ID:"#jsid-upload-file-id",UPLOAD_FILE_CAPTCHA:".badge-upload-captcha",UPLOAD_CSRF_TOKEN:"#jsid-upload-csrf-token",UPLOAD_CONTENT_ERROR_LABEL:"#jsid-upload-content-error",UPLOAD_TITLE_ERROR_LABEL:"#jsid-upload-title-error",UPLOAD_ERROR_LABEL:"#jsid-upload-error",UPLOAD_SECTION_ERROR_LABEL:"#jsid-upload-section-error",UPLOAD_TAG_LIST:".badge-upload-tag-list",UPLOAD_TAG_SCROLL_CONTAINER:".badge-upload-scroll-container",UPLOAD_TAG_INPUT:"#jsid-upload-tag-input",UPLOAD_TAG_FIELD:".badge-upload-tag",UPLOAD_TAG_ITEM:".badge-upload-tag-item",UPLOAD_TAG_REMOVE:".badge-upload-tag-remove",UPLOAD_TAG_STEP:".badge-upload-tag-step",UPLOAD_IS_NSFW:"#jsid-upload-is-nsfw",SECTION_LIST:"#jsid-section-list",SECTION_LIST_ITEMS:".badge-upload-section-list-item",SECTION_LIST_ITEMS_SELECTOR:".badge-upload-section-list-item-selector",SECTION_LIST_ITEMS_PROFILE_ONLY_ITEM:".badge-upload-section-list-profile-only",SECTION_LIST_ITEMS_PROFILE_ONLY_ITEM_SELECTOR:".badge-upload-section-list-item-profile-only",DROPZONE_TEMPLATE:"#jsid-drop-zone-template",DROPZONE_PREVIEW:"#jsid-drop-zone-preview"},css:{METHOD_SELECTED:"upload-selected",TITLE_WARNING:"warn"},showUploadStep:function(e,i){i=i||"",t(this.selectors.UPLOAD_STEP).addClass("hide"),t(e).removeClass("hide"),e===this.selectors.UPLOAD_INFO_STEP?(t(this.selectors.UPLOAD_TITLE_INPUT).focus(),s.get("user.showCaptcha")&&t(this.selectors.UPLOAD_FILE_CAPTCHA).removeClass("hide"),this.showUploadInfoMessage(this.selectors.UPLOAD_INFO_MESSAGE,i)):e===this.selectors.UPLOAD_URL_STEP?(t(this.selectors.UPLOAD_URL_INPUT).focus(),this.showUploadInfoMessage(this.selectors.UPLOAD_URL_MESSAGE,i)):e===this.selectors.UPLOAD_TAG_STEP&&this.showUploadInfoMessage(this.selectors.UPLOAD_INFO_MESSAGE,i)},showUploadInfoMessage:function(e,i){""==i?t(e).addClass("hide"):(t(e).html(i),t(e).removeClass("hide"))},_setCharCount:function(e){var i=t(e.currentTarget),n=parseInt(i.data("maxlength"),10)-i.val().length,s=t(this.selectors.UPLOAD_CHAR_COUNT).text(n);n<=this.TITLE_LENGTH_WARNING_THRESHOLD?s.addClass(this.css.TITLE_WARNING):s.removeClass(this.css.TITLE_WARNING)},_validateUrl:function(e){t(this.selectors.UPLOAD_URL_INPUT).val().length>0&&"Loading"!=t(this.selectors.UPLOAD_URL_NEXT_BTN).text()?t(this.selectors.UPLOAD_URL_NEXT_BTN).removeClass("disabled"):t(this.selectors.UPLOAD_URL_NEXT_BTN).addClass("disabled")},_updateSourceFields:function(e){var i=t(this.selectors.UPLOAD_SOURCE_CHECKBOX),n=t(this.selectors.UPLOAD_SOURCE_INPUT);i.is(":checked")?(n.removeClass("hide"),n.addClass("last"),t(this.selectors.UPLOAD_SOURCE_CHECKBOX_DIV).removeClass("last")):(n.addClass("hide"),n.removeClass("last"),t(this.selectors.UPLOAD_SOURCE_CHECKBOX_DIV).addClass("last"))},_updateSections:function(e){e.preventDefault();var i=p;t(i.selectors.SECTION_LIST).find(i.selectors.SECTION_LIST_ITEMS_SELECTOR).removeClass("selected");var n=0,s=t(e.target).closest(i.selectors.SECTION_LIST_ITEMS);!s.find(i.selectors.SECTION_LIST_ITEMS_SELECTOR).hasClass("selected")&&(n++,s.is(i.selectors.SECTION_LIST_ITEMS_PROFILE_ONLY_ITEM)?t(i.selectors.SECTION_LIST).find(i.selectors.SECTION_LIST_ITEMS_SELECTOR).removeClass("selected"):t(i.selectors.SECTION_LIST_ITEMS_PROFILE_ONLY_ITEM_SELECTOR).removeClass("selected")),n+=t(i.selectors.SECTION_LIST).find(i.selectors.SECTION_LIST_ITEMS_SELECTOR+".selected").length,s.find(i.selectors.SECTION_LIST_ITEMS_SELECTOR).toggleClass("selected"),n>0||t(i.selectors.SECTION_LIST_ITEMS_PROFILE_ONLY_ITEM_SELECTOR).hasClass("selected")?t(i.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).removeClass("disabled"):t(i.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).addClass("disabled")},_getTitleError:function(){var e=t(this.selectors.UPLOAD_TITLE_INPUT).val(),i=t(this.selectors.UPLOAD_TITLE_INPUT).data("minlength"),n=t(this.selectors.UPLOAD_TITLE_INPUT).data("maxlength"),s=e.replace(/[\t!?,:;\-\s\.]/g,"").replace(/[\u2000-\u206F\u2E00-\u2E7F]/g,"");return!e||s.length<i?"Boost your post with a funny, creative and descriptive title!":e.length>n?"Your title is a bit long. Be concise!":void 0},_isValidImageUrl:function(t){return t.toLowerCase().match(/^http(s?):\/\//i)},_isValidImageExtension:function(t){return(t+="").split(".").pop().match(/(jpeg|jpg|gif|png)/i)},initialize:function(){var e=this;if(0==t(this.selectors.DROPZONE_TEMPLATE).length)return!1;new h("html",{url:"/submit/upload-image",thumbnailWidth:600,thumbnailHeight:600,previewsContainer:this.selectors.DROPZONE_PREVIEW,clickable:this.selectors.UPLOAD_FILE_BTN,acceptedMimeTypes:"image/jpeg, image/jpg, image/png, image/gif, video/mp4, video/webm, video/quicktime, video/x-m4v",previewTemplate:t(this.selectors.DROPZONE_TEMPLATE).html(),maxFilesize:e.getMaxFilesize()}).on("dragover",function(t){l.a.isUploadPage()||e._isUploadingImage||n.OverlayController.showOverlay(n.OverlayController.selectors.OVERLAY_COMPONENT_DRAG_AND_DROP)}).on("addedfile",function(i){t(e.selectors.UPLOAD_FILE_PREVIEW).html(o.getSpinnerHtml()),t(e.selectors.UPLOAD_INFO_NEXT_BTN).addClass("disabled"),t(e.selectors.UPLOAD_URL_INPUT).val(""),n.OverlayController.showOverlay(n.OverlayController.selectors.OVERLAY_COMPONENT_UPLOAD),e.showUploadStep(e.selectors.UPLOAD_INFO_STEP),a.track("UploadAction","Upload","Image"),null!=this.files[1]&&this.removeFile(this.files[0])}).on("drop",function(t){if(e._isUploadingImage)return!1;l.a.isUploadPage()||n.OverlayController.hideAllOverlay(),a.track("UploadAction","DragFile","Image"),e._isUploadingImage=!0}).on("success",function(t,i){e.uploadedFile(i,t)}).on("error",function(t,i){e.uploadedFile({okay:!1,message:"Error occurred while uploading photo."},t)}).on("complete",function(t){var i="image/gif"===t.type,n=0==t.type.indexOf("image/")&&!i,o=e.isVideoFile(t);n||o||i?o&&t.size>s.get("configs.maxVideoFilesize")?(e.uploadedFile({okay:!1,message:"File size is too large."},t),a.track("UploadAction","UploadError","ExceedMaxVideoFileSize")):i&&t.size>s.get("configs.maxGifFilesize")?(e.uploadedFile({okay:!1,message:"File size is too large."},t),a.track("UploadAction","UploadError","ExceedMaxGifFileSize")):n&&t.size>s.get("configs.maxFilesize")&&(e.uploadedFile({okay:!1,message:"File size is too large."},t),a.track("UploadAction","UploadError","ExceedMaxFileSize")):(e.uploadedFile({okay:!1,message:"Unsupported type."},t),a.track("UploadAction","UploadError","UnSupportedType")),e._isUploadingImage=!1})},getMaxFilesize:function(){return Math.max(s.get("configs.maxFilesize"),s.get("configs.maxVideoFilesize"))/1024/1024},isVideoFile:function(t){return 0==t.type.indexOf("video/")},uploadedFile:function(e,i){if(e.okay){if(this.isVideoFile(i)){var n=URL.createObjectURL(i);this.updatePreviewHotlink("video",n)}else t(this.selectors.UPLOAD_FILE_PREVIEW).html(t(this.selectors.DROPZONE_PREVIEW).html());t(".dz-image").removeClass("hide"),t(this.selectors.UPLOAD_INFO_NEXT_BTN).removeClass("disabled"),t(this.selectors.UPLOAD_FILE_ID).val(e.uploadId),t(this.selectors.UPLOAD_CSRF_TOKEN).val(e.csrftoken)}else t(this.selectors.UPLOAD_FILE_PREVIEW).html(""),e.message&&""!=e.message&&this.showUploadStep(this.selectors.UPLOAD_INFO_STEP,e.message);t(this.selectors.UPLOAD_FILE_PREVIEW).removeClass("uploading")},urlNext:function(){var e=t(this.selectors.UPLOAD_URL_INPUT).val();e.length&&(this._isValidImageUrl(e)?this.ajaxVerifyUrl(e):this.showUploadStep(this.selectors.UPLOAD_URL_STEP,"Invalid URL."))},ajaxVerifyUrl:function(e){var i=this;if(!this._isVerifyingUrl){this._isVerifyingUrl=!0,t(this.selectors.UPLOAD_URL_NEXT_BTN).addClass("disabled").text("Loading");var n={url:e};this._verifyUrlAjax=t.ajax({type:"POST",dataType:"json",url:"/submit/verify-url",data:n,success:function(e){e.okay?(i.showUploadStep(p.selectors.UPLOAD_INFO_STEP),a.track("UploadAction","Upload","Url"),t(i.selectors.UPLOAD_INFO_NEXT_BTN).removeClass("disabled"),e.previewType&&e.previewUrl&&""!=e.previewType&&""!=e.previewUrl?i.updatePreviewHotlink(e.previewType,e.previewUrl):i.updatePreviewHotlink(),t(i.selectors.UPLOAD_CSRF_TOKEN).val(e.csrftoken),t(i.selectors.UPLOAD_FILE_ID).val(e.uploadId)):e.message&&""!=e.message&&i.showUploadStep(p.selectors.UPLOAD_URL_STEP,e.message)},error:function(t,e){"abort"!=e&&i.showUploadStep(p.selectors.UPLOAD_URL_STEP,"Error occurred.")},complete:function(){t(i.selectors.UPLOAD_URL_NEXT_BTN).removeClass("disabled").text("Next"),i._isVerifyingUrl=!1}})}},updatePreviewHotlink:function(e,i){"photo"==e?t(this.selectors.UPLOAD_FILE_PREVIEW).html('<img src="'+i+'" />'):"video"==e?t(this.selectors.UPLOAD_FILE_PREVIEW).html('<video src="'+i+'" muted />'):t(this.selectors.UPLOAD_FILE_PREVIEW).html("")},validateUploadInfo:function(){var e=this._getTitleError(),i=this._checkTagField();return e?(this.showUploadStep(this.selectors.UPLOAD_INFO_STEP,e),!1):s.get("user.showCaptcha")&&!t("[name=g-recaptcha-response]",this.selectors.UPLOAD_INFO_STEP).val()?(this.showUploadStep(this.selectors.UPLOAD_INFO_STEP,"Wrong CAPTCHA."),!1):!i},_checkTagField:function(){var e=t(this.selectors.UPLOAD_TAG_LIST).children().length,i=t(this.selectors.UPLOAD_TAG_INPUT);if(e<i.data("countmax")&&i.show(),0===e&&i.attr("placeholder",i.data("placeholder")),e>i.data("countmax"))return!1;t(this.selectors.UPLOAD_TAG_LIST).children().each(function(){var e=t(this).data("tag").length;if(e<i.data("lengthmin")||e>i.data("lengthmax"))return!1})},_bindElements:function(){var e=this;t(this.selectors.UPLOAD_FILE_BTN).on("click",t.proxy(function(t){a.track("UploadAction","TapSelectImage")},this)),t(this.selectors.UPLOAD_URL_BTN).on("click",t.proxy(function(t){t.preventDefault(),e.showUploadStep(this.selectors.UPLOAD_URL_STEP),a.track("UploadAction","TapAddUrl")},this)),t(this.selectors.UPLOAD_URL_NEXT_BTN).on("click",t.proxy(function(t){t.preventDefault(),e.urlNext()},this)),t(this.selectors.UPLOAD_INFO_NEXT_BTN).on("click",t.proxy(function(i){return i.preventDefault(),!t(i.target).hasClass("disabled")&&(!!e.validateUploadInfo()&&(e.showUploadStep(this.selectors.UPLOAD_PICK_SECTION_STEP),void a.track("UploadAction","SubmitPostTitle")))},this)),t(this.selectors.UPLOAD_URL_BACK_BTN).on("click",t.proxy(function(t){t.preventDefault(),e.showUploadStep(this.selectors.UPLOAD_FILE_STEP),e._verifyUrlAjax&&4!=e._verifyUrlAjax.readyState&&e._verifyUrlAjax.abort()},this)),t(this.selectors.UPLOAD_INFO_BACK_BTN).on("click",t.proxy(function(t){t.preventDefault(),e.showUploadStep(this.selectors.UPLOAD_FILE_STEP)},this)),t(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).on("click",t.proxy(function(t){t.preventDefault(),e.submitUpload(),a.track("UploadAction","SubmitUpload")},this)),t(this.selectors.UPLOAD_POST_PICK_SECTION_BACK_BTN).on("click",t.proxy(function(t){t.preventDefault(),e.showUploadStep(this.selectors.UPLOAD_INFO_STEP)},this)),t(this.selectors.UPLOAD_FILE_PREVIEW).on("click",t.proxy(function(i){if(i.preventDefault(),null!=t(e.selectors.UPLOAD_FILE_PREVIEW).find("img, video").attr("src")){var n=t(e.selectors.UPLOAD_FILE_PREVIEW).find("img, video").clone().prop("autoplay",!0);e.showPostZoomOverlay(n),a.track("UploadAction","TapPreviewImage")}})),t(this.selectors.UPLOAD_URL_INPUT).keypress(function(t){13==t.which&&e.urlNext(),t.stopPropagation()}).on("paste",function(t){setTimeout(function(){e.urlNext()},50),t.stopPropagation()}),t(this.selectors.UPLOAD_TAG_INPUT).keydown(function(i){if(i.which===e.COMMA_KEY&&i.preventDefault(),i.which===e.ENTER_KEY||i.which===e.COMMA_KEY){var n=t(this).val().trim();if(""===n)return;var s="";if(n.match(/[,~`!@#$%^&*(){}[\];:"'<.>?\/\\|_+=]/)&&(s="Oops! Tags can contain alphanumerics, numbers and spaces only!"),n.length<t(this).data("lengthmin")&&(s="Oops! Tag is too short"),n.length>t(this).data("lengthmax")&&(s="Oops! Tag is too long"),e.showUploadStep(e.selectors.UPLOAD_TAG_STEP,s),""!==s)return;t(e.selectors.UPLOAD_TAG_LIST).append('<span class="tag tag-item badge-upload-tag-item" data-tag="'+n+'">'+n+'<span class="remove badge-upload-tag-remove">&times;</span></span>'),t(this).val(""),t(this).removeAttr("placeholder");var o=t(e.selectors.UPLOAD_TAG_SCROLL_CONTAINER).width();t(e.selectors.UPLOAD_TAG_SCROLL_CONTAINER).scrollLeft(o),t(e.selectors.UPLOAD_TAG_LIST).children().length===t(this).data("countmax")&&t(this).hide()}if(i.which===e.BACKSPACE_KEY&&""===t(e.selectors.UPLOAD_TAG_INPUT).val()){var a=t(e.selectors.UPLOAD_TAG_LIST).children().length;a>0&&t(e.selectors.UPLOAD_TAG_LIST+" span:nth-child("+a+")").remove(),e._checkTagField()}}),t(this.selectors.UPLOAD_TAG_FIELD).on("click",this.selectors.UPLOAD_TAG_REMOVE,function(i){t(this).parent().remove(),e._checkTagField()}),t(this.selectors.UPLOAD_TITLE_INPUT).on("keydown input",t.proxy(function(e){setTimeout(t.proxy(this._setCharCount,this,e),50)},this)),t(this.selectors.UPLOAD_URL_INPUT).on("keydown input",t.proxy(function(e){setTimeout(t.proxy(this._validateUrl,this,e),50)},this)),t(this.selectors.UPLOAD_SOURCE_CHECKBOX).on("change",t.proxy(this._updateSourceFields,this)),t(this.selectors.SECTION_LIST_ITEMS).on("click",this._updateSections)},showPostZoomOverlay:function(e){t(c.a.selectors.MODAL_POST_ZOOM_CONTAINER).find(".badge-post-zoom-img").html(e),t(c.a.selectors.MODAL_POST_ZOOM_CONTAINER).find("video").prop({loop:!0}),c.a.showOverlay(c.a.selectors.MODAL_POST_ZOOM_CONTAINER),c.a._hideAllOverlayReturnToUpload=!0,c.a.setHideUsingBackground(!0)},submitUpload:function(){var e=this,i=t(this.selectors.UPLOAD_TITLE_INPUT).val(),s=0;t(this.selectors.UPLOAD_IS_NSFW).is(":checked")&&(s=1);var o=t(this.selectors.UPLOAD_FILE_ID).val(),a=this.getSelectedSectionUrls(),r=t(this.selectors.UPLOAD_SOURCE_INPUT_TEXTBOX).val(),c=t("[name=g-recaptcha-response]",this.selectors.UPLOAD_INFO_STEP).val(),l=t(this.selectors.UPLOAD_CSRF_TOKEN).val(),h=0,f=[];t(this.selectors.UPLOAD_TAG_LIST).children().each(function(){f.push(t(this).data("tag"))}),f=f.join(","),t(this.selectors.SECTION_LIST_ITEMS_PROFILE_ONLY_ITEM_SELECTOR).hasClass("selected")&&(h=1);var g={title:i,nsfw:s,uploadId:o,type:"Photo",section:a,source:r,"g-recaptcha-response":c,csrftoken:l,skipFromLists:h,tags:f};t(this.selectors.SECTION_LIST).addClass("disabled"),t(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).addClass("disabled"),t(this.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).text("Posting"),t(this.selectors.UPLOAD_POST_PICK_SECTION_BACK_BTN).addClass("disabled"),t(n.OverlayController.selectors.OVERLAY_CLOSE_BUTTON).addClass("hide");var m=function(i){var s=i&&i.message&&i.message.length?i.message:"Error occurred. Please try again.";e.showUploadStep(p.selectors.UPLOAD_INFO_STEP,s),t(e.selectors.SECTION_LIST).removeClass("disabled"),t(e.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).removeClass("disabled"),t(e.selectors.UPLOAD_POST_PICK_SECTION_POST_BTN).text("Post"),t(e.selectors.UPLOAD_POST_PICK_SECTION_BACK_BTN).removeClass("disabled"),t(n.OverlayController.selectors.OVERLAY_CLOSE_BUTTON).removeClass("hide")};t.ajax({type:"POST",dataType:"json",url:"/submit",data:g,success:function(t){if(t.okay)return u.a.clearCache(),d.a.clearCache(),void(window.location.href=t.postUrl);m(t)},error:function(){m()}})},getSelectedSectionUrls:function(){var e=[];return t(this.selectors.SECTION_LIST).find(this.selectors.SECTION_LIST_ITEMS_SELECTOR+".selected").each(function(i,n){e.push(t(n).data("url"))}),e},updateMyProfileOnlyIcon:function(e){null!=e?t(this.selectors.SECTION_LIST_ITEMS_PROFILE_ONLY_ITEM).find(".icon").html('<img src="'+e+'"/>'):t(this.selectors.SECTION_LIST_ITEMS_PROFILE_ONLY_ITEM).find(".icon").html("")}});e.a=p}).call(this,i(6),i(31).default,i(34).default,i(16).default,i(21).default)},,,function(t,e,i){"use strict";(function(t,n,s,o){var a=i(13),r=i(168),c=i(114),l=t.extend({},new a.a,{DELAY:1e3,INIT_DELAY:2e3,_lastBadgetTs:!1,_minBadgeInterval:5e3,_regularLongPollingInterval:18e4,_checkUpdateQueueInterval:1e3,_isRequestingUpdate:!1,unreadCount:0,init:function(){},onWindowLoad:function(){n.get("user.id")&&setTimeout(t.proxy(function(){this._initPush(),this._initBadgeUpdate()},this),this.INIT_DELAY)},selectors:{NOTIFICATION_UNREAD_COUNT:"#jsid-notification-unread-count"},_pullNotificatons:function(e){t(this.selectors.NOTIFICATION_UNREAD_COUNT)&&this.putToUpdateQueue(e)},_initPush:function(){var t=c.a.getPushStreamOptions();if(t.host&&t.port){var e=new PushStream(t);e.onmessage=function(t,e,i){var n={type:"noti",message:t,id:e,channel:i};s.log(n),l._pullNotificatons(n)};var i=n.get("user.noti.channels");if(i instanceof Array)for(var o=0;o<i.length;o++)e.addChannel(i[o]),s.log(i[o]);e.connect()}},_updateQueue:[],putToUpdateQueue:function(t){this._updateQueue.push(t)},getNsReadStateCb:function(e,i){this._isRequestingUpdate=!1,this._lastBadgetTs=(new Date).getTime(),e&&"OK"==e.status?this.unreadCount!=e.payload.unreadCount&&(i&&(t(o.PageController.selectors.HEADER_NOTIFICATION_CONTAINER).empty(),o.PageController.getNotifications()),this.updateNotificationUnreadCount(e.payload.unreadCount)):this._isRequestingUpdate=!1},_getNsReadState:function(){var e=c.a.getReadStateUrl()+"?"+n.get("user.noti.read_state_params");this._isRequestingUpdate=!0;t.ajax({url:e,type:"GET",dataType:"jsonp",success:function(t){l.getNsReadStateCb(t,!0)}})},getNotificationBadge:function(){if(!this._isRequestingUpdate)return this._getNsReadState()},updateNotificationUnreadCount:function(e){var i=t(this.selectors.NOTIFICATION_UNREAD_COUNT);if(i){if(e>0){this.unreadCount=e,i.text(e),i.addClass("new");var n=e+" unread messages. \nClick to read detail.";1==e&&(n=e+" unread message. \nClick to read detail."),r.a.show(n)}else this.unreadCount=0,i.text(""),i.removeClass("new");o.PageController.refreshPageTitle()}},checkUpdateQueue:function(){this._updateQueue.length>0&&(this._updateQueue=[],this.getNotificationBadge())},processUpdateQueue:function(){var t=(new Date).getTime();(!this._lastBadgetTs||t-this._lastBadgetTs>=this._minBadgeInterval)&&this.checkUpdateQueue()},addRegularLongPolling:function(){this.putToUpdateQueue({})},scheduleRegularLongPolling:function(){this.addRegularLongPolling(),this._regularLongPollingInterval=1.5*this._regularLongPollingInterval,setTimeout(this.scheduleRegularLongPolling.bind(this),this._regularLongPollingInterval)},_initBadgeUpdate:function(){setInterval(this.processUpdateQueue.bind(this),this._checkUpdateQueueInterval),setTimeout(this.scheduleRegularLongPolling.bind(this),this._regularLongPollingInterval)}});e.a=l}).call(this,i(6),i(34).default,i(14).default,i(31).default)},function(t,e,i){"use strict";(function(t){var n=i(138);e.a={setPageTitle:function(t,e){n.a.setPageTitle(t,e)},hideSearchInput:function(){var e=t.PageController;e.hideMenu(e.selectors.HEADER_SEARCH_DROPDOWN)},updateSearchInput:function(t){document.getElementById("jsid-search-input").value=t}}}).call(this,i(31).default)},,,,function(t,e,i){"use strict";i(347);var n=i(5),s={props:["postId","position","eventKey"],computed:{getEntryEventParams:function(){return"".concat("PostList",",").concat("TapPost",",").concat(n.a.getPageKey(),",").concat("",",").concat(this.eventKey)}},methods:{click:function(){this.$refs.anchor.click()}}},o=i(1),a=Object(o.a)(s,function(){var t=this.$createElement;return(this._self._c||t)("a",{ref:"anchor",attrs:{"data-evt":this.getEntryEventParams,"data-entry-id":this.postId,"data-position":this.position}},[this._t("default")],2)},[],!1,null,null,null);e.a=a.exports},,,function(t,e,i){"use strict";(function(t,n,s){var o=i(48),a=t.extend({},new o.a,{storageImpl:{},sessionStorageImpl:{},init:function(){this.storageImpl=n.getStore();var t=!1;try{window.sessionStorage&&(sessionStorage.setItem("9gagTestStorage",""),sessionStorage.removeItem("9gagTestStorage"),this.sessionStorageImpl=sessionStorage,t=!0)}catch(t){s.log("Session Storage is not available, use non-persistent storage instead")}t||(this.sessionStorageImpl=this.nonPersistentLS)}});e.a=a}).call(this,i(6),i(236).default,i(14).default)},,,function(t,e,i){"use strict";i.r(e),function(t,n){i(35),i(91),i(18),i(30);var s=i(218),o=i(217),a=i(178),r={_pageViewTracked:!1,_filters:[],push:function(t){window._paq=window._paq||[],window._paq.push(t)},addFilter:function(t){t&&this._filters.push(t)},trackEvent:function(t,e,i,n,s,r){var c=new a.a(t,e,i,n,s,r),l=[];if(this._filters&&this._filters.length>0){for(var u=0;u<this._filters.length;u++)c=this._filters[u].filterEvent(c);c&&l.push(c)}else l.push(c);for(u=0;u<l.length;u++){var d=l[u];o.a.aggregate(d)||this._trackEvent(d)}},_trackEvent:function(e){var i=e.category,n=e.action,s=e.name,o=e.value,a=e.cvars,c=e.customUrl,l=void 0!=c?c:document.location.href;this.push(["setCustomUrl",l]),a=a||{};var u=0;for(Object.keys(a).forEach(function(t){r.push(["setCustomVariable",++u,t,a[t],"event"])}),void 0==o&&(o=1),this.push(["trackEvent",i,n,s,o]),u=1;u<=Object.keys(a).length;u++)r.push(["deleteCustomVariable",u,"event"]);t.uniqueViewed(e)},setUserId:function(t){this.push(["setUserId",""+t])},trackPageView:function(){this._pageViewTracked||(this.push(["trackPageView"]),this._pageViewTracked=!0)}};n.log("PiwikUtilsSessionFilter",s.a),o.a.setTrackEventHandler(r._trackEvent.bind(r)),r.addFilter(s.a),e.default=r}.call(this,i(92).default,i(14).default)},,,,,,,,function(t,e,i){"use strict";(function(t,n,s,o){var a=i(27),r=i(5),c={_xfbmlRenderItems:[],_asyncInited:!1,init:function(){},asyncInit:function(){this._asyncInited=!0,this.initApp(),this.executeRenderQueue(),this.subscribeLike()},initApp:function(){var e=t.get("configs.facebook");FB.init({appId:e.appId,version:e.version,xfbml:!1,status:!0,cookie:!0}),this._checkFacebookLoginStatus()},sessionChangeHandler:function(t){t&&("connected"===t.status?t.authResponse&&c.autoLogin():t.status)},_checkFacebookLoginStatus:function(){FB.getLoginStatus(c.sessionChangeHandler),FB.Event.subscribe("auth.authResponseChange",c.sessionChangeHandler)},executeRenderQueue:function(){for(var t=0;t<this._xfbmlRenderItems.length;t++){var e=this._xfbmlRenderItems[t];this.parseElement(e.el,e.callback)}},renderElement:function(t,e){this._asyncInited?this.parseElement(t,e):this._xfbmlRenderItems.push({el:t,callback:e})},parseElement:function(t,e){var i=t instanceof HTMLElement?t:document.getElementById(t);if(i)try{e?FB.XFBML.parse(i,e):FB.XFBML.parse(i)}catch(t){}},autoConnectKey:"auto_log",autoLogin:function(){if(!a.a.isLoggedIn()&&n.isCookieEnabled()){var t=s.cookie(c.autoConnectKey),e={a:!1,d:!1,lo:!1,dl:!1};if((t||!1===t)&&(e=JSON.parse(t)),null!=e){if(e.a)return;if(!e.dl&&(e.lo||e.d))return}o.track("Login","AutoConnectFacebook",r.a.getPageKey()),e.a=!0;var i=JSON.stringify(e);s.cookie(c.autoConnectKey,i,r.a.getCookieOptions());c.Connect.autoLogin(location.href)}},subscribeLike:function(){FB.Event.subscribe("edge.create",function(t){o.track("Social","LikeFacebook",r.a.getPageKey(),"",{Url:t})})},Connect:{autoLogin:function(t){try{void 0!=t&&null!=t||(t="/");var e="https://".concat(r.a.getDomain(),"/connect/auto-login?next=").concat(encodeURIComponent(t));window.location=e}catch(t){return}}}};window.fbAsyncInit=function(){c.asyncInit()},e.a=c}).call(this,i(34).default,i(16).default,i(6),i(21).default)},function(t,e,i){"use strict";(function(t,n,s){i(50),i(51),i(30),i(26),i(25);var o=i(7),a=i(310),r=i(267),c=i(104),l=i(283),u=i(272),d=i(4),h=i(65),p=i(289),f=i(2),g=i(28),m=i(5),_=i(287),v=i(11);o.a.use(a.a);var T=new a.a({mode:"history",fallback:!1,routes:[{path:"/gag/:postId/:title?",component:r.a,name:d.a.POST_PAGE},{path:"/u/:username/:type(overview|posts|likes|comments)?",component:c.a,name:d.a.USER_POST_LIST},{path:"/tag/:tag/:type(hot|fresh)?",component:c.a,name:d.a.TAG_POST_LIST},{path:"/search",component:c.a,name:d.a.SEARCH_POST_LIST},{path:"/login",component:l.a,name:d.a.LOGIN_PAGE},{path:"/signup",component:u.a,name:d.a.SIGNUP_PAGE},{path:"/:type(hot|fresh|trending)?",component:c.a,name:d.a.POST_LIST},{path:"/:section/:type(hot|fresh)?",alias:"/gag/:postId/sc/:section",component:c.a,name:d.a.SECTION_POST_LIST}],scrollBehavior:function(t,e,i){if(!!i&&d.a.LIST_VIEWS.includes(e.name)&&t.name===d.a.POST_PAGE){var n=v.a.state.post.postApiInfos[t.params.postId];n&&v.a.commit("post/SET_CURRENT_API_INFO",n)}return t.hash?{selector:t.hash.split("=")[0]}:i&&d.a.LIST_VIEWS.includes(t.name)?new Promise(function(t,e){setTimeout(function(){t(i)},200)}):{x:0,y:0}}});Object(_.sync)(v.a,T);T.beforeEach(function(t,e,i){d.a.LIST_VIEWS.includes(t.name)&&e.name===d.a.POST_PAGE&&v.a.commit("post/SAVE_POST_API_INFO",e.params.postId),i()});T.afterEach(function(e,i){o.a.nextTick(function(){var i=e.hash.substr(1);0===i.indexOf("cs_comment_id")&&(i="comment"),setTimeout(function(){var e=document.getElementById(i);e&&t.scrollTo(e.offsetTop)},100)})});T.afterEach(function(t,e){if(m.a.setRouteInfo(t),p.a.setTargeting(t,e),f.a.$Progress.finish(),null!==e.name){switch(h.a.hideSearchInput(),h.a.updateSearchInput(""),g.a.switchAdView(),t.name){case d.a.POST_LIST:h.a.setPageTitle(t.params.type);break;case d.a.SEARCH_POST_LIST:h.a.setPageTitle();break;case d.a.POST_PAGE:var i=v.a.getters["post/GET_POST"](t.params.postId).title;i&&h.a.setPageTitle("post",i);break;case d.a.SECTION_POST_LIST:var o=v.a.getters["section/GET_SECTION"](t.params.section).name;o&&h.a.setPageTitle("section",o);break;case d.a.TAG_POST_LIST:var a=v.a.getters["tag/TAG_NAV"].key;a&&h.a.setPageTitle("tag",a);break;case d.a.USER_POST_LIST:var r=v.a.getters["profile/GET_PROFILE_BY_USERNAME"](t.params.username).fullName;r&&h.a.setPageTitle("u",r)}t.path===e.path&&t.hash!==e.hash||(n.trackPageView(t.fullPath),s.firePageviewCandidate())}}),e.a=T}).call(this,i(16).default,i(21).default,i(229).default)},,function(t,e,i){"use strict";e.a={RELATED:"related",FEATURED:"featured"}},function(t,e,i){"use strict";(function(t,n){var s=i(48),o=t.extend({},new s.a,{API:{URL_LIKE:"/vote/like",URL_DISLIKE:"/vote/dislike",URL_UNLIKE:"/vote/unlike"},_requests:{},_isRequesting:!1,init:function(){},_submitRequest:function(e,i,s,o){if(void 0!==i){this._isRequesting;var a={id:i};t.ajax({type:"POST",url:e,data:a,beforeSend:function(){this._isRequesting=!0,"function"==typeof s&&s(i)},complete:function(){this._isRequesting=!1},success:function(t){var e=n.parseJsonString(t);e.id&&e.msg?"function"==typeof s&&s(i):"function"==typeof o&&o(i)},error:function(t){"function"==typeof o&&o(i)}})}},like:function(t,e,i){this._submitRequest(this.API.URL_LIKE,t,e,i)},unlike:function(t,e,i){this._submitRequest(this.API.URL_UNLIKE,t,e,i)},dislike:function(t,e,i){this._submitRequest(this.API.URL_DISLIKE,t,e,i)}});e.a=o}).call(this,i(6),i(16).default)},function(t,e,i){"use strict";(function(t){i(90),i(89),i(18);var n={track:function(e,i,n){try{if(t.log("Tracking GA: "+e+","+i+","+n),void 0==window._ga&&ga("send","event",e,i,n),window._ga&&window._ga instanceof Array)for(var s=0;s<window._ga.length;s++){var o=window._ga[s];ga(o+".send","event",e,i,n)}}catch(t){}},trackPageView:function(e){try{if(t.log("Tracking GA: PageView "+e),ga("set","page",e),ga("send","pageview"),window._ga&&window._ga instanceof Array)for(var i=0;i<window._ga.length;i++){var n=window._ga[i];ga(n+".set","page",e),ga(n+".send","pageview")}}catch(t){}},trackException:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(t.log("Tracking GA: Exception "+e),ga("send","exception",{exDescription:e,exFatal:i}),window._ga&&window._ga instanceof Array)for(var n=0;n<window._ga.length;n++){var s=window._ga[n];ga(s+".send","exception",{exDescription:e,exFatal:i})}}catch(t){}},setUserId:function(e){if(e){t.log("GA setUserId: ".concat(e));try{ga("set","&uid",e);var i=!0,n=!1,s=void 0;try{for(var o,a=(window._ga||[])[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value;ga("".concat(r,".set"),"&uid",e)}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}}catch(t){}}}};e.a=n}).call(this,i(14).default)},,,,function(t,e,i){"use strict";i.r(e),function(t){i(190),i(30),i(74),i(51);var n=i(103),s=i.n(n),o=i(19),a=i.n(o),r={trackUrl:"//t.9gag.com/img.gif",rlogTrackUrl:"//web-t.9gag.com/img.gif",rlogUrl:"//web-t.9gag.com/m.gif",appId:"web.9gag.desktop.release",appVersion:"0",init:function(t){this.trackUrl=t.trackUrl||this.trackUrl,this.rlogTrackUrl=t.rlogTrackUrl||this.rlogTrackUrl,this.rlogUrl=t.rlogUrl||this.rlogUrl,this.appId=t.appId||this.appId,this.appVersion=t.appVersion||this.appVersion},setUser:function(t){this.user=t},uniqueViewed:function(t){if("PostImpression"==t.category&&"ViewPostForOneSecond"==t.action&&t.cvars&&t.cvars.PostKey&&t.cvars.TriggeredPage){var e=t.cvars.PostKey;try{e=JSON.parse(t.cvars.PostKey),Array.isArray(e)&&(e=e.join(","))}catch(t){}r.event("unique-viewed","v",{entry:e,platform:-1!=this.appId.indexOf("desktop")?"d":"m",view:"SinglePost"==t.cvars.TriggeredPage?"p":"l"})}},event:function(t,e,i){var n={action:t,value:e,ref:"",label:void 0===i.label?"":i.label,labelValue:void 0===i.labelValue?"":i.labelValue,platform:void 0===i.platform?"":i.platform,entry:void 0===i.entry?"":i.entry,user:void 0===i.user?"":i.user,view:void 0===i.view?"":i.view};(n.ref=r._getQueryStringParam("ref"),(new Image).src=r._formatUrl(n),"unique-viewed"!==t)&&((new Image).src=r._formatUrl(n,r.rlogTrackUrl))},_getQueryStringParam:function(t){for(var e=window.location.href.split(/[\?&]+/),i=0;i<e.length;i++){var n=e[i].split("=");if(n[0]==t)return n[1]}return""},_formatUrl:function(t,e){var i=e||r.trackUrl,n="",s=[];t&&(void 0!=t.action&&null!=t.action&&s.push("a="+encodeURIComponent(t.action)),void 0!=t.value&&null!=t.value&&s.push("v="+encodeURIComponent(t.value)),void 0!=t.ref&&null!=t.ref&&s.push("ref="+encodeURIComponent(t.ref)),void 0!=t.label&&null!=t.label&&s.push("lbl="+encodeURIComponent(t.label)),void 0!=t.labelValue&&null!=t.labelValue&&s.push("lblv="+encodeURIComponent(t.labelValue)),void 0!=t.platform&&null!=t.platform&&s.push("p="+encodeURIComponent(t.platform)),void 0!=t.entry&&null!=t.entry&&s.push("e="+encodeURIComponent(t.entry)),void 0!=t.user&&null!=t.user&&s.push("u="+encodeURIComponent(t.user)),void 0!=t.view&&null!=t.view&&s.push("w="+encodeURIComponent(t.view))),s.push("url="+encodeURIComponent(r._getUrl())),s.push("referrer="+encodeURIComponent(r._getReferrer())),s.push("t="+encodeURIComponent(r._getTime()));for(var o=0;o<s.length;o++)n+=s[o]+"&";return i+="?"+n},_getUrl:function(){return location.href},_getReferrer:function(){return document.referrer},_getTime:function(){var t=new Date,e=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return Math.round(e.getTime()/1e3)},logTime:function(t,e){var i=s.a.getItem("____lo")||"O1",n={a:r.appId,v:parseInt(r.appVersion),t:Math.round(e),k:t+"."+i,g:"USER_EXPERIENCE"},o=r.rlogUrl+"?"+a.a.stringify(n);(new Image).src=o},logLatencyIfSane:function(e,i,n){var s=n-i;i>0&&n>0&&s>0&&s<6e5&&(t.log("LatencyTracking: "+e+":"+s.toFixed(2)),r.logTime(e,s))},logCount:function(t,e){var i=s.a.getItem("____lo")||"O1",n={a:r.appId,v:parseInt(r.appVersion),c:e,k:t+"."+i,g:"USER_EXPERIENCE",_uniq:Math.random()+ +new Date},o=r.rlogUrl+"?"+a.a.stringify(n);(new Image).src=o},logException:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=s.a.getItem("ts1")||"";window.Piwik&&window.Piwik.getTracker&&(i=window.Piwik.getTracker().getVisitorId());var n=this.user&&this.user.username||"",o="".concat(navigator.userAgent,"\n\n").concat(e.info||""),c={a:r.appId,v:parseInt(r.appVersion),i:i,u:n,m:t,if:o,k:"ERROR",g:"USER_EXPERIENCE"},l=r.rlogUrl+"?"+a.a.stringify(c);(new Image).src=l},profileUrlLoadTime:function(t,e){if(r._shouldTrackPerformance()){var i=new Image;i.onload=function(){r.trackUrlTiming(t,e)},i.src=t}},trackUrlTiming:function(t,e){var i=performance.getEntriesByName(t);if(i&&i[0]){var n=i[0].requestStart,s=i[0].responseEnd;r.logLatencyIfSane("DELAY_TXFR_"+e,n,s);var o=i[0].connectStart,a=i[0].connectEnd;r.logLatencyIfSane("DELAY_CONN_"+e,o,a)}},reportPerf:function(){setTimeout(function(){r.profilePageLoadTime()},1),setTimeout(function(){r.profileAssetsLoadTime()},1)},_shouldTrackPerformance:function(){return performance&&performance.getEntriesByType&&performance.navigation&&performance.timing&&0==performance.navigation.type},profilePageLoadTime:function(){if(r._shouldTrackPerformance()&&"/"==window.location.pathname){var t=performance.timing.domComplete,e=performance.timing.navigationStart;r.logLatencyIfSane("PAGE_DELAY",e,t)}},profileAssetsLoadTime:function(){if(r._shouldTrackPerformance()){var e=window.performance.getEntriesByType("resource").find(function(t){return t&&t.name&&t.name.endsWith("gag.css")});e&&e.name&&e.transferSize>0&&(t.log("Main CSS resource is :",e),setTimeout(function(){r.trackUrlTiming(e.name,"MAINCSS")},1))}},downloadFail:function(t){setTimeout(function(){r.logCount("DOWNLOAD_FAIL",1)},1)}};e.default=r}.call(this,i(14).default)},,,function(t,e,i){"use strict";var n=i(8),s=i(83),o=i(5),a={props:["isLogin","nextUrl"],mixins:[n.a],computed:{trackCategory:function(){return this.isLogin?"Login":"SignUp"},next:function(){return this.nextUrl?this.nextUrl:this.$route?this.$route.fullPath:"/"},facebookUrl:function(){return"/connect/facebook?next=".concat(encodeURIComponent(this.next))},googleUrl:function(){return"/connect/google-plus?next=".concat(encodeURIComponent(this.next))}},methods:{onFbConnect:function(){this.track(this.trackCategory,"ConnectFacebook");var t=JSON.stringify({a:!1,d:!1,lo:!1,dl:!1});this.$cookie.set(s.a.autoConnectKey,t,o.a.getCookieOptions())},onGPlusConnect:function(){this.track(this.trackCategory,"ConnectGoogle")}}},r=i(1),c=Object(r.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"social-signup"},[e("a",{staticClass:"btn-connect-option facebook",attrs:{href:this.facebookUrl},on:{click:this.onFbConnect}},[this._v("\n        Facebook\n    ")]),this._v(" "),e("a",{staticClass:"btn-connect-option google-plus",attrs:{href:this.googleUrl},on:{click:this.onGPlusConnect}},[this._v("\n        Google\n    ")])])},[],!1,null,null,null);e.a=c.exports},function(t,e,i){"use strict";(function(t){var n=i(2);e.a={methods:{tabChanged:function(){n.a.$emit("post::tabChangeAction")}},created:function(){t.PageController.tabVisibilityChange(this.tabChanged)},destroyed:function(){t.PageController.removeTabVisibilityChange(this.tabChanged)}}}).call(this,i(31).default)},function(t,e,i){"use strict";e.a={data:function(){return{showMenu:!1}},methods:{onOpenMenu:function(){},onHideMenu:function(){},insideMenu:function(t){return!1},clickMenu:function(t){this.showMenu||(t.preventDefault(),t.stopPropagation(),this.showMenu=!0,window.addEventListener("click",this.hideIfOutside),this.onOpenMenu())},hideIfOutside:function(t){for(var e=t.target||t.srcElement;e;){if(this.insideMenu(e))return;e=e.parentNode}this.hideMenu(),this.onHideMenu()},hideMenu:function(){this.showMenu&&(window.removeEventListener("click",this.hideIfOutside),this.showMenu=!1)}},destroyed:function(){this.hideMenu()}}},function(t,e,i){"use strict";i.d(e,"a",function(){return l});i(50);var n=i(0),s=i.n(n),o=i(10),a=i.n(o),r=i(9),c=i.n(r),l=function(){function t(){a()(this,t),this.options={version:"v1"}}return c()(t,[{key:"init",value:function(t){this.options=s()({},this.options,t)}},{key:"baseUrl",value:function(){return"/".concat(this.options.version)}},{key:"returnError",value:function(t){return Promise.reject(t)}}]),t}()},,function(t,e,i){"use strict";(function(t){var n=i(38),s=t.extend({},n.a,{cacheKey:"cacheableVote",cacheTTL:1800,formatRemoteParams:function(t){return{action:"vote",params:{}}},addToCache:function(e){var i=this.getFromCache();return null===i&&(i={}),t.each(e,function(t,e){i[t]=e}),this.updateCache(i,!1)},removeFromCache:function(t){return!1}});e.a=s}).call(this,i(6))},function(t,e,i){"use strict";(function(t,n){var s=i(85),o=i.n(s),a=(i(51),function(){var e={_toastMsgCookieKey:"toastMsg",init:function(){},getToast:function(){if(!navigator.cookieEnabled)return{};var i=t.cookie(e._toastMsgCookieKey);if(t.cookie(e._toastMsgCookieKey,0,{expires:-1,domain:n.get("page.cookie_domain"),path:"/"}),!i)return{};if(0==(i=i.split(",")).length)return{};i=i[0];var s=e.mapToastCode(i);return void 0!==s?s:{}},mapToastCode:function(t){var i=e.COLOR,n=e.TEXT,s=e.MAPPING,a={SAFE_MODE_DISABLED:{color:i.COLOR_RED,text:n.SAFE_MODE_DISABLED},POST_REMOVED:{color:i.COLOR_YELLOW,text:n.POST_REMOVED},WELCOME_BACK:{color:i.COLOR_YELLOW,text:n.WELCOME_BACK},WELCOME_TO_9GAG:{color:i.COLOR_YELLOW,text:n.WELCOME_TO_9GAG},POST_DELETED:{color:i.COLOR_YELLOW,text:n.POST_DELETED},PROFILE_SETTING_SAVED:{color:i.COLOR_GREEN,text:n.PROFILE_SETTING_SAVED},PROFILE_SETTING_ERROR:{color:i.COLOR_RED,text:n.PROFILE_SETTING_ERROR},LOGIN_FAILED:{color:i.COLOR_RED,text:n.LOGIN_FAILED},ACCOUNT_DELETED:{color:i.COLOR_YELLOW,text:n.ACCOUNT_DELETED},ACCOUNT_CONFIRM_SENT:{color:i.COLOR_YELLOW,text:n.ACCOUNT_CONFIRM_SENT},ACCOUNT_CONFIRM_ERROR:{color:i.COLOR_RED,text:n.ACCOUNT_CONFIRM_ERROR},ACCOUNT_VERFIY_ERROR:{color:i.COLOR_YELLOW,text:n.ACCOUNT_VERIFY_ERROR},SITE_READ_ONLY_MODE:{color:i.COLOR_YELLOW,text:n.SITE_READ_ONLY_MODE},ACCOUNT_VERIFIED:{color:i.COLOR_YELLOW,text:n.ACCOUNT_VERIFIED},VERIFICATION_EMAIL_EXPIRED:{color:i.COLOR_RED,text:n.VERIFICATION_EMAIL_EXPIRED}};if("undefined"!==!o()(s[t]))return a[s[t]]},COLOR:{COLOR_RED:"red",COLOR_YELLOW:"yellow",COLOR_GREEN:"green",COLOR_BLUE:"blue"},TEXT:{SAFE_MODE_DISABLED:"Sensitive contents are shown",POST_REMOVED:"Ooooops! The post you're looking for has been reported by the community and removed.",WELCOME_BACK:"Awww Yeah! Welcome back.",WELCOME_TO_9GAG:"Me Gusta! Welcome to 9GAG, go have fun now!",POST_DELETED:"The post is removed.",PROFILE_SETTING_SAVED:"Your settings have been saved.",PROFILE_SETTING_ERROR:"Ooooops! There is an error.",LOGIN_FAILED:"Ooooops! There is an error logging in.",ACCOUNT_DELETED:"Your account has been deleted.",ACCOUNT_CONFIRM_SENT:"A confirmation message has been sent.",ACCOUNT_CONFIRM_ERROR:"There was a problem sending the confirmation message.",SITE_READ_ONLY_MODE:"9GAG is undergoing maintenance right now. Sign-up and Upload will be back shortly.",ACCOUNT_VERIFIED:"Your account is successfully verified!",VERIFICATION_EMAIL_EXPIRED:"The verification email is expired. Another verification email is sent to you."},MAPPING:{1:"SAFE_MODE_DISABLED",2:"WELCOME_BACK",3:"POST_REMOVED",4:"WELCOME_TO_9GAG",5:"POST_DELETED",7:"PROFILE_SETTING_SAVED",8:"PROFILE_SETTING_ERROR",12:"LOGIN_FAILED",14:"ACCOUNT_DELETED",15:"ACCOUNT_CONFIRM_SENT",16:"ACCOUNT_CONFIRM_ERROR",17:"SITE_READ_ONLY_MODE",18:"ACCOUNT_VERIFIED",19:"VERIFICATION_EMAIL_EXPIRED"}};return{init:e.init,mapToastCode:e.mapToastCode,getToast:e.getToast}}());e.a=a}).call(this,i(6),i(34).default)},,,function(t,e,i){"use strict";var n=i(137),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-wrap"},[t.showSectionNav?i("SectionNavBar"):t.showTagNav?i("TagNavBar"):t.showProfileNav?i("ProfileNavBar"):t.showSearchNav?i("SearchNavBar"):t._e(),t._v(" "),t.tags.length>0?i("PostListTag",{attrs:{tags:t.tags,type:t.tagType}}):t._e(),t._v(" "),i("section",{attrs:{id:"list-view-2"}},[t.hasNoMorePost&&0===t.postIds.length?i("div",{staticClass:"blank-state"},[t.showProfileNav?i("ProfileBlankState"):i("h3",[t._v("Sorry! No posts were found")])],1):[t._l(t.listItemStreams,function(e){return i("div",{ref:e.id,refInFor:!0,staticClass:"list-stream",style:e.style,attrs:{id:e.id}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.archived,expression:"!stream.archived"}]},[t._l(e.items,function(n){return["post"===n.type?[i("PostListItem",{key:n.postId,attrs:{post:t.posts[n.postId],position:n.position,stream:e.id}})]:"featuredAd"===n.type?[e.archived?t._e():i("PostListFeaturedAd",{key:n.id,attrs:{url:n.url,width:n.width,height:n.height}})]:t._e()]})],2)])}),t._v(" "),i("div",{staticClass:"loading"},[t.hasNoMorePost?t._e():i("a",{staticClass:"btn spin"},[i("div",{staticClass:"simple-spinner"})]),t._v(" "),i("InfiniteLoading",{ref:"infiniteLoading",attrs:{identifier:t.infiniteLoadingId,distance:t.infiniteLoadDistance},on:{infinite:t.infiniteHandler}},[i("span",{attrs:{slot:"no-more"},slot:"no-more"},[i("a",{staticClass:"btn end"},[t._v("No more posts")])]),t._v(" "),i("span",{attrs:{slot:"spinner"},slot:"spinner"})])],1)]],2)],1)},[],!1,null,null,null);e.a=o.exports},,,,,,,,,,function(t,e,i){"use strict";(function(t){var i={API_ENDPOINT:{READ_STATE:"/v1/read-state.json"},getReadStateUrl:function(){return"https://"+t.get("configs.noti.apiHost")+this.API_ENDPOINT.READ_STATE},getPushStreamOptions:function(){var e={host:t.get("configs.noti.pushHost"),port:t.get("configs.noti.pushPort"),modes:"websocket"};return"80"!==e.port&&(e.useSSL=!0),e}};e.a=i}).call(this,i(34).default)},,function(t,e,i){"use strict";i.r(e);i(117),i(18),i(35),i(221),i(342);var n=i(60),s=i.n(n),o=i(10),a=i.n(o),r=i(9),c=i.n(r),l=(i(339),{enter:"ENTER",exit:"EXIT",visible:"VISIBLE"}),u=function(){function t(e,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;a()(this,t),this.cb=e;var c=o;this.hasZeroThreshold=!0,"number"==typeof o?0===o?this.hasZeroThreshold=!0:(c=[0,o],this.hasZeroThreshold=!1):Array.isArray(o)&&(o.indexOf(0)>-1?this.hasZeroThreshold=!0:(c=[].concat(s()(o),[0]),this.hasZeroThreshold=!1)),this.options={rootMargin:"".concat(i,"px 0px ").concat(n,"px"),threshold:c,root:r},this.observer=new IntersectionObserver(this._cb.bind(this),this.options),this.trackedItems=new Map,this.inViewPortItems=[],this.trackedDomIds=[]}return c()(t,[{key:"_cb",value:function(t,e){var i=this,n=[],s=!0;t.forEach(function(t){var e=t.target.id,o=t.intersectionRatio,a=i.trackedItems.get(e),r=i.inViewPortItems.map(function(t){return t.domId}).indexOf(e),c={domId:e,intersectionRatio:o,data:a};t.isIntersecting?-1===r?(i.inViewPortItems.push(c),c.visibilityStatus=l.enter,s=!1):(i.inViewPortItems.splice(r,1,c),c.visibilityStatus=l.visible,s=!1):t.isIntersecting||r>-1&&(i.inViewPortItems.splice(r,1),c.visibilityStatus=l.exit),n.push(c)}),s&&!this.hasZeroThreshold||this.cb(n)}},{key:"observe",value:function(t,e){t&&(this.observer.observe(t),this.trackedDomIds.push(t.id),e&&this.trackedItems.set(t.id,e))}},{key:"unobserve",value:function(t){if(t){this.observer.unobserve(t);var e=this.trackedDomIds.indexOf(t.id);e>-1&&this.trackedDomIds.splice(e,1);var i=this.inViewPortItems.map(function(t){return t.id}).indexOf(t.id);i>-1&&this.trackedDomIds.splice(i,1),this.trackedItems.has(t.id)&&this.trackedItems.delete(t.id)}}},{key:"getSortedVisibleItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.inViewPortItems.filter(function(e){return e.intersectionRatio>=t}),i=e.length>0?e:this.inViewPortItems,n=this.trackedDomIds;return i.sort(function(t,e){return n.indexOf(t.domId)-n.indexOf(e.domId)})}},{key:"reset",value:function(){this.observer.disconnect(),this.inViewPortItems=[],this.trackedDomIds=[],this.trackedItems.clear()}},{key:"destroy",value:function(){this.reset(),this.observer=null}}]),t}();e.default={VisibilityObserver:u,VISIBILITY_STATUS:l}},,,,function(t,e,i){"use strict";i.r(e);i(52);var n=i(10),s=i.n(n),o=i(9),a=i.n(o),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=function(){function t(){s()(this,t)}return a()(t,null,[{key:"getCurrentTime",value:function(){return Math.floor(Date.now()/1e3)}},{key:"getTimeAgo",value:function(t){if(!t)return"";var e=this.getCurrentTime()-t;if(e<60)return"just now";if(e<3600)return"".concat(Math.floor(e/60),"m");if(e<86400)return"".concat(Math.floor(e/3600),"h");if(e<604800)return"".concat(Math.floor(e/86400),"d");var i=new Date(1e3*t),n="".concat(i.getDate()," ").concat(r[i.getMonth()]);return i.getFullYear()!==(new Date).getFullYear()&&(n+=" ".concat(i.getFullYear().toString().substr(-2))),n}}]),t}();e.default=c},,,,,,,,,,function(t,e,i){"use strict";(function(t,n){i(26),i(25),i(18);var s=i(0),o=i.n(s),a=i(280),r=i(281),c=i(282),l=i(3),u=i(28),d=i(12),h=i(2),p=Object(l.a)("sidebar"),f=p.mapActions,g=p.mapState,m=Object(l.a)("app").mapState,_=Object(l.a)("config").mapGetters;e.a={data:function(){return{styleObj:{},adRanges:[],sidebarPaddingTop:20,sidebarOffsetTop:48,topNavOffsetTop:0,stickyBufferHeight:1800,tailHeight:425,footerBuffer:500,topAd:!1,topAdContainer:null,bottomAd:!1,bottomAdContainer:null,observeBottomAd:!1,adObserver:null,adRefresh:null,adRefreshRate:3e4}},mixins:[d.a],components:{SidebarFeaturedItem:a.a,SidebarGetApp:r.a,SidebarSocial:c.a},computed:o()({},g(["featuredPosts","clickedPosts","isFetchingFeaturedPosts"]),m(["topNavHeight"]),_({appVersion:"APP_VERSION"}),{visibleFeaturedPosts:function(){return this.featuredPosts.filter(function(t,e){return e<9})}}),watch:{$route:function(t,e){var i=this;this.$nextTick(function(){i.clearRefreshTimer(),i.updateSidebarOffsetTop(),i.resetAds(),i.shuffleFeaturedPosts()})},featuredPosts:function(){var t=this;this.$nextTick(function(){return t.updateAdRanges()})}},methods:o()({},f({setFeaturedPosts:"SET_FEATURED_POSTS",addClickedPost:"ADD_CLICKED_POST",shuffleFeaturedPosts:"SHUFFLE_FEATURED_POSTS"}),{updateAdRanges:function(){for(var t=[this.$refs.topAd,this.$refs.bottomAd].filter(function(t){return t}),e=[],i=0;i<t.length;i++){var n=t[i].offsetTop+i*this.stickyBufferHeight,s=i===t.length-1?99999999:n+this.stickyBufferHeight;e.push({beginningPos:n,endPos:s}),i===t.length-1&&(this.$refs.sidebar.style.height="".concat(n+2*window.innerHeight,"px"))}this.adRanges=e},rangeCheck:function(){var t=window.pageYOffset-this.sidebarOffsetTop+this.topNavHeight+this.sidebarPaddingTop,e=0;this.observeBottomAd||(this.observeAds(this.$refs.bottomAd),this.observeBottomAd=!0);for(var i=0;i<this.adRanges.length;i++){if(0===i&&t<this.adRanges[i].beginningPos){return void(this.styleObj={position:"relative",width:"inherit"})}if(t>=this.adRanges[i].beginningPos&&t<=this.adRanges[i].endPos){var n=document.body.offsetHeight-this.tailHeight-this.footerBuffer;if(t>=n){var s=i*this.stickyBufferHeight+(n-this.adRanges[i].beginningPos),o={position:"relative",width:"inherit",top:"".concat(s,"px")};return void(this.styleObj=o)}var a=0===i?this.topNavHeight+this.sidebarPaddingTop:this.topNavHeight+this.sidebarPaddingTop-this.adRanges[i].beginningPos+this.adRanges[i-1].endPos-e-10,r={position:"fixed",width:"inherit",top:"".concat(a,"px")};return void(this.styleObj=r)}if(0!==i&&t>this.adRanges[i-1].endPos&&t<this.adRanges[i].beginningPos){var c=i*this.stickyBufferHeight,l={position:"relative",width:"inherit",top:"".concat(c,"px")};return void(this.styleObj=l)}0!==i&&(e+=this.adRanges[i].beginningPos-this.adRanges[i-1].endPos)}},resetAds:function(){var t=this;this.adObserver&&(this.adObserver.destroy(),this.adObserver=null),this.topAd=!1,this.bottomAd=!1,this.observeBottomAd=!1,this.$nextTick(function(){return t.observeAds(t.$refs.topAd)})},updateSidebarOffsetTop:function(){var t=this.$refs.sidebar.getBoundingClientRect().top+window.scrollY;t&&t!==this.sidebarOffsetTop&&(this.sidebarOffsetTop=t)},observeAds:function(e){if(e){if(!this.adObserver){this.adObserver=new t.VisibilityObserver(this.intersectHandler,-this.topNavHeight,0,[0,.5,.8])}this.adObserver.observe(e)}},renderTopAd:function(){u.a.renderAd(this.topAdContainer),this.topAd=!0,this.startRefreshTimer()},renderBottomAd:function(){u.a.renderAd(this.bottomAdContainer),this.bottomAd=!0,this.startRefreshTimer()},intersectHandler:function(e){var i=this;e.forEach(function(e){var n=e.visibilityStatus===t.VISIBILITY_STATUS.enter||e.intersectionRatio>0;e.domId===i.$refs.topAd.id?n&&!i.topAd&&i.renderTopAd():e.domId===i.$refs.bottomAd.id&&(!n||i.bottomAd||i.isFetchingFeaturedPosts||i.renderBottomAd())})},refreshAd:function(){var t=!0,e=!0;if(this.adObserver){var i=this.adObserver.getSortedVisibleItems(.5).map(function(t){return t.domId});i.includes(this.$refs.topAd.id)||(t=!1),i.includes(this.$refs.bottomAd.id)||(e=!1)}this.topAd&&t&&u.a.refreshAd(this.topAdContainer),this.bottomAd&&e&&u.a.refreshAd(this.bottomAdContainer)},startRefreshTimer:function(){this.adRefresh&&this.clearRefreshTimer(),this.adRefresh=setInterval(this.refreshAd.bind(this),this.adRefreshRate)},clearRefreshTimer:function(){clearInterval(this.adRefresh),this.adRefresh=null},visibilityChange:function(){switch(document.visibilityState){case"visible":this.startRefreshTimer();break;case"hidden":this.clearRefreshTimer()}}}),created:function(){n.addEventListener("scroll",this.rangeCheck),n.addEventListener("resize",this.rangeCheck),n.addEventListener("visibilitychange",this.visibilityChange),this.setFeaturedPosts(),this.topAdContainer=u.a.getAdContainer("sidebar_top"),this.bottomAdContainer=u.a.getAdContainer("sidebar_bottom")},mounted:function(){var t=this;this.$nextTick(function(){t.updateSidebarOffsetTop();var e=t.$refs["sidebar-tail"].offsetHeight;e&&e!==t.tailHeight&&(t.tailHeight=e),t.updateAdRanges(),t.observeAds(t.$refs.topAd)}),h.a.$on("sidebar::updateOffsetTop",this.updateSidebarOffsetTop)},destroyed:function(){n.removeEventListener("scroll",this.rangeCheck),n.removeEventListener("resize",this.rangeCheck),n.removeEventListener("visibilitychange",this.visibilityChange),h.a.$off("sidebar::updateOffsetTop",this.updateSidebarOffsetTop),this.adObserver&&this.adObserver.destroy(),this.clearRefreshTimer()}}}).call(this,i(116).default,i(222).default)},function(t,e,i){"use strict";(function(t){var n=i(28),s=i(2);e.a={data:function(){return{adContainer:null,collapsed:!1}},watch:{$route:function(t,e){this.collapsed=!1,this.renderAd()}},methods:{updateSidebarOffsetTop:function(t){var e=t.newValue;t.oldValue;e.height||(this.collapsed=!0),s.a.$emit("sidebar::updateOffsetTop")},renderAd:function(){n.a.renderAd(this.adContainer,{collapseOnEmpty:!0})}},computed:{adContainerId:function(){return this.adContainer&&this.adContainer.adContainerId||null}},created:function(){this.adContainer=n.a.getAdContainer("banner_top")},mounted:function(){this.renderAd(),t.setDimensionChangeListener(this.adContainerId,this.updateSidebarOffsetTop)},destroyed:function(){t.setDimensionChangeListener(this.adContainerId,!1)}}}).call(this,i(314).default)},function(t,e,i){"use strict";(function(t){i(18);var n=i(0),s=i.n(n),o=i(7),a=i(286),r=i.n(a),c=i(2),l=i(3),u=i(21),d=Object(l.a)("app"),h=d.mapActions,p=d.mapState,f=Object(l.a)("gdpr").mapActions,g=Object(l.a)("user"),m=g.mapMutations,_=g.mapGetters,v=Object(l.a)("post").mapMutations;o.a.use(r.a),e.a={render:function(){return this.$slots.default},computed:s()({},p(["topNavHeight"]),_({isLoggedIn:"IS_LOGGED_IN"})),methods:s()({},h({updateSignupReferrer:"UPDATE_SIGNUP_REFERRER",checkDarkMode:"CHECK_DARK_MODE",toggleDarkMode:"TOGGLE_DARK_MODE",checkLocation:"CHECK_LOCATION",updateTopNavHeight:"UPDATE_TOP_NAV_HEIGHT"}),f({setGoogleNpa:"SET_GOOGLE_NPA"}),m({setUser:"SET_USER",setPreference:"SET_PREFERENCE",setVote:"SET_VOTE",setUpload:"SET_UPLOAD",setReport:"SET_REPORT",addReport:"ADD_REPORT",updateUninterestedPosts:"UPDATE_UNINTERESTED_POSTS",updateRecommendedPosts:"UPDATE_RECOMMENDED_POSTS"}),v({updatePostsUserScore:"UPDATE_POSTS_USER_SCORE",addPost:"ADD_POST"}),{calculateNavHeight:function(){var t=document.getElementById("top-nav").offsetHeight;this.updateTopNavHeight(t)}}),created:function(){var e=this;o.a.config.errorHandler=function(t,e,i){console.error(t),u.default.trackException(t.message,!0)},this.checkLocation(),c.a.$on("cacheableUser",function(t){e.setUser(t)}),c.a.$on("cacheableUserPreference",function(t){e.setPreference(t)}),c.a.$on("cacheableVote",function(t){e.setVote(t),e.updatePostsUserScore({votes:t}),e.updateUninterestedPosts()}),c.a.$on("cacheableUserUpload",function(t){e.setUpload(t)}),c.a.$on("cacheableUserReport",function(t){e.setReport(t),e.updateUninterestedPosts()}),c.a.$on("cacheableContentRecommended",function(t){var i=t.posts,n=void 0===i?[]:i;e.updateRecommendedPosts(n),n.forEach(function(t){e.addPost({data:t.data,url:"/recommended-posts"})})}),c.a.$on("post::report",function(t){e.addReport(t)}),c.a.$on("nav::toggleDarkMode",this.toggleDarkMode),c.a.$on("nav::updateHeights",this.calculateNavHeight),c.a.$on("gdpr::setGoogleNpa",function(i){t.log("bus on setGoogleNpa",i),e.setGoogleNpa(i)})},mounted:function(){var t=this;this.$nextTick(function(){t.checkDarkMode(),t.calculateNavHeight(),t.isLoggedIn||t.updateSignupReferrer()})}}}).call(this,i(14).default)},function(t,e,i){"use strict";(function(t){i(52);var n=i(0),s=i.n(n),o=(i(94),i(39)),a=i(55),r=i.n(a),c=i(3),l=Object(c.a)("gdpr").mapState;e.a={props:{width:Number,height:Number,url:String},computed:s()({},l(["googleNpa"]),{embedUrl:function(){var e=new r.a(this.url,!0),i=this.googleNpa?1:0;return e.set("query",s()({},e.query,{npa:i})),t.log("featuredAd embedUrl="+e.toString()),e},dimension:function(){var t=this.width,e=this.height,i=o.a.LIST_VIEW_WIDTH;return this.width<=i?{width:t,height:e}:{width:i,height:i*this.height/this.width}}})}}).call(this,i(14).default)},function(t,e,i){"use strict";(function(t){var n=i(12),s=i(155),o=i(156),a=i(159),r=i(153),c=i(164),l=(i(15),i(5),i(158)),u=i(16),d=i(154),h=(i(4),i(2)),p=i(69);e.a={mixins:[n.a],props:["post","position","stream"],computed:{postDomId:function(){return u.default.getPostDomId(this.post.id)},postTitle:function(){return t.htmlDecode(this.post.title)},postUrl:function(){return this.getPostRoute(this.post.id)}},mounted:function(){var t=this;h.a.$on("post::comment::".concat(this.post.id),function(){t.$refs.comment.click()})},components:{PostMeta:o.a,PostTags:a.a,PostVote:r.a,PostExtraMenuBtn:c.a,PostShare:l.a,PostContent:d.a,PostSection:s.a,TapPost:p.a}}}).call(this,i(43).default)},function(t,e,i){"use strict";(function(t,n){var s=i(0),o=i.n(s),a=i(29),r=(i(16),i(12)),c=i(97),l=i(3),u=i(54),d=Object(l.a)("user").mapState,h=Object(l.a)("profile").mapGetters;e.a={mixins:[r.a,u.a,c.a],computed:o()({},d(["user"]),h({getProfileByUserName:"GET_PROFILE_BY_USERNAME"}),{username:function(){return this.$route.params.username},profile:function(){return this.getProfileByUserName(this.username)},fullName:function(){return t.htmlDecode(this.profile.fullName)},about:function(){return t.htmlDecode(this.profile.about)},viewingOtherUser:function(){return this.user.username!==this.username},isProUser:function(){return!!this.profile.permissions["9GAG_Pro"]},selected:function(){return{overview:{selected:this.type===a.a.OVERVIEW},posts:{selected:this.type===a.a.POSTS},likes:{selected:this.type===a.a.LIKES},comments:{selected:this.type===a.a.COMMENTS}}}}),methods:{report:function(){this.ensureLoggedIn()&&n.ReportController.showReportOverlay({type:n.ReportController.types.USER,objectId:this.profile.username})}}}}).call(this,i(43).default,i(31).default)},function(t,e,i){"use strict";(function(t){var n=i(0),s=i.n(n),o=i(29),a=i(12),r=i(8),c=(i(16),i(3)),l=Object(c.a)("tag").mapGetters;e.a={mixins:[a.a,r.a],computed:s()({},l({tagNav:"TAG_NAV"}),{displayTagName:function(){return this.tagNav?this.tagNav.key:t.capitalize(this.$route.params.tag)},selected:function(){return{hot:{selected:this.type===o.a.HOT},fresh:{selected:this.type===o.a.FRESH}}}})}}).call(this,i(43).default)},function(t,e,i){"use strict";(function(t,n,s,o){i(90),i(89),i(18),i(26),i(25),i(30);var a=i(0),r=i.n(a),c=(i(50),i(7)),l=i(11),u=i(277),d=i(271),h=i(276),p=i(264),f=i(2),g=i(49),m=i(86),_=i(12),v=i(278),T=i(212),E=i.n(T),S=i(4),P=i(279),O=i(96),I=i(269),C=i(270),y=i(58),A=i(28),b=i(3),R=i(8),N=Object(b.a)("post"),k=N.mapMutations,L=N.mapState,U=N.mapActions,w=N.mapGetters,D=Object(b.a)("user"),M=D.mapState,x=D.mapMutations,F=Object(b.a)("tag").mapGetters,H=Object(b.a)("section").mapGetters,V=Object(b.a)("app").mapState;c.a.use(E.a);var B=function(e,i,n){var s=y.a.getApiInfo(e),o=l.a.state.post,a=o.postIdsByUrl,r=o.hydrated,c=l.a.state.config.data;return a[s.url]?(n(),void l.a.commit("post/SET_CURRENT_API_INFO",s)):!r&&c?(l.a.commit("post/SET_CURRENT_API_INFO",s),void l.a.dispatch("post/INIT_LIST_POSTS",{data:c,hydrate:!0}).then(function(){n()})):(f.a.$Progress.set(80),l.a.commit("post/SET_NEXT_API_INFO",s),void l.a.dispatch("post/LOAD_LIST_POSTS").then(function(t){var e=t.data;return l.a.dispatch("post/INIT_LIST_POSTS",{data:e})}).then(function(){if(!a[s.url])return Promise.reject("PostList not found");n(),l.a.commit("post/SET_CURRENT_API_INFO",s)}).catch(function(i){t.log(i),window.location.href=e.fullPath}))};e.a={mixins:[_.a,O.a,R.a],data:function(){return{RouteName:S.a,archivedStreams:{},archivedPosts:{},containerPadding:32,visibleStreamPos:0,infiniteLoadingId:0}},watch:{$route:function(t,e){this.initData()}},computed:r()({},V(["topNavHeight"]),L(["posts","hydrated"]),M(["reports"]),F({tags:"TAGS"}),w({postIds:"POST_LIST_IDS",nextCursor:"NEXT_CURSOR",featuredAds:"FEATURED_ADS"}),H({getSection:"GET_SECTION"}),{showSectionNav:function(){return this.$route.name===S.a.SECTION_POST_LIST},showTagNav:function(){return this.$route.name===S.a.TAG_POST_LIST},showSearchNav:function(){return this.$route.name===S.a.SEARCH_POST_LIST},showProfileNav:function(){return this.$route.name===S.a.USER_POST_LIST},hasNoMorePost:function(){return!this.nextCursor},tagType:function(){return[S.a.TAG_POST_LIST,S.a.SEARCH_POST_LIST].includes(this.$route.name)?m.a.RELATED:m.a.FEATURED},streams:function(){for(var t=[],e=0;;){var i=this.postIds.length-e;if(i<=0)break;var n=this.getStreamSize(t.length);if(i<n&&!this.hasNoMorePost)break;n=Math.min(i,n);var s=this.postIds.slice(e,e+n);t.push(s),e+=n}return t},visibleStreams:function(){var t=this;return this.streams.filter(function(e,i){return i<=t.visibleStreamPos})},listItemStreams:function(){var t=this,e=[],i=0;return this.visibleStreams.forEach(function(n,s){var o=t.streamDomId(s),a={id:o,position:s,archived:!t.displayStream(o),style:t.streamStyle(o)},r=[];n.forEach(function(e){if(i+=1,!t.reports.includes(e)){var n={type:"post",id:e,position:i,postId:e};r.push(n)}var s=t.getAdItem(i);s&&r.push(s)}),a.items=r,e.push(a)}),e},infiniteLoadDistance:function(){var t=this.getWinHeight(),e=this.visibleStreamPos<2?t:4*t;return Math.max(300,e)}}),methods:r()({},k({_updatePostAutoPlay:"UPDATE_POST_AUTO_PLAY"}),U({loadPosts:"LOAD_LIST_POSTS"}),x({updateUninterestedPosts:"UPDATE_UNINTERESTED_POSTS"}),{getStreamSize:function(t){return{0:1,1:2}[t]||5},updatePostAutoPlay:function(t){var e=this.posts[t.id].type,i=this.postArchived(t.id);[g.a.TYPE_ANIMATED,g.a.TYPE_VIDEO,g.a.TYPE_EMBED_VIDEO].includes(e)&&!i&&this._updatePostAutoPlay(t)},loadMorePosts:function(){return t.log("loadMorePosts(): load more posts"),n.firePageviewCandidate(),this.loadPosts().then(function(t){return t.data})},infiniteHandler:function(t){var e=this,i=this.visibleStreamPos>=this.streams.length-1;if(this.hasNoMorePost&&i)return t.loaded(),void t.complete();if(this.visibleStreamPos<this.streams.length-1){this.visibleStreamPos+=1;var n=this.visibleStreamPos,s=this.streamDomId(n);return this.$nextTick(function(){e.streamObserver.observe(e.$refs[s][0]),e.streams[n].forEach(function(t){e.observePost(t)})}),void t.loaded()}i&&this.loadMorePosts().then(function(e){e.posts;t.loaded()}).catch(function(e){t.loaded(),e&&e.response&&t.complete()})},scrollToNextPost:function(){this.scrollToPost({direction:1})},scrollToPrevPost:function(){this.scrollToPost({direction:-1})},scrollToPost:function(t){var e=t.direction,i=this.getVisibleItems();if(i[0]){var n=s.getPostId(i[0].domId),o=this.postIds.indexOf(n),a=o+e;-1!==o&&a>=0&&a<this.postIds.length&&this.scrollToPostById(this.postIds[a])}},scrollToPostById:function(t){var e=document.getElementById(s.getPostDomId(t));if(e){var i=e.getBoundingClientRect().top+s.getScrollTop()-this.topNavHeight;s.scrollTo(i)}},getVisibleItems:function(){return this.postObserver.getSortedVisibleItems(.6)},initData:function(){var t=this;this.archivedStreams={},this.archivedPosts={},this.visibleStreamPos=0,this.infiniteLoadingId++,this.resetObservers(),this.updateUninterestedPosts(),this.$nextTick(function(){t.startObservers();var e=t.streamDomId(0),i=t.$refs[e]?t.$refs[e][0]:null;i&&(t.streamObserver.observe(i),t.streams[0].forEach(function(e){t.observePost(e)}))})},startObservers:function(){this.streamObserver||this.createStreamObserver(),this.postObserver||this.createPostObserver()},resetObservers:function(){this.streamObserver&&(this.streamObserver.destroy(),this.streamObserver=null),this.postObserver&&(this.postObserver.destroy(),this.postObserver=null)},streamDomId:function(t){return s.getStreamDomId(t)},displayStream:function(t){return!this.archivedStreams[t]},streamStyle:function(t){return{minHeight:this.archivedStreams[t]}},postsInStream:function(t){var e=s.getStreamPos(t);return this.streams[e]||[]},postArchived:function(t){return this.archivedPosts[t]},getAdItem:function(t){var e=A.a.getAdContainer("inline_ad",t);if(!e)return null;var i=e.adPosition,n=e.adContainerId,s=null,o=!0,a=!1,r=void 0;try{for(var c,l=this.featuredAds[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value;if(u.position===i)s={type:"featuredAd",id:n,url:u.url,width:u.width,height:u.height}}}catch(t){a=!0,r=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw r}}return s},createStreamObserver:function(){var t=this.getWinHeight(),e=3*t,i=4*t;this.streamObserver=new o.VisibilityObserver(this.streamIntersectHandler,e,i)},streamIntersectHandler:function(t){var e=this;t.forEach(function(t){var i=t.domId,n=e.postsInStream(i);if(t.visibilityStatus===o.VISIBILITY_STATUS.enter)e.$set(e.archivedStreams,i,0),n.length>0&&n.forEach(function(t){return e.$set(e.archivedPosts,t,!1)});else if(t.visibilityStatus===o.VISIBILITY_STATUS.exit){var s=e.$refs[i][0],a=window.getComputedStyle(s).height;e.$set(e.archivedStreams,i,a),n.length>0&&n.forEach(function(t){return e.$set(e.archivedPosts,t,!0)}),f.a.$emit("post::streamArchived::".concat(i))}})},createPostObserver:function(){this.postObserver=new o.VisibilityObserver(this.postIntersectHandler,-this.topNavHeight,0,.6)},postIntersectHandler:function(t){var e=this;t.forEach(function(t){var i=s.getPostId(t.domId),n=t.intersectionRatio>=.6;n?e.updatePostAutoPlay({id:i,autoPlayEvent:"play"}):!n&&t.intersectionRatio>0&&e.updatePostAutoPlay({id:i,autoPlayEvent:"pause"})})},observePost:function(t){var e=document.getElementById(s.getPostDomId(t));this.postObserver.observe(e)},getWinHeight:function(){return document.documentElement.clientHeight}}),created:function(){var t=this;["voteUp","voteDown","togglePlay","comment"].forEach(function(e){f.a.$on("post::".concat(e,"::inView"),function(){var i=t.getVisibleItems();i[0]&&f.a.$emit("post::".concat(e,"::").concat(s.getPostId(i[0].domId)))})}),f.a.$on("post::toNextPost",this.scrollToNextPost),f.a.$on("post::toPrevPost",this.scrollToPrevPost)},mounted:function(){this.initData()},beforeRouteEnter:function(t,e,i){B(t,0,i)},beforeRouteUpdate:function(t,e,i){B(t,0,i)},destroyed:function(){this.resetObservers(),f.a.$off("post::toNextPost",this.scrollToNextPost),f.a.$off("post::toPrevPost",this.scrollToPrevPost)},components:{SectionNavBar:u.a,TagNavBar:d.a,PostListTag:v.a,InfiniteLoading:E.a,SearchNavBar:h.a,ProfileNavBar:p.a,PostListItem:I.a,PostListFeaturedAd:C.a,ProfileBlankState:P.a}}}).call(this,i(14).default,i(229).default,i(16).default,i(116).default)},function(t,e,i){"use strict";(function(t){var i={defaultTitle:function(){return"9GAG: Go Fun The World"},hot:function(){return"9GAG Hot"},trending:function(){return"9GAG Trending"},fresh:function(){return"9GAG Fresh"},post:function(t){return"".concat(t," - 9GAG")},section:function(t){return"9GAG ".concat(t)},tag:function(t){return"Best 30+ ".concat(t," fun on 9GAG")},u:function(t){return"".concat(t," - 9GAG")}};e.a={setPageTitle:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s="";s=i[e]?i[e](n):i.defaultTitle(),t.PageController.setPageTitleWithSpecialChars(s)}}}).call(this,i(31).default)},function(t,e,i){"use strict";(function(t){i(51);var n=i(12),s=i(8),o={upload:"uploaded",upvote:"upvoted",comment:"commented"};e.a={mixins:[n.a,s.a],props:["post"],computed:{postSection:function(){return this.post.postSection},postUser:function(){var t=this.post,e=t.postUser,i=t.promoted;return this.isPostPage||i?null:e},url:function(){var t=this.postSection.url;return t?"".concat(t,"?ref=post-section"):null},creationTime:function(){return t.getTimeAgo(this.post.creationTs)},postUserActions:function(){return this.postUser&&this.postUser.actions.split(",")||[]},commentLink:function(){return this.getPostRoute(this.post.id)+"#cs_comment_id=".concat(this.postUser.commentId)},category:function(){return this.isPostPage?"PostAction":"PostList"}},methods:{getActionText:function(t,e){var i=this.postUserActions;return e===i.length-1?o[t]:e!==i.length-2?"".concat(o[t],", "):"".concat(o[t]," and ")},trackPostSection:function(){this.url&&this.track(this.category,"ViewPostSection",{url:this.url})}}}}).call(this,i(120).default)},function(t,e,i){"use strict";(function(t){e.a={name:"PostContentArticleMedia",props:["block","media"],computed:{postDomId:function(){return t.getPostDomId(this.media.id)}}}}).call(this,i(16).default)},function(t,e,i){"use strict";(function(t){var n=i(177),s=i.n(n);e.a={data:function(){return{html:""}},props:["block"],created:function(){var e=this.block.content;e.length&&(this.html=s()(e,{renderer:t.getMarkedRenderer()}))}}}).call(this,i(43).default)},function(t,e,i){"use strict";(function(t,n){i(26),i(25),i(35),i(91),i(18);var s=i(0),o=i.n(s),a=i(258),r=i(257),c=(i(2),i(49)),l=i(96),u=i(3),d=Object(u.a)("post").mapMutations,h=Object(u.a)("app").mapState;e.a={mixins:[l.a],props:["post"],watch:{$route:function(t,e){this.init()}},computed:o()({},h(["topNavHeight"])),methods:o()({},d({updatePostAutoPlay:"UPDATE_POST_AUTO_PLAY"}),{getBlockTypeComponent:function(t){return"RichText"===t?a.a:"Media"===t?r.a:"div"},getMedia:function(t){return this.post.article.medias[t.mediaId]},createObserver:function(){this.observer=new t.VisibilityObserver(this.intersectHandler,-this.topNavHeight,0,.6)},intersectHandler:function(t){var e=this;t.forEach(function(t){var i=n.getPostId(t.domId),s=t.intersectionRatio>=.6;s?e.updatePostAutoPlay({id:e.post.id,mediaId:i,autoPlayEvent:"play"}):!s&&t.intersectionRatio>0&&e.updatePostAutoPlay({id:e.post.id,mediaId:i,autoPlayEvent:"pause"})})},resetObserver:function(){this.observer&&(this.observer.destroy(),this.observer=null)},init:function(){var t=this;this.resetObserver(),this.$nextTick(function(){t.createObserver();var e=t.post.article.medias;e&&Object.keys(e).forEach(function(i){if([c.a.TYPE_ANIMATED,c.a.TYPE_VIDEO,c.a.TYPE_EMBED_VIDEO].includes(e[i].type)){var s=document.getElementById(n.getPostDomId(i));t.observer.observe(s)}})})}}),mounted:function(){this.init()},destroyed:function(){this.resetObserver()}}}).call(this,i(116).default,i(16).default)},function(t,e,i){"use strict";(function(t,n){var s=i(0),o=i.n(s),a=(i(344),i(16)),r=i(39),c=i(2),l=i(12),u=i(8),d=i(291),h=i.n(d),p=i(3),f=Object(p.a)("post").mapMutations,g=Object(p.a)("app").mapState;e.a={mixins:[l.a,u.a],props:["post","isMedia"],data:function(){return{showDuration:!0,soundOn:!1,playing:!1,timeoutId:null,clicked:!1}},watch:{"post.id":function(){var t=this.timeoutId;Object.assign(this.$data,this.$options.data()),this.startHideVideoDurationTimer(t)},"post.autoPlayEvent":function(t,e){"play"===t?this.playing||this.$refs.videoPlayer.play():"pause"===t&&(this.playing&&this.$refs.videoPlayer.pause(),this.toggleSound({action:"off",track:!1})),!this.isMedia&&this.updatePostAutoPlay({autoPlayEvent:null,id:this.post.id})}},computed:o()({},g(["supportsH265"]),{posterUrl:function(){return h.a&&this.post.images.image460.webpUrl?this.post.images.image460.webpUrl:this.post.images.image460.url},mp4Path:function(){return this.post.images.image460sv.url},webmPath:function(){return this.post.images.image460svwm.url},vp9Path:function(){return this.post.images.image460sv.vp9Url},h265Path:function(){return this.post.images.image460sv.h265Url},isAnimatedVideo:function(){return this.post.images.image460sv.hasAudio},videoDuration:function(){return this.post.images.image460sv.duration},postUrl:function(){return this.getPostRoute(this.post.id)},autoplay:function(){return!this.isMedia&&this.isPostPage},playIconText:function(){return this.isAnimatedVideo?"Play":"GIF"},videoDurationText:function(){return t.secondsToTimeDisplay(this.videoDuration)},canShowVideoDuration:function(){return this.isAnimatedVideo&&this.videoDuration>0&&this.showDuration},style:function(){var t=this.post.images.image460sv;if(this.isPostPage){var e=r.a.getPostViewMinHeight(t.height,t.width,!0),i={"min-height":"".concat(e,"px")},n=t.width/t.height*e,s=n>1?{width:"".concat(n,"px")}:{};return{a:s,video:o()({},i,s),videoWidthAttr:null}}var a=r.a.getListViewAnimatedPhoto(t.height,t.width),c=a.img,l=a.a,u=o()({},l);u.paddingLeft&&delete u.paddingLeft;var d=null;return c.width||u.width||(u.width="500px",d=500),{a:o()({},c,l),video:o()({},c,u),videoWidthAttr:d}}}),methods:o()({},f({updatePostAutoPlay:"UPDATE_POST_AUTO_PLAY"}),{onTimeUpdate:function(){if(this.clicked||!this.isPostPage){var t=this.$refs.videoPlayer;t&&n.onVideoTimeUpdate({key:this.post.id,domId:a.default.getPostDomId(this.post.id)},!t.paused,t.currentTime,t.duration,0)}},onPlay:function(){this.playing=!0,this.showDuration=!0,this.startHideVideoDurationTimer()},onPause:function(){this.timeoutId&&clearTimeout(this.timeoutId),this.playing=!1,this.showDuration=!0},clickSoundIcon:function(t){t.stopPropagation(),t.preventDefault(),this.toggleSound()},toggleSound:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,i=t.track,n=void 0===i||i;this.soundOn="on"===e||"off"!==e&&!this.soundOn,n&&this.trackLabel("PostAction",this.soundOn?"ToggleSoundOn":"ToggleSoundOff",this.post.id)},toggleVideo:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).track,i=void 0===e||e;this.$refs.videoPlayer.paused?(this.clicked=!0,this.toggleSound({action:"on",track:i}),this.$refs.videoPlayer.play()):this.isAnimatedVideo?this.toggleSound({track:i}):this.$refs.videoPlayer.pause()},startHideVideoDurationTimer:function(t){var e=this;(t=t||this.timeoutId)&&clearTimeout(t),this.timeoutId=setTimeout(function(){e.showDuration=!1},3e3)},busEventTabChangeAction:function(){this.$refs.videoPlayer.pause()},busEventTogglePlay:function(){this.toggleVideo()}}),mounted:function(){this.startHideVideoDurationTimer(),(this.autoplay||this.post.autoPlayEvent)&&(this.playing=!0,this.$refs.videoPlayer.play()),c.a.$on("post::tabChangeAction",this.busEventTabChangeAction),c.a.$on("post::togglePlay",this.busEventTogglePlay),c.a.$on("post::togglePlay::".concat(this.post.id),this.busEventTogglePlay)},destroyed:function(){c.a.$off("post::tabChangeAction",this.busEventTabChangeAction),c.a.$off("post::togglePlay",this.busEventTogglePlay),c.a.$off("post::togglePlay::".concat(this.post.id),this.busEventTogglePlay)}}}).call(this,i(43).default,i(183).default)},function(t,e,i){"use strict";(function(t,n){var s=i(0),o=i.n(s),a=i(39),r=i(16),c=i(2),l=i(12),u=i(69);e.a={mixins:[l.a],components:{TapPost:u.a},data:function(){return{player:null,isPlaying:!1}},props:["postId","postTitle","postVideo","isMedia","postImages","autoPlayEvent","position","stream","isEmbedVideo"],watch:{postId:function(){this.removePlayer(),this.createPlayer()},autoPlayEvent:function(t,e){this.toggleVideo({action:t,mute:!0})},showCover:function(t,e){this.player||!t&&e&&this.createPlayer()}},computed:{showCover:function(){return!this.isPlaying},styleObj:function(){return{height:"".concat(this.videoDimension.height,"px")}},coverStyleObj:function(){var t={backgroundImage:"url('".concat(this.postImages.image460.url,"')")};return this.isEmbedVideo?o()({},t,{backgroundSize:"cover",width:"".concat(this.videoDimension.width,"px"),height:"".concat(this.videoDimension.height,"px")}):t},videoDimension:function(){var t=a.a.POST_VIEW_MAX_WIDTH;if(this.isMedia?t=a.a.POST_VIEW_WIDTH:this.isPostPage||(t=a.a.LIST_VIEW_WIDTH),!this.isEmbedVideo)return{width:t,height:t/16*9};var e=this.postImages.image460,i=e.width;return{width:t,height:t*e.height/i}},playerId:function(){return this.isEmbedVideo||!this.player?null:this.player.getPlayerId()},videoSrc:function(){return this.isEmbedVideo?this.postVideo.embedUrl:"https://www.youtube.com/embed/".concat(this.postVideo.id,"?modestbranding=1&iv_load_policy=3&rel=0&enablejsapi=1&start=").concat(this.postVideo.startTs)},postUrl:function(){return this.getPostRoute(this.postId)}},methods:{createPlayer:function(){var e=this;this.isEmbedVideo||(this.player=new t({id:this.postVideo.id,onStart:function(t){},onPause:function(t){},onSeek:function(t){},onPercentageChange:function(t){t.percentage;var i=t.isPlaying,s=t.time,o=t.duration;n.onVideoTimeUpdate({key:e.postId,domId:r.default.getPostDomId(e.postId)},i,s,o,e.postVideo.startTs)},onResume:function(t){},onEnded:function(){},onReady:function(){var t=e.isMedia?null:"play";e.toggleVideo({action:t,mute:!0})}}),this.$nextTick(function(){return e.player.start()}))},startPlayer:function(){this.isPlaying=!0},removePlayer:function(){this.player&&(this.player.stop(),this.player=null)},busEventTabChangeAction:function(){this.player&&this.player.pause()},busEventTogglePlay:function(){if(this.isEmbedVideo)this.isPlaying=!this.isPlaying;else if(this.player){var t=this.player.getCurrentState();t&&this.toggleVideo({action:t.isPlaying?"pause":"play"})}else this.startPlayer()},toggleVideo:function(t){this.isEmbedVideo?this.isPlaying="play"===t.action:this.player?(t.mute&&this.player.mute(),"play"===t.action&&this.player.play(),"pause"===t.action&&this.player.pause()):this.startPlayer()},onArchived:function(){this.removePlayer(),this.isPlaying=!1}},created:function(){this.isPostPage&&this.startPlayer()},mounted:function(){this.stream&&c.a.$on("post::streamArchived::".concat(this.stream),this.onArchived),c.a.$on("post::tabChangeAction",this.busEventTabChangeAction),c.a.$on("post::togglePlay",this.busEventTogglePlay),c.a.$on("post::togglePlay::".concat(this.postId),this.busEventTogglePlay)},destroyed:function(){this.stream&&c.a.$off("post::streamArchived::".concat(this.stream),this.onArchived),c.a.$off("post::tabChangeAction",this.busEventTabChangeAction),c.a.$off("post::togglePlay",this.busEventTogglePlay),c.a.$off("post::togglePlay::".concat(this.postId),this.busEventTogglePlay)}}}).call(this,i(345).default,i(183).default)},function(t,e,i){"use strict";(function(t){var n=i(39),s=i(12),o=i(69);e.a={mixins:[s.a],components:{TapPost:o.a},props:["postId","postTitle","postImages","hasLongPostCover","position","isArticle"],computed:{displayType:function(){return this.hasLongPostCover?"image460c":"image460"},imageHeight:function(){return this.postImages[this.displayType].height},imageWidth:function(){return this.postImages[this.displayType].width},styleObj:function(){return n.a.getListViewPhoto(this.imageHeight,this.imageWidth).a},imageUrl:function(){return this.postImages[this.displayType].url},imageWebpUrl:function(){return this.postImages[this.displayType].webpUrl},postUrl:function(){return this.getPostRoute(this.postId)},canShowViewFullPageBtn:function(){return this.hasLongPostCover||this.isArticle},imageEventKey:function(){return this.isArticle?"ArticlePostImage":this.hasLongPostCover?"LongPostImage":"PostImage"},buttonEventKey:function(){return this.isArticle?"ArticlePostViewFullPost":this.hasLongPostCover?"LongPostViewFullPost":"ViewFullPost"}},methods:{downloadFail:function(){t.downloadFail(this.imageUrl)}}}}).call(this,i(92).default)},function(t,e,i){"use strict";(function(t,n){var s=i(39);e.a={props:["postId","postTitle","postImages"],computed:{imageHeight:function(){return this.postImages[this._displayType].height},imageWidth:function(){return this.postImages[this._displayType].width},styleObj:function(){var t=s.a.getPostViewMinHeight(this.imageHeight,this.imageWidth,!1);return{minHeight:"".concat(t,"px")}},isZoomPost:function(){return this.imageWidth>s.a.POST_VIEW_WIDTH},imageUrl:function(){return this.postImages[this._displayType].url},imageWebpUrl:function(){return this.postImages[this._displayType].webpUrl}},methods:{zoomPost:function(){if(this.isZoomPost){document.getElementById("jsid-modal-post-zoom").querySelector(".badge-post-zoom-img").innerHTML=this.$refs.image.outerHTML,t.OverlayController.showOverlay("#".concat("jsid-modal-post-zoom"),!1)}},downloadFail:function(){n.downloadFail(this.imageUrl)}},created:function(){this._displayType="image700"}}}).call(this,i(31).default,i(92).default)},function(t,e,i){"use strict";(function(t,n){var s=i(0),o=i.n(s),a=i(263),r=i(262),c=i(261),l=i(260),u=i(259),d=i(7),h=i(2),p=(i(27),i(101)),f=i(49),g=i(3),m=i(54),_=i(12),v=Object(g.a)("user"),T=v.mapState,E=v.mapActions,S={name:"PostContent",mixins:[m.a,_.a],data:function(){return o()({},f.a,{hideNSFW:!0})},watch:{"post.id":function(t,e){this.trackElement()}},props:["post","isMedia","position","stream"],computed:o()({},T(["preference"]),{isPostHidden:function(){return this.post.nsfw&&this.preference.isSafeModeOn&&this.hideNSFW}}),methods:o()({},E({setNSFW:"SET_NSFW"}),{showNSFW:function(){if(this.ensureLoggedIn("/profile/safe-browse?enable=0&url=".concat(encodeURIComponent(this.post.url)))){this.setNSFW(!1),this.hideNSFW=!1;var e=p.a.mapToastCode(1);t.PageController.showToast(e.text,e.color,5e3)}},trackElement:function(){var t=this;this.isMedia||this.$nextTick(function(){h.a.$emit("tracking::trackElement",{domId:n.getPostDomId(t.post.id),data:{key:t.post.id,nsfwCover:t.isPostHidden,video:!t.isPostHidden&&t.post.type===f.a.TYPE_ANIMATED,youtube:!t.isPostHidden&&t.post.type===f.a.TYPE_VIDEO,position:t.position}})})}}),mounted:function(){this.trackElement()},components:{PostContentPhoto:a.a,PostListContentPhoto:r.a,PostContentVideo:c.a,PostContentAnimated:l.a,PostContentArticle:u.a}};d.a.component("PostContent",S),e.a=S}).call(this,i(31).default,i(16).default)},function(t,e,i){"use strict";(function(t){var n=i(0),s=i.n(n),o=i(87),a=i(5),r=i(2),c=i(3),l=i(54),u=i(12),d=Object(c.a)("post").mapActions,h=Object(c.a)("user").mapMutations;e.a={mixins:[l.a,u.a],props:["postId","postUserScore","position"],methods:s()({},h({addVote:"ADD_VOTE"}),d({updatePostsUserScoreAndCache:"UPDATE_POSTS_USER_SCORE_AND_CACHE"}),{tracking:function(e){a.a.isPostPage()?t.trackEvent("PostAction",e,this.postId):t.trackEvent("PostList",e,a.a.getPageKey(),"",{PostKey:this.postId,Position:this.position})},vote:function(t){this.addVote(t),this.updatePostsUserScoreAndCache(t)},onVoteUp:function(){var t=this.getPostRoute(this.postId);if(this.ensureLoggedIn(t)){var e={};1===this.postUserScore?(o.a.unlike(this.postId,function(){},function(){}),this.tracking("UnvotePost"),e[this.postId]=0):(o.a.like(this.postId,function(){},function(){}),this.tracking("UpvotePost"),e[this.postId]=1),this.vote(e)}},onVoteDown:function(){var t=this.getPostRoute(this.postId);if(this.ensureLoggedIn(t)){var e={};-1===this.postUserScore?(o.a.unlike(this.postId,function(){},function(){}),this.tracking("UnvotePost"),e[this.postId]=0):(o.a.dislike(this.postId,function(){},function(){}),this.tracking("DownvotePost"),e[this.postId]=-1),this.vote(e)}}}),mounted:function(){var t=this;r.a.$on("post::voteUp",function(){t.onVoteUp()}),r.a.$on("post::voteDown",function(){t.onVoteDown()}),r.a.$on("post::voteUp::".concat(this.postId),function(){t.onVoteUp()}),r.a.$on("post::voteDown::".concat(this.postId),function(){t.onVoteDown()})}}}).call(this,i(75).default)},function(t,e,i){"use strict";(function(t){i(26),i(25);var n=i(0),s=i.n(n),o=(i(94),i(16),i(12)),a=i(69),r=i(3),c=Object(r.a)("user").mapState;e.a={props:{postId:String,postUpVoteCount:Number,postCommentsCount:Number,postUrl:String,position:Number,isVoteMasked:Number},components:{TapPost:a.a},mixins:[o.a],computed:s()({},c(["uploads"]),{target:function(){return this.isPostPage?"_self":"_blank"},pointUrl:function(){return this.postUrl||"javascript:void(0);"},commentUrl:function(){return this.postUrl?this.postUrl+"#comment":"#comment"},points:function(){return this.isVoteMasked&&!this.uploads.includes(this.postId)?" points":this.metaDisplay(this.postUpVoteCount,"point")},comments:function(){return this.metaDisplay(this.postCommentsCount,"comment")}}),methods:{metaDisplay:function(e,i){return 1===e?"1 ".concat(i):t.integerWithCommas(e)+" ".concat(i,"s")}}}}).call(this,i(43).default)},function(t,e,i){"use strict";(function(t,n){var s=i(0),o=i.n(s),a=i(156),r=i(159),c=i(275),l=i(154),u=i(273),d=i(274),h=i(155),p=i(16),f=i(96),g=i(8),m=i(3),_=Object(m.a)("post").mapGetters,v=Object(m.a)("app").mapState;e.a={props:["postId","nextPost"],mixins:[f.a,g.a],data:function(){return{toolBarFixedPos:0}},computed:o()({},_({getPost:"GET_POST"}),v(["topNavHeight"]),{postDomId:function(){return p.default.getPostDomId(this.postId)},post:function(){return this.getPost(this.postId)},postTitle:function(){return t.htmlDecode(this.post.title)}}),watch:{topNavHeight:function(){window.scrollY<=this.toolBarFixedPos?this.fixToolBar(!1):this.fixToolBar(!0)},post:function(){var t=this;this.$nextTick(function(){t.updateToolBarFixedPos()})}},methods:{handleScroll:function(){var t=this.toolBarFixedPos;"fixed"===this.$refs.toolbar.$el.style.position?window.scrollY<=t&&this.fixToolBar(!1):window.scrollY>t&&this.fixToolBar(!0)},fixToolBar:function(t){var e=this.$refs.container,i=this.$refs.toolbar.$el,n=i.offsetHeight;i.style.position=t?"fixed":"",i.style.top=t?"".concat(this.topNavHeight,"px"):"",i.style.willChange=t?"transform":"",e.style.marginTop=t?"".concat(n,"px"):""},updateToolBarFixedPos:function(){var t=this.$refs.header;this.toolBarFixedPos=24+t.offsetHeight+6}},components:{PostMeta:a.a,PostTags:r.a,PostToolbar:c.a,PostContent:l.a,PostShareBottom:u.a,PostMetaBottom:d.a,PostSection:h.a},created:function(){n.addEventListener("scroll",this.handleScroll)},mounted:function(){var t=this;this.$nextTick(function(){t.updateToolBarFixedPos()})},destroyed:function(){n.removeEventListener("scroll",this.handleScroll)}}}).call(this,i(43).default,i(222).default)},function(t,e,i){"use strict";(function(t,n){var s=i(0),o=i.n(s),a=(i(50),i(11)),r=i(268),c=i(3),l=i(2),u=(i(138),i(7)),d=i(211),h=i(56),p=i(58),f=(i(5),i(8)),g=i(12);u.a.use(d.a);var m=Object(c.a)("post"),_=m.mapGetters,v=m.mapActions,T=Object(c.a)("user").mapState,E=Object(c.a)("config").mapGetters,S=function(e,i,n){var s=p.a.getApiInfo(e),o=e.params.postId,r=a.a.state.post,c=r.posts,u=r.hydrated,d=a.a.state.config.data;if(c[o])n();else{if(!u&&d)return a.a.commit("post/SET_CURRENT_API_INFO",s),void a.a.dispatch("post/INIT_PAGE_POSTS",d).then(function(){n(),a.a.dispatch("post/RESTORE_SESSION_CACHE",o)});l.a.$Progress.set(80),a.a.commit("post/SET_NEXT_API_INFO",s),a.a.dispatch("post/LOAD_PAGE_POSTS",{addCurrentPost:!0}).then(function(){if(!c[o])return Promise.reject("Post not found");n(),a.a.commit("post/SET_CURRENT_API_INFO",s)}).catch(function(i){t.log(i),window.location.href=e.fullPath})}};e.a={mixins:[f.a,g.a],data:function(){return{containerPadding:32}},components:{PostItem:r.a},watch:{postId:function(t){var e=this;this.$nextTick(function(){return e.initComment()})},commentAuth:function(){this.initComment()}},computed:o()({},_({getPost:"GET_POST"}),E({getConfig:"GET_CONFIG"}),T(["user"]),{commentAuth:function(){return this.user.commentSso||""},postId:function(){return this.$route.params.postId},post:function(){return this.getPost(this.postId)}}),methods:o()({},v({toNextPost:"TO_NEXT_POST",toPrevPost:"TO_PREV_POST"}),{nearPost:function(t,e){e&&(this.track("PostAction",t,this.postId),this.$router.push(this.getPostRoute(e)))},nextPost:function(){var t=this;return this.toNextPost().then(function(e){t.nearPost("NextPost",e)})},prevPost:function(){var t=this;return this.toPrevPost().then(function(e){t.nearPost("PrevPost",e)})},initComment:function(){var t=this.post;t&&d.a.init(o()({},this.getConfig("configs.comment"),{url:t.url,postKey:t.id,opClientId:t.commentOpClientId,opSignature:t.commentOpSignature,auth:this.commentAuth,loginCallback:function(){return h.a.presentSignupForm("".concat(t.url,"#comment"))},reportPromise:n.ReportController.getReportOverlayPromiseForComment}))}}),created:function(){l.a.$on("post::toNextPost",this.nextPost),l.a.$on("post::toPrevPost",this.prevPost)},mounted:function(){var t=this;this.$nextTick(function(){return t.initComment()})},beforeRouteEnter:function(t,e,i){S(t,0,i)},beforeRouteUpdate:function(t,e,i){S(t,0,i)},destroyed:function(){l.a.$off("post::toNextPost",this.nextPost),l.a.$off("post::toPrevPost",this.prevPost)}}}).call(this,i(14).default,i(31).default)},function(t,e,i){"use strict";(function(t){i(128),i(30),i(26),i(25);var n=i(0),s=i.n(n),o=i(7),a=i(296),r=i.n(a),c=i(2),l=i(4),u=i(3),d=i(84),h=i(11),p=i(166),f=i(265),g=i(165),m=i(157),_=i(160),v=i(285),T=i(55),E=i.n(T),S=i(210),P=i(12),O=i(54),I=i(8),C=Object(u.a)("app").mapState,y=Object(u.a)("section").mapGetters;o.a.use(r.a,{color:"#09f",thickness:"4px",transition:{speed:"0.6s cubic-bezier(1,.01,.75,.91)",opacity:"0.4s",termination:800},autoRevert:!1}),e.a={mixins:[P.a,O.a,I.a],computed:s()({},C(["topNavHeight"]),y({getSection:"GET_SECTION"}),{showBannerTopAds:function(){return[l.a.POST_LIST,l.a.SECTION_POST_LIST,l.a.TAG_POST_LIST].includes(this.$route.name)},hideSidebar:function(){return[l.a.LOGIN_PAGE,l.a.SIGNUP_PAGE].includes(this.$route.name)},containerStyle:function(){return{paddingTop:this.topNavHeight?"".concat(this.topNavHeight,"px"):""}}}),components:{PageComponent:p.a,BannerTopAds:f.a,SectionSidebar:g.a,Sidebar:m.a,Overlay:_.a},methods:{handleAnchor:function(t,e){var i=new E.a(t),n=d.a.match(i.pathname+i.query+i.hash),s=this.$route,o=s.name===l.a.POST_PAGE;if(n.name&&S.default.isValidLink(i.href)){switch(n.name){case l.a.POST_PAGE:if(!o)return void h.a.commit("post/SAVE_SESSION_CACHE",n.params.postId);break;case l.a.TAG_POST_LIST:if(!o&&"post-tag"===n.query.ref)return;break;case l.a.SECTION_POST_LIST:if(!this.getSection(n.params.section).url)return;if(!o&&"post-section"===n.query.ref)return}e.preventDefault(),n.fullPath!==s.fullPath?this.$router.push(n.fullPath):window.location.href=n.fullPath}},initTimedTrackingManager:function(){var e=this;this.timedTrackingMgr=new v.a(t),this.timedTrackingMgr.updateTrackingCVars(),this.timedTrackingMgr.setVisibilityObserver(-this.topNavHeight,0),this.timedTrackingMgr.start(),d.a.afterEach(function(t,i){e.timedTrackingMgr.stop(),e.timedTrackingMgr.untrackAll(),e.timedTrackingMgr.updateTrackingCVars(),e.timedTrackingMgr.start()}),c.a.$on("tracking::trackElement",function(t){var i=t.domId,n=t.data;e.timedTrackingMgr.track(i,n)})}},created:function(){var t=this;c.a.$on("nav::anchorClick",function(e,i){t.handleAnchor(e,i)}),this.initTimedTrackingManager()}}}).call(this,i(183).default)},function(t,e,i){"use strict";var n=i(148),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"btn-vote left",class:{up:1===t.postUserScore,down:-1===t.postUserScore}},[i("li",[i("a",{staticClass:"up",class:{active:1===t.postUserScore},attrs:{href:"javascript:void(0);",rel:"nofollow"},on:{click:t.onVoteUp}},[i("span",[t._v("UP")])])]),t._v(" "),i("li",[i("a",{staticClass:"down",class:{active:-1===t.postUserScore},attrs:{href:"javascript:void(0);",rel:"nofollow"},on:{click:t.onVoteDown}},[i("span",[t._v("DOWN")])])])])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(147),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isPostHidden?i("div",[i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){e.stopPropagation(),t.showNSFW(e)}}},[t._m(0)])]):t.post.type===t.TYPE_PHOTO?i("div",[t.isPostPage?i("PostContentPhoto",{attrs:{postId:t.post.id,postTitle:t.post.title,postImages:t.post.images}}):i("PostListContentPhoto",{attrs:{postId:t.post.id,postTitle:t.post.title,postImages:t.post.images,hasLongPostCover:t.post.hasLongPostCover,isArticle:!1,position:t.position}})],1):t.post.type===t.TYPE_ANIMATED?i("div",[i("PostContentAnimated",{attrs:{post:t.post,isMedia:t.isMedia}})],1):[t.TYPE_VIDEO,t.TYPE_EMBED_VIDEO].includes(t.post.type)?i("div",[i("PostContentVideo",{attrs:{postId:t.post.id,postTitle:t.post.title,postVideo:t.post.video,isMedia:t.isMedia,isEmbedVideo:t.post.type===t.TYPE_EMBED_VIDEO,postImages:t.post.images,autoPlayEvent:t.post.autoPlayEvent,position:t.position,stream:t.stream}})],1):t.post.type===t.TYPE_ARTICLE?i("div",[!t.isPostPage&&t.post.images.image460?i("PostListContentPhoto",{attrs:{postId:t.post.id,postTitle:t.post.title,postImages:t.post.images,hasLongPostCover:t.post.hasLongPostCover,isArticle:!0,position:t.position}}):t.isPostPage?i("PostContentArticle",{attrs:{post:t.post}}):t._e()],1):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nsfw-post"},[e("h3",[this._v("Sensitive Content")]),this._v(" "),e("p",[this._v("Click to view this post.")])])}],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(139),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"post-section"},[i("a",{staticClass:"icon",attrs:{target:"_blank",href:t.url||"javascript:void(0);"},on:{click:t.trackPostSection}},[i("img",{attrs:{src:t.postSection.imageUrl}})]),t._v(" "),i("p",{staticClass:"message"},[i("a",{staticClass:"section",attrs:{target:"_blank",href:t.url||"javascript:void(0);"},on:{click:t.trackPostSection}},[t._v("\n            "+t._s(t.postSection.name)+"\n        ")]),t._v(" "),t.creationTime?[t._v("  "+t._s(t.creationTime))]:t._e(),t._v(" "),t.postUser?[t._v(" \n            "),t._l(t.postUserActions,function(e,n){return["comment"===e?i("a",{attrs:{href:t.commentLink,target:"_blank"},on:{click:function(e){t.track(t.category,"ViewProfileComment")}}},[t._v("\n                    "+t._s(t.getActionText(e,n))+"\n                ")]):[t._v(t._s(t.getActionText(e,n)))]]})]:t._e()],2)])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(149),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"post-meta"},[i("TapPost",{staticClass:"point badge-evt",attrs:{href:t.pointUrl,postId:t.postId,position:t.position,target:t.target,eventKey:"Point"}},[t._v("\n        "+t._s(t.points)+"\n    ")]),t._v(" \n    "),i("TapPost",{staticClass:"comment badge-evt",attrs:{href:t.commentUrl,postId:t.postId,position:t.position,target:t.target,eventKey:"CommentCountText"}},[t._v("\n        "+t._s(t.comments)+"\n    ")])],1)},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(130),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{ref:"sidebar",attrs:{id:"sidebar"}},[i("div",{style:t.styleObj,attrs:{id:"sidebar-content"}},[t.topAdContainer?i("section",{staticClass:"block-ad"},[i("div",{ref:"topAd",staticClass:"img-container",attrs:{id:t.topAdContainer.adContainerId}})]):t._e(),t._v(" "),i("section",{staticClass:"block-feature-cover"},[i("ul",t._l(t.visibleFeaturedPosts,function(e,n){return i("SidebarFeaturedItem",{key:e.itemId,attrs:{post:e,position:n,addClickedPost:t.addClickedPost}})}))]),t._v(" "),i("div",{ref:"sidebar-tail"},[t.bottomAdContainer?i("section",{staticClass:"block-ad"},[i("div",{ref:"bottomAd",staticClass:"img-container",attrs:{id:t.bottomAdContainer.adContainerId}})]):t._e(),t._v(" "),i("SidebarGetApp"),t._v(" "),i("SidebarSocial")],1)])])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";i(94);var n=i(15),s=i(5),o={props:{postId:String,postTitle:String,postImages:Object,position:Number},methods:{getShareTrackingParams:function(t){return n.a.getShareTrackingParams(t,s.a.isPostPage(),this.postId)},getShareEventParams:function(t){return n.a.getShareEventParams(t,s.a.getPageKey(),this.postId)},getShareTitle:function(t){return n.a.getShareTitle(this.postTitle,t)},getShareUrl:function(t){return n.a.getShareUrl(t,this.postId)},getShareImg:function(t){return this.postImages[t]&&this.postImages[t].url||""},clickFbShare:function(){var t=this.getShareUrl("facebook"),e="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t);n.a.openShareWindow(e)},clickPinterestShare:function(){var t=this.getShareUrl("pinterest"),e=this.getShareImg("image700"),i=this.getShareTitle("pinterest"),s="//pinterest.com/pin/create/button/?url="+encodeURIComponent(t)+"&media="+encodeURIComponent(e)+"&description="+i;n.a.openShareWindow(s)}}},a=i(1),r=Object(a.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("a",{staticClass:"badge-evt badge-track btn-share facebook",attrs:{href:"javascript:void(0);","data-track":t.getShareTrackingParams("facebook"),"data-evt":t.getShareEventParams("facebook"),"data-entry-id":t.postId,"data-position":t.position,rel:"nofollow"},on:{click:function(e){e.preventDefault(),t.clickFbShare()}}},[t._v("\n            Facebook\n        ")])]),t._v(" "),i("li",[i("a",{staticClass:"badge-evt badge-track btn-share pinterest",attrs:{href:"javascript:void(0);","data-track":t.getShareTrackingParams("pinterest"),"data-evt":t.getShareEventParams("pinterest"),"data-entry-id":t.postId,"data-position":t.position,rel:"nofollow"},on:{click:function(e){e.preventDefault(),t.clickPinterestShare()}}},[t._v("\n            Pinterest\n        ")])])])},[],!1,null,null,null);e.a=r.exports},function(t,e,i){"use strict";var n=i(8),s=i(12),o={props:["postTags"],mixins:[n.a,s.a],computed:{category:function(){return this.isPostPage?"PostAction":"PostList"}}},a=i(1),r=Object(a.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.postTags&&t.postTags.length>0?i("p",{staticClass:"post-tag"},t._l(t.postTags,function(e){return i("a",{attrs:{target:"_blank",href:e.url+"?ref=post-tag"},on:{click:function(i){t.track(t.category,"ViewTag",{"post-tag-label":e.key})}}},[t._v("\n        "+t._s(e.key)+"\n    ")])})):t._e()},[],!1,null,null,null);e.a=r.exports},function(t,e,i){"use strict";var n=i(0),s=i.n(n),o=i(163),a=i(162),r=i(161),c=i(2),l={login:!1,signupSocial:!1,signupEmail:!1},u={data:function(){return{displayOverlay:!1,modalDisplay:l,hideUsingBackground:!0,dismissible:!0,nextUrl:""}},mixins:[i(8).a],components:{Login:o.a,SignupSocial:a.a,SignupEmail:r.a},methods:{showOverlay:function(t){this.displayOverlay||(this.setDismissible(t),this.displayOverlay=!0,document.body.classList.add("no-scroll"))},hideOverlay:function(){this.displayOverlay&&(this.displayOverlay=!1,this.setDismissible(!0),document.body.classList.remove("no-scroll"))},setDismissible:function(t){this.dismissible!==t&&(this.dismissible=t)},dismissModal:function(){this.modalDisplay=l,this.hideUsingBackground=!0,this.hideOverlay()},showModal:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={};t&&(n[t]=!0),this.modalDisplay=s()({},l,n),this.hideUsingBackground=e,this.showOverlay(i)},showLogin:function(){this.showModal("login",!0,!0)},showSignupSocial:function(){this.showModal("signupSocial",!0,!0)},showSignupEmail:function(){this.showModal("signupEmail",!0,!0)},clickOverlay:function(t){this.hideUsingBackground&&this.dismissModal()}},created:function(){var t=this;c.a.$on("Overlay::showLogin",function(e){t.track("Login","LoginOverlay"),t.showLogin(),t.nextUrl=e||""}),c.a.$on("Overlay::showSignupSocial",function(e){t.track("SignUp","SignUpOverlay"),t.showSignupSocial(),t.nextUrl=e||""})},destroyed:function(){c.a.$off("Overlay::showLogin"),c.a.$off("Overlay::showSignupSocial")}},d=i(1),h=Object(d.a)(u,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["overlay-scroll-container",{hide:!t.displayOverlay}],on:{click:function(e){if(e.target!==e.currentTarget)return null;e.stopPropagation(),t.clickOverlay(e)}}},[i("section",{staticClass:"modal"},[t.dismissible?i("a",{staticClass:"btn-close",attrs:{href:"javascript:void(0);"},on:{click:t.dismissModal}},[t._v("")]):t._e(),t._v(" "),i("section",{attrs:{id:"signup"}},[t.modalDisplay.login?i("Login",{attrs:{nextUrl:t.nextUrl}}):t._e(),t._v(" "),t.modalDisplay.signupSocial?i("SignupSocial",{attrs:{showSignupEmail:t.showSignupEmail,showLogin:t.showLogin,nextUrl:t.nextUrl}}):t._e(),t._v(" "),t.modalDisplay.signupEmail?i("SignupEmail",{attrs:{nextUrl:t.nextUrl}}):t._e()],1)])])},[],!1,null,null,null);e.a=h.exports},function(t,e,i){"use strict";i(52);var n=i(0),s=i.n(n),o=i(8),a=i(95),r=i(3),c=Object(r.a)("config").mapGetters,l={data:function(){return{defaultFullNameMaxLength:20,recaptchaRetryCount:5}},mixins:[o.a],props:["nextUrl"],components:{SocialConnectBtn:a.a},computed:s()({},c({getConfig:"GET_CONFIG"}),{signupConfig:function(){return this.getConfig("page.signup")},signupNextUrl:function(){if(this.nextUrl)return this.nextUrl;var t=this.$route&&this.$route.query||{},e=t.next,i=t.ref;return e||(i&&0===i.indexOf("/")?i:this.$route?this.$route.fullPath:"/")},errorMsg:function(){return this.signupConfig.errorMsg||""},timezoneOffset:function(){return((new Date).getTimezoneOffset()/-60).toString()},refererSource:function(){return(this.$route?this.$route.query.src:null)||""},refererUrl:function(){return(this.$route?this.$route.query.ref:null)||""}}),methods:{onEmailSignup:function(){this.track("SignUp","SignUpEmail")},renderRecaptcha:function(){var t=this;if(0!==this.recaptchaRetryCount){var e=this.$refs.recaptcha;try{grecaptcha.render(e,{sitekey:this.getConfig("configs.captchaPublicKey")}),this.recaptchaRetryCount=0}catch(e){this.recaptchaRetryCount-=1,setTimeout(function(){t.renderRecaptcha()},1e3)}}}},mounted:function(){var t=this;this.$nextTick(function(){t.renderRecaptcha()})}},u=i(1),d=Object(u.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"signup-email"}},[i("h2",[t._v("Become a member")]),t._v(" "),i("form",{attrs:{action:"/member/email-signup",autocomplete:"off",method:"post"}},[i("div",{staticClass:"field"},[i("label",{attrs:{for:"signup-email-name"}},[t._v("Full Name")]),t._v(" "),i("input",{attrs:{id:"signup-email-name",type:"text",name:"fullname",placeholder:"",maxlength:t.signupConfig.fullNameMaxLength||t.defaultFullNameMaxLength},domProps:{value:t.signupConfig.givenFullName||""}})]),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"signup-email-email"}},[t._v("Email Address")]),t._v(" "),i("input",{attrs:{type:"email",name:"email",id:"signup-email-email",placeholder:""},domProps:{value:t.signupConfig.givenEmail||""}})]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"field captcha"},[i("div",{ref:"recaptcha"}),t._v(" "),i("p",{staticClass:"error-message red"},[t._v(t._s(t.errorMsg))])]),t._v(" "),i("div",{staticClass:"btn-container"},[i("input",{staticClass:"btn left",attrs:{type:"submit",value:"Sign Up"},on:{click:t.onEmailSignup}})]),t._v(" "),i("input",{ref:"timezoneOffset",attrs:{type:"hidden",name:"tzo"},domProps:{value:t.timezoneOffset}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"next"},domProps:{value:t.signupNextUrl}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"src"},domProps:{value:t.refererSource}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"ref"},domProps:{value:t.refererUrl}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"app",value:"web"}})])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field"},[e("label",{attrs:{for:"signup-email-password"}},[this._v("Password")]),this._v(" "),e("input",{attrs:{id:"signup-email-password",type:"password",name:"password",value:""}})])}],!1,null,null,null);e.a=d.exports},function(t,e,i){"use strict";var n=i(0),s=i.n(n),o=i(8),a=i(95),r=i(3),c=Object(r.a)("config").mapGetters,l={props:["showSignupEmail","showLogin","nextUrl"],mixins:[o.a],components:{SocialConnectBtn:a.a},computed:s()({},c({getConfig:"GET_CONFIG"}),{isSignupEnabled:function(){return this.getConfig("page.signup.isSignupEnabled",!0)}}),methods:{onEmailSignup:function(){this.track("SignUp","TapSignUpEmail"),this.showSignupEmail()},onEmailLogin:function(){this.track("SignUp","TapLogin"),this.showLogin()}}},u=i(1),d=Object(u.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"signup-fb"}},[i("h2",[t._v("Hey there!")]),t._v(" "),i("p",{staticClass:"lead"},[t._v("9GAG is your best source for fun. Share anything you find interesting, get real responses from people all over the world, and discover what makes you laugh.")]),t._v(" "),i("SocialConnectBtn",{attrs:{isLogin:!1,nextUrl:t.nextUrl}}),t._v(" "),t.isSignupEnabled?i("p",{staticClass:"alternative"},[t._v("Sign up with your "),i("a",{attrs:{href:"javascript:void(0);"},on:{click:t.onEmailSignup}},[t._v("Email Address")])]):t._e(),t._v(" "),i("p",{staticClass:"alternative"},[t._v("Have an account? "),i("a",{attrs:{href:"javascript:void(0);"},on:{click:t.onEmailLogin}},[t._v("Login")])])],1)},[],!1,null,null,null);e.a=d.exports},function(t,e,i){"use strict";var n=i(0),s=i.n(n),o=i(8),a=i(95),r=i(3),c=Object(r.a)("config").mapGetters,l={mixins:[o.a],props:["nextUrl"],components:{SocialConnectBtn:a.a},computed:s()({},c({getConfig:"GET_CONFIG"}),{loginConfig:function(){return this.getConfig("page.login")},loginNextUrl:function(){if(this.nextUrl)return this.nextUrl;var t=this.$route&&this.$route.query||{},e=t.next,i=t.ref;return e||(i&&0===i.indexOf("/")?i:this.$route?this.$route.fullPath:"/")},showErrorMsg:function(){return!!this.errorMsg},errorMsg:function(){switch(this.loginConfig.errorCode){case"LOGIN_FAILED":return"Wrong Username/Email and password combination.";case"LOGIN_ERROR":return"An error occurred. Please try again later."}return null}}),methods:{onForgotPassword:function(){this.track("Login","TapForgotPassword")},onEmailLogin:function(){this.track("Login","LoginEmail")}}},u=i(1),d=Object(u.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h2",[t._v("Login")]),t._v(" "),i("p",{staticClass:"lead"},[t._v("Connect with a social network")]),t._v(" "),i("SocialConnectBtn",{attrs:{isLogin:!0,nextUrl:t.loginNextUrl}}),t._v(" "),i("form",{attrs:{id:"login-email",action:"/login",method:"POST"}},[i("input",{attrs:{type:"hidden",name:"next"},domProps:{value:t.loginNextUrl}}),t._v(" "),i("p",{staticClass:"lead"},[t._v("Log in with your email address ")]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"field"},[i("label",{attrs:{for:"login-email-password"}},[t._v("Password")]),t._v(" "),i("input",{attrs:{id:"login-email-password",type:"password",name:"password",value:""}}),t._v(" "),t.showErrorMsg?i("p",{staticClass:"error-message red"},[t._v(t._s(t.errorMsg))]):t._e()]),t._v(" "),i("div",{staticClass:"btn-container"},[i("input",{staticClass:"btn left",attrs:{type:"submit",value:"Log in"},on:{click:t.onEmailLogin}}),t._v(" "),i("a",{staticClass:"forgot-password",attrs:{href:"/recover"},on:{click:t.onForgotPassword}},[t._v("\n                Forgot Password\n            ")])])])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field"},[e("label",{attrs:{for:"login-email-name"}},[this._v("Email")]),this._v(" "),e("input",{attrs:{id:"login-email-name",type:"text",name:"username",value:"",autofocus:"autofocus"}})])}],!1,null,null,null);e.a=d.exports},function(t,e,i){"use strict";var n=i(8),s=(i(26),i(25),i(0)),o=i.n(s),a=(i(94),i(15)),r=i(5),c=i(169),l=i(12),u=i(54),d=i(3),h=Object(d.a)("user").mapState,p={props:{postId:String,postTitle:String,position:Number},mixins:[l.a,u.a,n.a],computed:o()({},h(["uploads"]),{showReport:function(){return!this.uploads.includes(this.postId)}}),methods:{getShareTrackingParams:function(t){return a.a.getShareTrackingParams(t,this.isPostPage,this.postId)},getShareEventParams:function(t){return a.a.getShareEventParams(t,r.a.getPageKey(),this.postId)},getShareTitle:function(t){return a.a.getShareTitle(this.postTitle,t)},getShareUrl:function(t){return a.a.getShareUrl(t,this.postId)},getEmailShareUrl:function(){return a.a.getEmailShareUrl(this.postTitle,this.postId)},clickGPlusShare:function(){var t=this.getShareUrl("gplus"),e="https://plus.google.com/share?url="+encodeURIComponent(t);a.a.openShareWindow(e)},clickTwitterShare:function(){var t=this.getShareUrl("twitter"),e=this.getShareTitle("twitter"),i="https://twitter.com/intent/tweet?via=9GAG&source=tweetbutton&original_referer="+encodeURIComponent(t)+"&text="+e+"&url="+encodeURIComponent(t);a.a.openShareWindow(i)},clickReport:function(){a.a.reportEntry(this.postId)},clickDelete:function(){a.a.deleteEntry(this.postId)},clickDislike:function(){c.a.reportEntity("Post",this.postId,12)}}},f=i(1),g=Object(f.a)(p,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("a",{staticClass:"badge-evt badge-track",attrs:{href:"javascript:void(0);","data-track":t.getShareTrackingParams("gplus"),"data-evt":t.getShareEventParams("gplus"),"data-entry-id":t.postId,"data-position":t.position,rel:"nofollow"},on:{click:function(e){e.preventDefault(),t.clickGPlusShare()}}},[t._v("\n            Google+\n        ")])]),t._v(" "),i("li",[i("a",{staticClass:"badge-evt badge-track twitter",attrs:{href:"javascript:void(0);","data-track":t.getShareTrackingParams("twitter"),"data-evt":t.getShareEventParams("twitter"),"data-entry-id":t.postId,"data-position":t.position,rel:"nofollow"},on:{click:function(e){e.preventDefault(),t.clickTwitterShare()}}},[t._v("\n            Twitter\n        ")])]),t._v(" "),i("li",[i("a",{staticClass:"badge-evt badge-track",attrs:{href:t.getEmailShareUrl(),"data-track":t.getShareTrackingParams("email"),"data-evt":t.getShareEventParams("email"),"data-entry-id":t.postId,"data-position":t.position,target:"_blank",rel:"nofollow"}},[t._v("\n            Email\n        ")])]),t._v(" "),t.showReport?[i("li",[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.clickReport()}}},[t._v("Report")])]),t._v(" "),i("li",[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.clickDislike()}}},[t._v("I just don't like it")])])]:i("li",[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){e.preventDefault(),t.clickDelete()}}},[t._v("Delete")])])],2)},[],!1,null,null,null).exports,m=i(97),_={props:["postId","postTitle","position"],mixins:[n.a,l.a,m.a],computed:{trackingCVars:function(){var t={PostKey:this.postId};return this.position&&(t.Position=this.position),t}},methods:{onOpenMenu:function(){this.trackLabel("PostAction","OpenMoreMenu",this.postId,this.trackingCVars)},onHideMenu:function(){this.trackLabel("PostAction","CloseMoreMenu",this.postId,this.trackingCVars)}},components:{PostExtraMenuContent:g}},v=Object(f.a)(_,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"btn-vote left"},[i("a",{staticClass:"more",attrs:{href:"javascript:void(0);"},on:{click:t.clickMenu}},[t._v("\n            More\n        ")])]),t._v(" "),i("div",{staticClass:"popup-menu",class:[{hide:!t.showMenu},t.isPostPage?"postpage-share":"listview-share"]},[i("PostExtraMenuContent",{attrs:{postId:t.postId,postTitle:t.postTitle,position:t.position}})],1)])},[],!1,null,null,null);e.a=v.exports},function(t,e,i){"use strict";i(30),i(26),i(25);var n=i(0),s=i.n(n),o=(i(117),i(8)),a=i(97),r={mixins:[o.a,a.a],props:["activeSection"],methods:{clickPopular:function(t){var e="Tap".concat(t);this.track("SectionSidebar",e,"")},isActive:function(t){return this.activeSection===t},isHotFeed:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!!this.isActive("hot")&&(this.$route&&this.$route.query.sort==t)}}},c=i(1),l=Object(c.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"popular"},[t._m(0),t._v(" "),i("ul",{staticClass:"nav"},[i("li",{class:{selected:t.isActive("hot")}},[i("a",{staticClass:"label",attrs:{href:"/hot"},on:{click:function(e){t.clickPopular("Hot")}}},[i("i",{staticClass:"icon hot"}),t._v("\n                Hot\n            ")]),t._v(" "),i("a",{staticClass:"button",attrs:{href:"javascript:void(0);"},on:{click:t.clickMenu}},[i("i",{staticClass:"icon more"})]),t._v(" "),i("div",{ref:"menu",staticClass:"popup-menu feed-sort",class:{hide:!t.showMenu}},[i("ul",[i("li",{class:{selected:t.isHotFeed()}},[i("a",{attrs:{href:"/hot"},on:{click:function(e){t.clickPopular("DefaultHot")}}},[t._v("Top Posts")])]),t._v(" "),i("li",{class:{selected:t.isHotFeed("time")}},[i("a",{attrs:{href:"/hot?sort=time"},on:{click:function(e){t.clickPopular("MostRecentHot")}}},[t._v("Most Recent")])])])])]),t._v(" "),i("li",{class:{selected:t.isActive("trending")}},[i("a",{staticClass:"label",attrs:{href:"/trending"},on:{click:function(e){t.clickPopular("Trending")}}},[i("i",{staticClass:"icon trending"}),t._v("\n                Trending\n            ")])]),t._v(" "),i("li",{class:{selected:t.isActive("fresh")}},[i("a",{staticClass:"label",attrs:{href:"/fresh"},on:{click:function(e){t.clickPopular("Fresh")}}},[i("i",{staticClass:"icon fresh"}),t._v("\n                Fresh\n            ")])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h3",[this._v("Popular")])])}],!1,null,null,null).exports,u=i(3),d=Object(u.a)("section").mapMutations,h={mixins:[o.a],props:["isFavorite","sections","activeSection"],computed:{header:function(){return this.isFavorite?"Favorites":"Sections"}},methods:s()({},d({favoriteSection:"FAVORITE_SECTION",unfavoriteSection:"UNFAVORITE_SECTION"}),{clickSection:function(t){var e=this.isFavorite?"TapFavorite":"TapSection";this.track("SectionSidebar",e,{SectionName:t})},clickFavorite:function(t){this.isFavorite?(this.unfavoriteSection(t.url),this.track("SectionSidebar","UnfavoriteSection",{SectionName:t.name})):(this.favoriteSection(t.url),this.track("SectionSidebar","FavoriteSection",{SectionName:t.name}))},isActive:function(t){return this.activeSection===t}})},p=Object(c.a)(h,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{class:{shortcut:t.isFavorite}},[i("header",[i("h3",[t._v(t._s(t.header))])]),t._v(" "),i("ul",{staticClass:"nav"},t._l(t.sections,function(e){return i("li",{class:{selected:t.isActive(e.url)}},[i("a",{staticClass:"label",attrs:{href:"/"+e.url},on:{click:function(i){t.clickSection(e.name)}}},[i("i",{staticClass:"thumbnail"},[i("img",{attrs:{src:e.ogImageUrl}})]),t._v("\n                "+t._s(e.name)+"\n            ")]),t._v(" "),i("a",{staticClass:"button",attrs:{href:"javascript:void(0)"},on:{click:function(i){t.clickFavorite(e)}}},[i("i",{staticClass:"icon star"})])])}))])},[],!1,null,null,null).exports,f={data:function(){return{currentYear:(new Date).getFullYear()}},methods:{showConsent:function(){window.deployads&&window.deployads.showConsentTool&&window.deployads.showConsentTool()}}},g=Object(c.a)(f,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"footer"},[t._m(0),t._v(" "),i("p",{staticClass:"static sortable-consent",staticStyle:{display:"none"}},[i("a",{attrs:{href:"javascript:void(0);"},on:{click:t.showConsent}},[t._v("Manage Consent")])]),t._v(" "),i("p",{staticClass:"static"},[t._v("9GAG  "+t._s(t.currentYear))])])},[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"static"},[i("a",{attrs:{href:"/advertise"}},[t._v("Advertise")]),t._v(" "),i("a",{attrs:{href:"/rules"}},[t._v("Rules")]),t._v(" "),i("a",{attrs:{href:"/tips"}},[t._v("Tips")]),t._v(" "),i("a",{attrs:{href:"/faq"}},[t._v("FAQ")]),t._v(" "),i("a",{attrs:{href:"/tos"}},[t._v("Terms")]),t._v(" "),i("a",{attrs:{href:"/privacy"}},[t._v("Privacy")]),t._v(" "),i("a",{attrs:{href:"/jobs"}},[t._v("Jobs")]),t._v(" "),i("a",{attrs:{href:"/contact"}},[t._v("Contact")])])}],!1,null,null,null).exports,m=i(4),_=(i(2),Object(u.a)("section").mapGetters),v={data:function(){return{activeSection:""}},computed:s()({},_({favoriteSections:"GET_FAVORITE_SECTIONS",nonFavoriteSections:"GET_NON_FAVORITE_SECTIONS"})),components:{SectionSidebarPopular:l,SectionSidebarSections:p,SectionSidebarFooter:g},watch:{$route:{handler:function(t,e){if(t&&[m.a.POST_LIST,m.a.SECTION_POST_LIST].includes(t.name)){var i=t.params.section;t.name===m.a.POST_LIST&&(i=t.params.type||"hot"),this.activeSection=i}else this.activeSection=""},immediate:!0}}},T=Object(c.a)(v,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section-sidebar"},[i("div",{staticClass:"stealthy-scroll-container"},[i("SectionSidebarPopular",{attrs:{activeSection:t.activeSection}}),t._v(" "),Object.keys(t.favoriteSections).length>0?i("SectionSidebarSections",{attrs:{isFavorite:!0,sections:t.favoriteSections,activeSection:t.activeSection}}):t._e(),t._v(" "),Object.keys(t.nonFavoriteSections).length>0?i("SectionSidebarSections",{attrs:{sections:t.nonFavoriteSections,activeSection:t.activeSection}}):t._e(),t._v(" "),i("SectionSidebarFooter")],1)])},[],!1,null,null,null);e.a=T.exports},function(t,e,i){"use strict";var n=i(132),s=i(1),o=Object(s.a)(n.a,void 0,void 0,!1,null,null,null);e.a=o.exports},,function(t,e,i){"use strict";(function(t,n,s,o,a,r){var c=i(13),l=t.extend({},new c.a,{COOKIE_SLEEP_KEY:"webnoti_sleep",init:function(){},requestPermission:function(t){Notification.requestPermission(function(e){t&&"granted"===e&&l.initNotification(t)})},show:function(t){window.Notification?"granted"!==Notification.permission?"denied"!==Notification.permission&&this.requestPermission(t):this.initNotification(t):n.log("No notification")},initNotification:function(e){if(t.cookie(this.COOKIE_SLEEP_KEY))n.log("WebNoti skipped");else{var i=new Notification(e,{tag:"nineGAGNotification",icon:s.get("page.assets_url")+"/logo-noti-black.png"});i.onclick=this.clickHandler,i.onclose=this.closeHandler,i.onerror=this.errorHandler}},clickHandler:function(e){try{o.PageController.showMenu(o.PageController.selectors.HEADER_NOTIFICATION_ITEM),t(o.PageController.selectors.HEADER_NOTIFICATION_MENU).addClass("menu"),t(o.PageController.selectors.HEADER_NOTIFICATION_MENU+" a").addClass("selected"),t(o.PageController.selectors.HEADER_NOTIFICATION_ITEM).data("plugin_tinyscrollbar").update({invertscroll:!0}),o.PageController.markNotificationsAsRead(),o.PageController.hidePopupMenu(o.PageController.selectors.HEADER_NOTIFICATION_ITEM),window.focus(),a.scrollTo(t(o.PageController.selectors.HEADER_NOTIFICATION_ITEM).offset().top,200),r.track("PushNoti","OpenNoti")}catch(t){n.log(t.message)}},closeHandler:function(e){var i=new Date;i.setTime(i.getTime()+1e3*s.get("page.webNotiSleepTtl")),t.cookie(l.COOKIE_SLEEP_KEY,1,{path:"/",expires:i}),r.track("PushNoti","CloseNoti")},errorHandler:function(t){}});e.a=l}).call(this,i(6),i(14).default,i(34).default,i(31).default,i(16).default,i(21).default)},function(t,e,i){"use strict";(function(t,n){var s=i(48),o=i(27),a=i(5),r=i(2),c=t.extend({},new s.a,function(){var e={API:{REPORT_ENTRY_URI:"/report"},init:function(){},_isRequesting:!1,reportEntity:function(i,s,c,l,u){if(o.a.isLoggedIn(!0,a.a.getBackUrl())&&!e._isRequesting){var d={type:c},h="Report";"Post"==i?(d.entryId=s,h="ReportPost",r.a.$emit("post::report",s)):"User"==i&&(d.username=s,h="ReportUser");var p=e.API.REPORT_ENTRY_URI;t.ajax({type:"POST",url:p,dataType:"json",data:d,beforeSend:function(){e._isRequesting=!0},complete:function(){e._isRequesting=!1},success:function(t){t.okay?(l&&l(s),n.trackEvent("PostAction",h,s,"",{ReportType:c,Success:!0})):(u&&u(s),n.trackEvent("PostAction",h,s,"",{ReportType:c,Success:!1}))},error:function(t){u&&u(s)}})}}};return{init:e.init,reportEntity:e.reportEntity}}());e.a=c}).call(this,i(6),i(75).default)},function(t,e,i){"use strict";(function(t,n){i(74);var s=i(13),o=t.extend({},new s.a,{_isLoading:!1,_bottomReached:!1,_loadCount:0,selectors:{NOTIFICATION_LIST:".badge-notification-list",END_OF_LIST:".badge-notification-eol",NEXT_KEY:".badge-notification-nextKey",LOADER:".badge-notification-loader"},init:function(){0!=t(this.selectors.NOTIFICATION_LIST).length&&this.bindElements()},bindElements:function(){this.bindScrollEvents()},bindScrollEvents:function(){t(window).scroll(t.proxy(this.handlers.windowScrollHandler,this))},loadMorePosts:function(){if(!this._isLoading&&!this._bottomReached){n.track("Noti","LoadList","","",{LoadedCount:++this._loadCount});var e=this,i=t(e.selectors.NOTIFICATION_LIST).find(e.selectors.NEXT_KEY).last().text();t(e.selectors.NOTIFICATION_LIST).find(e.selectors.LOADER).removeClass("hide"),this._isLoading=!0,t.ajax({url:"/notifications/load-more",data:{refKey:i},dataType:"html",success:function(i){(e._isLoading=!1,i)?(t(e.selectors.NOTIFICATION_LIST).find("ul").find(e.selectors.LOADER).before(i),t(e.selectors.NOTIFICATION_LIST).find(e.selectors.END_OF_LIST).length>0&&(e._bottomReached=!0,n.track("Noti","LoadListEnd"))):(e._bottomReached=!0,n.track("Noti","LoadListEmpty"))},error:function(t){e._isLoading=!1,e._bottomReached=!0,n.track("Noti","LoadListError")},complete:function(i){t(e.selectors.NOTIFICATION_LIST).find(e.selectors.LOADER).addClass("hide")}})}},handlers:{windowScrollHandler:function(){t.proxy(o.handlers.loadMoreScrollHandler,this)()},loadMoreScrollHandler:function(){var e=t(window).height();t(window).scrollTop()+e>=t(o.selectors.NOTIFICATION_LIST).height()&&o.loadMorePosts()}}});e.a=o}).call(this,i(6),i(21).default)},function(t,e,i){"use strict";(function(t,n,s,o){var a=i(13),r=i(5),c=i(297),l=i(2),u=t.extend({},new a.a,function(){var e={VOTE_UP:"VOTE_UP",VOTE_DOWN:"VOTE_DOWN",UNVOTE:"UNVOTE",JUMP_COMMENT:"JUMP_COMMENT",LEFT_ARROW:37,RIGHT_ARROW:39,KEY_END:35,KEY_HOME:36,_track:function(t){n.trackEvent("keyboard",t,r.a.getPageKey())},_bindHomeEnd:function(){t(document).keydown(function(i){return!!s.isCurrentlyFocusedInTypeable()||(i.keyCode==e.KEY_HOME||i.keyCode==e.KEY_END?(i.preventDefault(),s.scrollTo(i.keyCode==e.KEY_END?t(document).height():0),!1):void 0)})},_bindJumpPrev:function(i){e.bindAction(i,function(){e._track("prev"),l.a.$emit("post::toPrevPost")}),t(document).keydown(function(t){if(r.a.isPostPage()){if(s.isCurrentlyFocusedInTypeable())return!0;if(t.keyCode==e.LEFT_ARROW)return l.a.$emit("post::toPrevPost"),!1}})},_bindJumpNext:function(i){e.bindAction(i,function(){e._track("next"),l.a.$emit("post::toNextPost")}),t(document).keydown(function(t){if(r.a.isPostPage()){if(s.isCurrentlyFocusedInTypeable())return!0;if(t.keyCode==e.RIGHT_ARROW)return l.a.$emit("post::toNextPost"),!1}})},_bindPostVoteUp:function(t){e.bindAction(t,function(){e._track("upvote"),r.a.isPostPage()?l.a.$emit("post::voteUp"):l.a.$emit("post::voteUp::inView")},"keyup")},_bindPostVoteDown:function(t){e.bindAction(t,function(){e._track("downvote"),r.a.isPostPage()?l.a.$emit("post::voteDown"):l.a.$emit("post::voteDown::inView")},"keyup")},_bindPostComment:function(t){e.bindAction(t,function(){e._track("comment"),r.a.isPostPage()?s.scrollTo(document.getElementById("comment").offsetTop):l.a.$emit("post::comment::inView")})},_bindScrollToTop:function(t){e.bindAction(t,function(){e._track("back-to-top"),e.scrollToTop()})},_bindRandomEntry:function(t){e.bindAction(t,function(){e._track("random"),e.randomEntry()})},_bindPostPlay:function(t){e.bindAction(t,function(){e._track("play"),r.a.isPostPage()?l.a.$emit("post::togglePlay"):l.a.$emit("post::togglePlay::inView")})},_bindElements:function(){e._bindScrollToTop("b"),e._bindJumpPrev("k"),e._bindJumpNext("j"),e._bindRandomEntry("r"),e._bindPostVoteUp("l"),e._bindPostVoteDown("h"),e._bindPostComment("c"),e._bindPostPlay("p"),e._bindHomeEnd()},_getKeyOptions:function(t){return{type:t||"keypress",propagate:!1,target:document,disable_in_input:!0,require_command_mode:!1}},bindAction:function(t,i,n){c.a.add(t,i,e._getKeyOptions(n))},scrollToTop:function(){o.PageController.scrollToTop()},randomEntry:function(){r.a.load("http://"+r.a.getDomain()+"/random")}};return{init:function(){e._bindElements()},bindAction:e.bindAction,scrollToTop:e.scrollToTop,randomEntry:e.randomEntry}}());e.a=u}).call(this,i(6),i(75).default,i(16).default,i(31).default)},function(t,e,i){"use strict";(function(t){var n=i(38),s=t.extend({},n.a,{cacheKey:"cacheableUserReport",cacheTTL:1800,formatRemoteParams:function(t){return{action:"user-report",params:{}}},addToCache:function(t){return this.updateCache(t,!1)},removeFromCache:function(t){return!1}});e.a=s}).call(this,i(6))},function(t,e,i){"use strict";(function(t){var n=i(38),s=t.extend({},n.a,{cacheKey:"cacheableUserPreference",cacheTTL:1800,formatRemoteParams:function(t){return{action:"user-preference",params:{}}},addToCache:function(t){return!1},removeFromCache:function(t){return!1}});e.a=s}).call(this,i(6))},function(t,e,i){"use strict";(function(t){var n=i(38),s=t.extend({},n.a,{cacheKey:"cacheableUserUpload",cacheTTL:1800,formatRemoteParams:function(t){return{action:"user-upload",params:{}}},addToCache:function(t){return!1},removeFromCache:function(t){return!1}});e.a=s}).call(this,i(6))},function(t,e,i){"use strict";(function(t,i){var n={init:function(){t.init(i.get("configs.t"))},onWindowLoad:function(){t.reportPerf()},event:function(e,n,s){var o=i.get("user.id");o&&(s.user=o),t.event(e,n,s)}};e.a=n}).call(this,i(92).default,i(34).default)},function(t,e,i){"use strict";(function(t){var n=i(215),s=function(){this._namespace=""};s.prototype.setNamespace=function(t){this._namespace=t},s.prototype.log=function(e,i){t.log(this._namespace+" "+(i?i+" ":"")+e)},s.prototype.failed=function(t){return(new n.a).failed(t)},s.prototype.succeeded=function(t){return(new n.a).succeeded(t)},e.a=s}).call(this,i(14).default)},,function(t,e,i){"use strict";(function(t){i(26),i(25);var n=i(57),s=i.n(n),o=(i(35),i(106),i(18),i(30),i(10)),a=i.n(o),r=i(9),c=i.n(r),l=function(){function e(t,i,n,s,o,r){a()(this,e),this.category=t,this.action=i,this.name=n,this.value=s,this.cvars=o||{},this.customUrl=r}return c()(e,[{key:"getUniqueItemKey",value:function(){var t=this.category+"|"+this.action+"|"+this.name;if(this.cvars)for(var e in this.cvars)void 0!=e&&(t+="|"+e+":"+this.cvars[e]);return t}},{key:"getHashCode",value:function(){var e=this.getUniqueItemKey();return t.murmurhash3(e,"event-wrapper")}},{key:"extractCVars",value:function(t){var e={},i={};return Object.entries(this.cvars).forEach(function(n){var o=s()(n,2),a=o[0],r=o[1];t.includes(a)?e[a]=r:i[a]=r}),this.cvars=i,e}}]),e}();e.a=l}).call(this,i(420).default)},,,,,function(t,e,i){"use strict";i.r(e);var n={aggregatePeriod:800,timers:{},pendingUpdate:{},listeners:[],addListener:function(t){this.listeners.push(t)},removeListeners:function(){this.listeners=[]},onVideoTimeUpdate:function(t,e,i,n,s){var o=this.pendingUpdate[t.key];if(this.pendingUpdate[t.key]={data:t,isPlaying:e,currentTime:i,duration:n,startTime:s},!o){var a=this;setTimeout(function(){a._onVideoTimeUpdate(a.pendingUpdate[t.key]),a.pendingUpdate[t.key]=null},this.aggregatePeriod)}},_onVideoTimeUpdate:function(t){if(t)for(var e=0;e<this.listeners.length;e++)this.listeners[e](t.data,t.isPlaying,t.currentTime,t.duration,t.startTime)}};e.default=n},,,function(t,e,i){"use strict";i.r(e),function(t){var i={STATE:{NOT_LOADED:0,LOADING:-1,LOADED:1},scriptStatesMap:{},callbacksMap:{},loadScript:function(e,i){var n=this;i="function"==typeof i?i:function(){};var s=this.scriptStatesMap[e]||this.STATE.NOT_LOADED;if(s==this.STATE.LOADED)return t.log("loadScript() url="+e+", state="+s+", run now"),void i();this.callbacksMap[e]=this.callbacksMap[e]||[],this.callbacksMap[e].push(i),s!=this.STATE.LOADING?(t.log("loadScript() url="+e+", state="+s+", start loading"),this.scriptStatesMap[e]=this.STATE.LOADING,this._loadScript(e,function(){if(n.scriptStatesMap[e]!=n.STATE.LOADED){n.scriptStatesMap[e]=n.STATE.LOADED;var i=n.callbacksMap[e]||[];n.callbacksMap[e]=[];for(var s=0;s<i.length;s++)t.log("loadScript() url="+e+", callback i="+s,i[s]),i[s]()}})):t.log("loadScript() url="+e+", state="+s+", push",this.callbacksMap)},_loadScript:function(e,i){t.log("_loadScript",e);var n=document.createElement("script");n.async=!0,n.type="text/javascript",n.src=e,n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(i(),n.onload=n.onreadystatechange=null)};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s)}};e.default=i}.call(this,i(14).default)},,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";(function(t){var n=i(38),s=t.extend({},n.a,{cacheKey:"cacheableUser",cacheTTL:1800,formatRemoteParams:function(t){return{action:"user",params:{}}},addToCache:function(t){return!1},removeFromCache:function(t){return!1}});e.a=s}).call(this,i(6))},function(t,e,i){"use strict";i.r(e),function(t){i(409),i(128);var n=i(5),s={isValidLoginKey:function(t){return this.isValidUsername(t)||this.isValidEmail(t)},isValidUsername:function(t){return t.test("^[0-9a-zA-Z_]{3,15}$")},isValidEmail:function(t){return null!=t.match("^([a-zA-Z0-9._-]+)@([a-zA-Z0-9.-]+)\\.([a-zA-Z]{2,4})$")},isValidFullName:function(e){return t.trim(e).length>0},isValidPassword:function(t,e,i){var n=!0;return void 0!=e&&t.length<e&&(n=!1),void 0!=i&&t.length>i&&(n=!1),0==t.length&&(n=!1),n},isValidGender:function(t){return"F"==t||"M"==t},MONTH_DAYS:[31,29,31,30,31,30,31,31,30,31,30,31],isValidDateValues:function(t,e,i){var n=t%400==0||t%100!=0&&t%4==0;this.MONTH_DAYS[1]=n?29:28;var s=i>=1&&i<=31&&e>=1&&e<=12&&t>=1900,o=i<=this.MONTH_DAYS[e-1];return s&&o},isValidLink:function(t){return new RegExp("^http(s?)://"+n.a.getDomain()).test(t.trim())}};e.default=s}.call(this,i(6))},,,function(t,e,i){"use strict";(function(t,n,s,o,a,r,c,l,u){i(51),i(74);var d=i(57),h=i.n(d),p=(i(18),i(35),i(106),i(5)),f=i(101),g=i(27),m=i(175),_=i(13),v=i(23),T=i(64),E=i(56),S=i(171),P=i(61),O=i(170),I=i(114),C=i(2),y=i(7),A=i(266),b=i(166),R=i(165),N=i(157),k=i(160),L=i(11),U=i(84),w=t.extend({},new _.a,{docTitle:"",init:function(){this.initVue(),this.bindElements(),this.updateTimeZoneOffset(),this.showStickyButton(),this.removeUnusedCookies(),window.addEventListener("click",this.handleAnchorClick.bind(this)),window.addEventListener("submit",this.handleSearchSubmit.bind(this)),this.docTitle=document.title},initVue:function(){L.a.dispatch("config/INIT_CONFIG",n._configs);var t=document.getElementById("jsid-app");if(t)new y.a({render:function(t){return t(A.a)},store:L.a,router:U.a}).$mount(t);else{C.a.$on("nav::anchorClick",function(t){window.location.href=t});for(var e={"jsid-page":b.a,"jsid-overlay":k.a,"section-sidebar":R.a,"featured-sidebar":N.a},i=Object.entries(e),s=function(){var t=h()(i[o],2),e=t[0],n=t[1],s=document.getElementById(e);if(!s)return"continue";new y.a({render:function(t){return t(n)},store:L.a}).$mount(s)},o=0;o<i.length;o++)s()}},_toastFadeDuration:500,_showFooterNavAfter:600,_sidebarStickyElementMarginTop:20,_sidebarStickyHeight:0,_autoCompleteMinLength:1,_autoCompleteMaxResult:10,_isNotificationShown:!1,_lastNotificationUpdateTs:!1,_isUpdatingNotification:!1,_isMarkingNotificationAsRead:!1,_notificationLoadCount:0,_CLASS_SHOW_BACK_TO_TOP:"show",_signUpReferrerCookieKey:"sign_up_referer",_stickyPromoteButtonCookieKey:"sticky_button",_dismissStickyPromoteButtonCookieKey:"dismiss_sticky",_unusedCookies:["undefined"],_pageViewTracked:!1,selectors:{FOOTER_NAV:"a.badge-scroll-to-top",SCROLL_TO_TOP:"a.badge-scroll-to-top",HEADER_TOP_BANNER:".badge-volatile-banner",HEADER_USER_FUNCTION:"#jsid-user-function",HEADER_VISITOR_FUNCTION:"#jsid-visitor-function",HEADER_USER_MENU:"#jsid-header-user-menu",HEADER_USER_ITEM:"#jsid-header-user-menu-items",HEADER_BANNER_CONFIRM_EMAIL:"#jsid-banner-confirm-email",HEADER_BANNER_CONFIRM_EMAIL_USERNAME:"#jsid-banner-confirm-email-username",HEADER_FUNNY_MENU:"#jsid-header-funny-menu",HEADER_FUNNY_ITEM:"#jsid-header-funny-menu-items",HEADER_NOTIFICATION_MENU:"#jsid-header-notification-menu",HEADER_NOTIFICATION_UNREAD_COUNT:"#jsid-notification-unread-count",HEADER_NOTIFICATION_ITEM:"#jsid-header-notification-items",HEADER_NOTIFICATION_CONTAINER:"#jsid-header-notification-items-container",HEADER_NOTIFICATION_SEE_ALL:"#jsid-header-notification-see-all",HEADER_UPLOAD_BTN:"#jsid-upload-btn",HEADER_DARK_MODE_BTN:"#jsid-header-darkmode-btn",HEADER_SEARCH_BTN:"#jsid-header-search-btn",HEADER_SEARCH_DROPDOWN:"#jsid-header-search-dropdown",HEADER_SEARCH:".badge-header-search",HEADER_SEARCH_INPUT:"#jsid-search-input",HEADER_SEARCH_SUGGEST:"#jsid-headbar-search-suggest",HEADER_TOAST:".badge-toast-container",HEADER_TOAST_MESSAGE:".badge-toast-message",HEADER_TOAST_CLOSE:".badge-toast-close",NOTIFICATION_LIST_ITEMS:".badge-notification-item",CONTAINTER:"#container",CLICK_EVENT_SELECTOR:".badge-evt, .badge-track",CLICK_EVENT_NOFOLLOW_SELECTOR:".badge-track-no-follow",STICKY_BUTTON:".badge-sticky-button",SEARCH_INPUT_MAP:{"headbar-search":"jsid-search-input","listview-search":"search-hero"},EXCLUDED_ANCHOR_IDS:{"jsid-suggest-item":!0,"jsid-more-posts":!0,"jsid-login-button":!0,"jsid-signup-button":!0}},onScroll:function(){this.checkFooterNavElements()},bindElements:function(){this.bindDarkModeElements(),this.bindFooterNavElements(),this.bindUploadElements(),this.bindUserSettingElements(),this.bindGroupElements(),this.bindSearchElements(),this.bindToastElements(),this.bindEventTracking(),this.bindPopupMenu(),this.bindNotificationItem()},bindSearchElements:function(){var e=t(this.selectors.HEADER_SEARCH_BTN),i=t(this.selectors.HEADER_SEARCH_INPUT);if(e.click(t.proxy(function(t){t.stopPropagation();var e=this.toggleMenu(this.selectors.HEADER_SEARCH_DROPDOWN);this.hidePopupMenu(e?this.selectors.HEADER_SEARCH_DROPDOWN:null),e&&i.attr("placeholder",i.data("placeholder")).focus()},this)),i.length){var n={appendTo:this.selectors.HEADER_SEARCH_SUGGEST,menuClass:""};this.loadAutoComplete(this.selectors.HEADER_SEARCH_INPUT,n)}},loadAutoComplete:function(e,i){var a=this,r=n.get("configs.algolia")||{},c=n.get("configs.algolia"),l=c.appId,u=c.apiKey;if(l&&u){var d=new s(r),h={appendTo:void 0===i.appendTo?"":i.appendTo,minLength:void 0===i.minLength?this._autoCompleteMinLength:i.minLength,maxResult:void 0===i.maxResult?this._autoCompleteMaxResult:i.maxResult,menuClass:void 0===i.menuClass?"":i.menuClass};t(e).autocomplete({source:function(e,i){d.getTagSuggestions(e.term,{highlightPreTag:"<strong>",highlightPostTag:"</strong>",maxFacetHits:h.maxResult}).then(function(e){i(e),t(".ui-helper-hidden-accessible").addClass("hide"),t(a.selectors.HEADER_SEARCH_SUGGEST).find("ul").first().removeAttr("style")})},delay:100,minLength:h.minLength,appendTo:h.appendTo,open:function(){t(".ui-autocomplete").removeAttr("class").addClass(h.menuClass).removeAttr("style"),t(".ui-helper-hidden-accessible").addClass("hide")},select:function(t,e){var i=e.item.value;C.a.$emit("nav::anchorClick",o.getTagUrl(i,"search"),t)}}).data("ui-autocomplete")._renderItem=function(e,i){return t("<li></li>").data("ui-autocomplete-item",i).append('<a id="jsid-suggest-item"><span class="suggested">'.concat(i.highlighted,'</span><span class="count">').concat(i.count,"</span></a>")).appendTo(e)}}},toggleMenu:function(e){return!t(e).toggleClass("hide").hasClass("hide")},showMenu:function(e){t(e).removeClass("hide")},hideMenu:function(e){t(e).addClass("hide")},bindUserSettingElements:function(){t(this.selectors.HEADER_USER_MENU+", "+this.selectors.HEADER_USER_ITEM).click(t.proxy(function(t){"jsid-my-profile"!==t.target.id&&t.stopPropagation();var e=this.toggleMenu(this.selectors.HEADER_USER_ITEM);this.hidePopupMenu(e?this.selectors.HEADER_USER_ITEM:null)},this))},hidePopupMenu:function(e){var i=[this.selectors.HEADER_FUNNY_ITEM,this.selectors.HEADER_USER_ITEM,this.selectors.HEADER_NOTIFICATION_ITEM,this.selectors.HEADER_SEARCH_DROPDOWN],n={};for(var s in n[this.selectors.HEADER_FUNNY_ITEM]=this.selectors.HEADER_FUNNY_MENU,n[this.selectors.HEADER_USER_ITEM]=this.selectors.HEADER_USER_MENU,n[this.selectors.HEADER_NOTIFICATION_ITEM]=this.selectors.HEADER_NOTIFICATION_MENU,n[this.selectors.HEADER_SEARCH_DROPDOWN]=this.selectors.HEADER_SEARCH_BTN,e!=this.selectors.HEADER_NOTIFICATION_ITEM&&(this._isNotificationShown=!1),i=t.grep(i,function(t){return t!=e}),t(i.join(",")).addClass("hide"),n){var o=n[s],a="";switch(s){case this.selectors.HEADER_USER_ITEM:case this.selectors.HEADER_NOTIFICATION_ITEM:a="selected",o+=" a";break;case this.selectors.HEADER_FUNNY_ITEM:case this.selectors.HEADER_SEARCH_DROPDOWN:a="selected"}s!=e?t(o).removeClass("selected"):t(o).addClass(a)}},bindPopupMenu:function(){t("body").on("click",t.proxy(function(e){(e.ctrlKey||e.metaKey)&&t(e.target).parents(this.selectors.HEADER_NOTIFICATION_ITEM).length>0?this.hidePopupMenu(this.selectors.HEADER_NOTIFICATION_ITEM):t(e.target).parents(this.selectors.HEADER_FUNNY_ITEM).length>0?this.hidePopupMenu(this.selectors.HEADER_FUNNY_ITEM):t(e.target).parents(this.selectors.HEADER_SEARCH_DROPDOWN).length>0?this.hidePopupMenu(this.selectors.HEADER_SEARCH_DROPDOWN):this.hidePopupMenu()},this))},bindGroupElements:function(){t(this.selectors.HEADER_FUNNY_MENU).click(t.proxy(function(t){t.stopPropagation();var e=this.toggleMenu(this.selectors.HEADER_FUNNY_ITEM);this.hidePopupMenu(e?this.selectors.HEADER_FUNNY_ITEM:null)},this)),t(this.selectors.HEADER_FUNNY_MENU+", "+this.selectors.HEADER_FUNNY_ITEM).hover(t.proxy(function(t){t.stopPropagation();var e="mouseenter"==t.type;e&&this.showMenu(this.selectors.HEADER_FUNNY_ITEM),this.hidePopupMenu(e?this.selectors.HEADER_FUNNY_ITEM:null)},this))},bindNotificationElements:function(){var e=this;t(this.selectors.HEADER_NOTIFICATION_ITEM).on("click",this.selectors.CLICK_EVENT_SELECTOR,t.proxy(this._handelClickEventTracking,this)),this.bindNotificationScrollbar(),this.getNotifications(),t(document).click(t.proxy(function(i){e._isNotificationShown&&(e._isNotificationShown=!e._isNotificationShown,(i.ctrlKey||i.metaKey)&&t(i.target).parents(this.selectors.HEADER_NOTIFICATION_ITEM).length>0||(this.hideMenu(this.selectors.HEADER_NOTIFICATION_ITEM),t(this.selectors.HEADER_NOTIFICATION_MENU).removeClass("menu"),t(this.selectors.HEADER_NOTIFICATION_MENU+" a").removeClass("selected")))},this)),t(this.selectors.HEADER_NOTIFICATION_MENU).click(t.proxy(function(i){i.stopPropagation(),i.preventDefault(),e._isNotificationShown?(this.hideMenu(this.selectors.HEADER_NOTIFICATION_ITEM),t(this.selectors.HEADER_NOTIFICATION_MENU).removeClass("menu"),t(this.selectors.HEADER_NOTIFICATION_MENU+" a").removeClass("selected"),this._handelClickEventTracking(i)):(this.showMenu(this.selectors.HEADER_NOTIFICATION_ITEM),t(this.selectors.HEADER_NOTIFICATION_MENU).addClass("menu"),t(this.selectors.HEADER_NOTIFICATION_MENU+" a").addClass("selected"),t(this.selectors.HEADER_NOTIFICATION_UNREAD_COUNT).removeClass("new"),t(this.selectors.HEADER_NOTIFICATION_UNREAD_COUNT).text(""),e.bindNotificationScrollbar(),e.markNotificationsAsRead(),this._handelClickEventTracking(i),this.hidePopupMenu(this.selectors.HEADER_NOTIFICATION_ITEM)),e._isNotificationShown=!e._isNotificationShown},this)),t(this.selectors.NOTIFICATION_LIST_ITEMS).click(t.proxy(function(e){var i=t(e.currentTarget),n=t(i).attr("data-url"),s=t(i).attr("data-type");a.track("Noti","TapLink","","",{Type:s,ObjectUrl:n})},this))},bindNotificationScrollbar:function(){var e=this;t(this.selectors.HEADER_NOTIFICATION_ITEM).data("plugin_tinyscrollbar")?t(this.selectors.HEADER_NOTIFICATION_ITEM).data("plugin_tinyscrollbar").update("relative"):(t(this.selectors.HEADER_NOTIFICATION_ITEM).tinyscrollbar({invertscroll:!0}),t(this.selectors.HEADER_NOTIFICATION_ITEM).bind("move",function(){e.bindNotificationLoadMore()}))},bindNotificationLoadMore:function(){var e=t(this.selectors.HEADER_NOTIFICATION_ITEM).data("plugin_tinyscrollbar"),i=e.contentPosition+e.viewportSize,n=.9*e.contentSize,s=t(this.selectors.HEADER_NOTIFICATION_CONTAINER);!s.data("didEndOfList")&&!this._isUpdatingNotification&&i>=n&&(a.track("Noti","LoadNotiMenuList",p.a.getPageKey(),"",{LoadedCount:++this._notificationLoadCount}),this.getNotifications(s.data("nextKey")))},bindUploadElements:function(){t(this.selectors.HEADER_UPLOAD_BTN).on("click",function(t){t.preventDefault(),v.a.showOverlay(v.a.selectors.OVERLAY_COMPONENT_UPLOAD,!1),P.a.showUploadStep(P.a.selectors.UPLOAD_FILE_STEP)})},bindFooterNavElements:function(){t(this.selectors.SCROLL_TO_TOP).on("click",function(t){t.preventDefault(),S.a.scrollToTop()})},checkFooterNavElements:function(){var e=t(window).scrollTop();e>this._showFooterNavAfter&&!t(this.selectors.FOOTER_NAV).hasClass(this._CLASS_SHOW_BACK_TO_TOP)?t(this.selectors.FOOTER_NAV).addClass(this._CLASS_SHOW_BACK_TO_TOP):e<=this._showFooterNavAfter&&t(this.selectors.FOOTER_NAV).hasClass(this._CLASS_SHOW_BACK_TO_TOP)&&t(this.selectors.FOOTER_NAV).removeClass(this._CLASS_SHOW_BACK_TO_TOP)},bindToastElements:function(){if(t(this.selectors.HEADER_TOAST).is(":hidden")){var e=f.a.getToast();r.isEmptyObject(e)||this.showToast(e.text,e.color,5e3)}},_trackGaEvent:function(t){var e=t.attr("data-evt");if(e){var i,n,s,o,r=(e+="").split(",");i=r.shift(),n=r.shift(),r.shift(),s=r.shift(),o=r.shift();var c={},l=t.attr("data-entry-id");l&&(c.PostKey=l);var u=t.attr("data-position");u&&(c.Position=u),o&&(c.Element=o),a.trackPage(i,n,s,c)}},_trackEvent:function(t){var e=t.attr("data-track");if(e&&void 0!=e){var i=(e+="").split(","),n=i.shift(),s=i.shift(),o={label:i.shift(),labelValue:i.shift(),platform:i.shift(),entry:i.shift(),view:i.shift()};m.a.event(n,s,o)}},_handelClickEventTracking:function(e){var i=t(e.currentTarget);this._trackGaEvent(i),this._trackEvent(i);var n=i.prop("tagName"),s=i.attr("href")+"",o=i.attr("target");if(!(i.is(this.selectors.CLICK_EVENT_NOFOLLOW_SELECTOR)||"A"!=n||0!==s.indexOf("http")&&0!==s.indexOf("/")||o)){e&&e.preventDefault();var a="window.location.href = '"+s+"';";window.setTimeout(a,100)}},bindEventTracking:function(){t(this.selectors.CONTAINTER).on("click",this.selectors.CLICK_EVENT_SELECTOR,t.proxy(this._handelClickEventTracking,this))},_cleanToastColor:function(e){for(var i=(e=t(e)).attr("class").split(/\s+/),n=0;n<i.length;n++)"toast-color-"==i[n].substr(0,12)&&e.removeClass(i[n])},setPageTitle:function(t){this.docTitle=t;var e=T.a.unreadCount,i=e>0?"("+e+") ":"";document.title=i+t},setPageTitleWithSpecialChars:function(t){var e=document.createElement("div");e.innerHTML=t,this.setPageTitle(e.firstChild.nodeValue)},refreshPageTitle:function(){this.setPageTitle(this.docTitle)},scrollToTop:function(){c.scrollTo(0,300)},ensureLoggedIn:function(t){return!!g.a.isLoggedIn()||(E.a.presentSignupForm(t),!1)},showConfirmEmailBanner:function(e){t(this.selectors.HEADER_BANNER_CONFIRM_EMAIL_USERNAME).text(e),t(this.selectors.HEADER_BANNER_CONFIRM_EMAIL).removeClass("hide"),C.a.$emit("nav::updateHeights")},showToast:function(e,i,n,s){var o=t(this.selectors.HEADER_TOAST);o.hide(),this._cleanToastColor(o),t(this.selectors.HEADER_TOAST).addClass("toast-color-"+i),t(this.selectors.HEADER_TOAST_MESSAGE).html(e),t(this.selectors.HEADER_TOAST_CLOSE).click(t.proxy(function(t){t.preventDefault(),this.hideToast()},this)),t(this.selectors.HEADER_TOAST).css("position",void 0==s?"absolute":s),t(this.selectors.HEADER_TOAST).fadeIn(this._toastFadeDuration),void 0!==n&&setTimeout(t.proxy(function(){this.hideToast()},this),n)},hideToast:function(){t(this.selectors.HEADER_TOAST).fadeOut(this._toastFadeDuration)},getNotifications:function(e){var i=this;if(!this._isUpdatingNotification){this._isUpdatingNotification=!0;var n='<li class="loading badge-notification-loader"><a class="btn spin">'+c.getSpinnerHtml()+"</a></li>";t(this.selectors.HEADER_NOTIFICATION_CONTAINER).append(n),this.bindNotificationScrollbar();var s={};T.a._lastBadgetTs||(s.includeReadState=1),e&&(s.refKey=e);t.ajax({url:"/notifications",data:s,dataType:"json",success:function(t){i._isUpdatingNotification=!1,i._lastNotificationUpdateTs=(new Date).getTime(),i.updateNotification(t),t["read-state"]&&T.a.getNsReadStateCb({status:"OK",payload:t["read-state"],error:""})},error:function(t){i._isUpdatingNotification=!1},complete:function(e){t(i.selectors.HEADER_NOTIFICATION_CONTAINER).find(".badge-notification-loader").remove(),i.bindNotificationScrollbar()}})}},markNotificationsAsRead:function(){var e=this;if(!this._isMarkingNotificationAsRead){this._isMarkingNotificationAsRead=!0;var i=I.a.getReadStateUrl(),s=n.get("user.noti.read_state_params");t.ajax({url:i,data:s,dataType:"json",type:"POST",success:function(t){e._isMarkingNotificationAsRead=!1,"OK"==t.status&&T.a.updateNotificationUnreadCount(0)},error:function(t){e._isMarkingNotificationAsRead=!1}})}},markNotificationItemAsRead:function(e,i){t(e).data("markedRead")||t.ajax({url:"/v1/notifications-read-state",data:{itemKeys:i,states:1},dataType:"json",type:"POST",success:function(i){t(e).data("markedRead",!0).removeClass("new")},error:function(t){}})},bindNotificationItem:function(){var e=this,i=this.selectors.HEADER_NOTIFICATION_CONTAINER+","+O.a.selectors.NOTIFICATION_LIST;t(i).on("click",".badge-unread-notification-item",function(){e.markNotificationItemAsRead(this,t(this).data("id"))})},updateNotification:function(e){var i=t(this.selectors.HEADER_NOTIFICATION_CONTAINER);if(i.find(".empty").remove(),"OK"==e.status)if(e.items.length>0){for(var n=0;n<e.items.length;n++)i.append(e.items[n].message);T.a.unreadCount>20?t(this.selectors.HEADER_NOTIFICATION_SEE_ALL).text("See "+(T.a.unreadCount-20)+" more"):t(this.selectors.HEADER_NOTIFICATION_SEE_ALL).text("See all"),i.data("didEndOfList",e.didEndOfList),i.data("nextKey",e.nextKey)}else 0==i.find(".badge-evt").length&&i.append(e.message),i.data("didEndOfList",1);else i.append(e.message),i.data("didEndOfList",1);this.bindNotificationScrollbar()},updateTimeZoneOffset:function(){var e=(new Date).getTimezoneOffset()/-60;t.cookie("gag_tz",e,{domain:n.get("page.cookie_domain"),expires:365,path:"/"})},trackPageView:function(){if(!this._pageViewTracked){var t=g.a.getAccountId();if(t>0){l.setUserId(t);try{window._loadBytegain&&window._loadBytegain(),window.bytegain&&window.bytegain.identify(t)}catch(t){}}l.trackPageView(),this._pageViewTracked=!0}},removeUnusedCookies:function(){t.each(this._unusedCookies,function(e,i){t.cookie(i,0,{expires:-1,path:"/"})})},initUserFunction:function(){g.a.isLoggedIn()?(t(this.selectors.HEADER_USER_FUNCTION).hasClass("hide")&&this.bindNotificationElements(),t(this.selectors.HEADER_VISITOR_FUNCTION).addClass("hide"),t(this.selectors.HEADER_USER_FUNCTION).removeClass("hide")):(t(this.selectors.HEADER_USER_FUNCTION).addClass("hide"),t(this.selectors.HEADER_VISITOR_FUNCTION).removeClass("hide")),this.trackPageView()},showStickyButton:function(){if(t.cookie(this._dismissStickyPromoteButtonCookieKey))return!1;this.updateStickyCookie();var e=n.get("sticky.buttons"),i=new Date,s={},o=9999999999999,a="",r=u.getStore();r.getItem(this._stickyPromoteButtonCookieKey)&&(s=JSON.parse(r.getItem(this._stickyPromoteButtonCookieKey))),t.each(s,function(t,e){e>i.getTime()&&e<o&&(o=e,a=t)}),e.forEach(function(e){t(".badge-sticky-button").hasClass("hide")&&e[1]==a&&(t(".badge-sticky-button").html('<a href="'+e[1]+"\" target=\"_blank\" style=\"font-weight:bold;color:#ffffff;\" onclick=\"GAG.GA.trackPage('StickyPromote', 'TapLink', '', {Url : '"+e[1]+"'});\">"+e[0]+'</a><a class="btn-close badge-toast-close" href="javascript:void(0);" data-sticky="'+e[1]+'" style="padding-left:5px;color:#ffffff;"></a>'),t(".badge-sticky-button .badge-toast-close").click(function(){w.dismissSticky(t(this).data("sticky"))}),t(".badge-sticky-button").removeClass("hide"))})},updateStickyCookie:function(){var e=n.get("sticky.buttons"),i=new Date,s=new Date,o={},a={},r="",c=i.getTime(),l=u.getStore();l.getItem(this._stickyPromoteButtonCookieKey)?(o=JSON.parse(l.getItem(this._stickyPromoteButtonCookieKey)),t.each(o,function(n){t.each(e,function(t,e){n==e[1]&&o[n]>i.getTime()&&(a[n]=o[n],o[n]>c&&(c=o[n]))})}),e.forEach(function(t){(r=t[1])in o||(s.setTime(c+60*t[2]*60*1e3),a[r]=s.getTime(),c=s.getTime())})):e.forEach(function(t){r=t[1],s.setTime(s.getTime()+60*t[2]*60*1e3),a[r]=s.getTime()}),l.setItem(this._stickyPromoteButtonCookieKey,JSON.stringify(a))},dismissSticky:function(e){t(".badge-sticky-button").addClass("hide");var i=n.get("sticky.dismiss"),s=n.get("sticky.noAd"),o={},r=new Date;r.setTime(r.getTime()+60*s*60*1e3),t.cookie(this._dismissStickyPromoteButtonCookieKey,1,{domain:n.get("page.cookie_domain"),expires:r,path:"/"}),a.track("StickyPromote","Dismiss","","",{Url:e});var c=u.getStore();c.getItem(this._stickyPromoteButtonCookieKey)&&(o=JSON.parse(c.getItem(this._stickyPromoteButtonCookieKey))),t.each(o,function(t){o[t]+=t==e?60*(s+i)*60*1e3:60*s*60*1e3}),c.setItem(this._stickyPromoteButtonCookieKey,JSON.stringify(o))},onRecaptchaLoaded:function(){for(var e=0;e<5;e++)setTimeout(function(){var e=t(".badge-g-recaptcha");t.each(e,function(e,i){t(i).html().length||grecaptcha.render(i,{sitekey:n.get("configs.captchaPublicKey")})})},1e3*e)},_getEventKey:function(){var t,e,i={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(t in i)if(t in document){e=i[t];break}return{stateKey:t,eventKey:e}},tabVisibilityChange:function(t){var e=this._getEventKey(),i=e.stateKey,n=e.eventKey;return t&&document.addEventListener(n,t),!document[i]},removeTabVisibilityChange:function(t){var e=this._getEventKey().eventKey;document.removeEventListener(e,t)},_findParent:function(t,e){for(;e;){if((e.nodeName||e.tagName).toLowerCase()===t.toLowerCase())return e;e=e.parentNode}return null},handleAnchorClick:function(t){if(p.a.getRouteInfo()&&!((t=t||window.event).ctrlKey||t.metaKey||t.shiftKey||t.altKey||0!==t.button)){var e=this._findParent("a",t.target||t.srcElement);e&&!this.selectors.EXCLUDED_ANCHOR_IDS[e.id]&&C.a.$emit("nav::anchorClick",e.href,t)}},handleSearchSubmit:function(t){if(p.a.getRouteInfo()&&(t=t||window.event,this.selectors.SEARCH_INPUT_MAP[t.target.id])){t.preventDefault();var e=document.getElementById(this.selectors.SEARCH_INPUT_MAP[t.target.id]),i=e?e.value:"";C.a.$emit("nav::anchorClick","/search?query=".concat(i),t)}},bindDarkModeElements:function(){var e=this;t(this.selectors.HEADER_DARK_MODE_BTN).click(function(){return C.a.$emit("nav::toggleDarkMode")}),C.a.$on("nav::updateDarkMode",function(i){var n=i?"addClass":"removeClass";t("body")[n]("theme-dark"),t(e.selectors.HEADER_DARK_MODE_BTN)[n]("active")})}});window.onCaptchaLoadedCallback=w.onRecaptchaLoaded,e.a=w}).call(this,i(6),i(34).default,i(406).default,i(43).default,i(21).default,i(6),i(16).default,i(75).default,i(236).default)},function(t,e,i){"use strict";(function(t,n,s,o){i(74);var a=i(13),r=(i(56),i(23)),c=i(169),l=i(205).Promise,u=t.extend({},new a.a,{types:{POST:"Post",USER:"User",COMMENT:"Comment"},selectors:{MODAL_REPORT_BUTTON_BACK:"#jsid-report-explain-back",MODAL_REPORT_BUTTON_SUBMIT:"#jsid-report-explain-confirm",MODAL_REPORT_BUTTON_PROCEED:"#jsid-report-option-proceed",MODAL_REPORT_BUTTON_CANCEL:"#jsid-report-option-cancel",MODAL_REPORT_OPTION:".badge-report-type",MODAL_REPORT_OPTION_SELECTOR:".badge-report-selector",MODAL_REPORT_EXPLAIN_PANEL:".badge-report-explain",MODAL_REPORT_ENTITY_CLASS_COMMENT:"badge-report-entity-comment",MODAL_REPORT_ENTITY_CLASS_POST:"badge-report-entity-post",MODAL_REPORT_ENTITY_CLASS_USER:"badge-report-entity-user",MODAL_REPORT_OPTIONS_PANEL:"#jsid-report-type-container",REPORT_LINK:".badge-item-report"},urls:{DMCA:"https://about.9gag.com/copyright#takedown-notice",ReportImpersonation:"https://www.surveymonkey.com/r/GSJ3NTF"},init:function(){this.bindElements()},bindElements:function(){this.bindReportElements()},bindReportElements:function(){t(this.selectors.MODAL_REPORT_BUTTON_BACK).on("click",null,null,t.proxy(this.handlers.reportBackHandler,this)),t(this.selectors.MODAL_REPORT_BUTTON_SUBMIT).on("click",null,null,t.proxy(this.handlers.reportSubmitHandler,this)),t(this.selectors.MODAL_REPORT_BUTTON_PROCEED).on("click",null,null,t.proxy(this.handlers.reportProceedHandler,this)),t(this.selectors.MODAL_REPORT_BUTTON_CANCEL).on("click",null,null,t.proxy(this.handlers.reportCancelHandler,this)),t(this.selectors.MODAL_REPORT_OPTION).on("click",null,null,t.proxy(this.handlers.reportOptionChangeHandler,this))},clearHandlers:function(){this.onDoneHandler=null,this.onCancelHandler=null},onCancel:function(){n.log("ReportController.onCancel"),this.onCancelHandler&&this.onCancelHandler(),this.clearHandlers()},getReportOverlayPromiseForComment:function(t){n.log("Report comment",t);var e=s.ReportController,i=t?t.commentId:"",o={type:e.types.COMMENT,objectId:i};return e.getReportOverlayPromise(o)},getReportOverlayPromise:function(t){n.log("getReportOverlayPromise",t);var e=s.ReportController;return new l(function(i,s){e.showReportOverlay(t,function(t){n.log("ReportController.promise resolve()",t),i(t)},function(){n.log("ReportController.promise reject()"),s()})})},showReportOverlay:function(t,e,i){this.currentConfigs=t,r.a.showOverlay(r.a.selectors.OVERLAY_COMPONENT_REPORT,!1),this.onDoneHandler=e,this.onCancelHandler=i,this.enableReportButtons(!0),this.showReportExplainPanel(!1,0),this.setSelectedReportType(0),this.showReportOptionsPanel(!0)},hideReportOverlay:function(){r.a.hideOverlay(r.a.selectors.OVERLAY_COMPONENT_REPORT)},getReportEntityFilterClass:function(){var t;return this.currentConfigs.type==this.types.COMMENT?t=this.selectors.MODAL_REPORT_ENTITY_CLASS_COMMENT:this.currentConfigs.type==this.types.POST?t=this.selectors.MODAL_REPORT_ENTITY_CLASS_POST:this.currentConfigs.type==this.types.USER&&(t=this.selectors.MODAL_REPORT_ENTITY_CLASS_USER),t},selectedReportType:0,getSelectedReportType:function(){return this.selectedReportType},setSelectedReportType:function(e){var i=!1;t(this.selectors.MODAL_REPORT_OPTION).each(function(n,o){var a=t(o).data("report-type"),r=t(o).find(s.ReportController.selectors.MODAL_REPORT_OPTION_SELECTOR);e==a?(r.addClass("selected"),i=!0):r.removeClass("selected")}),i?(this.selectedReportType=e,t(this.selectors.MODAL_REPORT_BUTTON_PROCEED).removeClass("disabled")):t(this.selectors.MODAL_REPORT_BUTTON_PROCEED).addClass("disabled")},showReportOptionsPanel:function(e){if(e){var i=this.getReportEntityFilterClass();t(this.selectors.MODAL_REPORT_OPTION).each(function(e,n){t(n).hasClass(i)?t(n).removeClass("hide"):t(n).addClass("hide")}),t(this.selectors.MODAL_REPORT_OPTIONS_PANEL).removeClass("hide"),t(this.selectors.MODAL_REPORT_BUTTON_CANCEL).removeClass("hide"),t(this.selectors.MODAL_REPORT_BUTTON_PROCEED).removeClass("hide")}else t(this.selectors.MODAL_REPORT_OPTIONS_PANEL).addClass("hide"),t(this.selectors.MODAL_REPORT_BUTTON_CANCEL).addClass("hide"),t(this.selectors.MODAL_REPORT_BUTTON_PROCEED).addClass("hide")},showReportExplainPanel:function(e,i){var s=t(this.selectors.MODAL_REPORT_BUTTON_SUBMIT),o=s.data("default-text"),a=!1,r=this.getReportEntityFilterClass();r&&(t(this.selectors.MODAL_REPORT_EXPLAIN_PANEL).each(function(s,c){var l=t(c).data("report-type"),u=t(c).data("submit-button-text");e&&i==l&&t(c).hasClass(r)?(t(c).removeClass("hide"),a=!0,n.log("customSubmitButtonText",u),u&&(o=u)):t(c).addClass("hide")}),n.log("submitButtonText",o),s.text(o),1==i||11==i?s.removeClass("red"):s.addClass("red"),a?(t(this.selectors.MODAL_REPORT_BUTTON_BACK).removeClass("hide"),s.removeClass("hide")):(t(this.selectors.MODAL_REPORT_BUTTON_BACK).addClass("hide"),s.addClass("hide")))},enableReportButtons:function(e){e?(t(this.selectors.MODAL_REPORT_BUTTON_CANCEL).removeClass("disabled"),t(this.selectors.MODAL_REPORT_BUTTON_PROCEED).removeClass("disabled"),t(this.selectors.MODAL_REPORT_BUTTON_BACK).removeClass("disabled"),t(this.selectors.MODAL_REPORT_BUTTON_SUBMIT).removeClass("disabled")):(t(this.selectors.MODAL_REPORT_BUTTON_CANCEL).addClass("disabled"),t(this.selectors.MODAL_REPORT_BUTTON_PROCEED).addClass("disabled"),t(this.selectors.MODAL_REPORT_BUTTON_BACK).addClass("disabled"),t(this.selectors.MODAL_REPORT_BUTTON_SUBMIT).addClass("disabled"))},sendReport:function(e,i,s){if(this.currentConfigs){t(e.currentTarget);if(n.log("ReportController reportType:"+i),n.log("ReportController objectType:"+this.currentConfigs.type),n.log("ReportController objectId:"+this.currentConfigs.objectId),n.log("ReportController silentMode:"+s),!this._reportInProgress){this._reportInProgress=!0;var o=t(this.selectors.MODAL_REPORT_BUTTON_SUBMIT),a=o.text();s||(this.enableReportButtons(!1),o.text(o.data("loading-text"))),c.a.reportEntity(this.currentConfigs.type,this.currentConfigs.objectId,i,t.proxy(function(){this.hideReportOverlay(),this._reportInProgress=!1,this.enableReportButtons(!0),s||(o.text(a),this.showSuccessToast())},this),t.proxy(function(){this._reportInProgress=!1,this.enableReportButtons(!0),s||(o.text(a),this.showErrorToast())},this))}}else n.log("ReportController: configurations not found")},showSuccessToast:function(){s.PageController.showToast("Reported. Thanks for making 9GAG better.","yellow",5e3,"fixed")},showErrorToast:function(){s.PageController.showToast("Something went wrong, please try again later.","yellow",5e3,"fixed")},handlers:{reportOptionChangeHandler:function(e){var i=t(e.currentTarget).data("report-type");this.setSelectedReportType(i),n.log("ReportController::reportOptionChangeHandler reportType:"+this.getSelectedReportType())},reportCancelHandler:function(t){r.a.hideAllOverlay()},reportProceedHandler:function(t){var e=this.getSelectedReportType();this.showReportOptionsPanel(!1),this.showReportExplainPanel(!0,e)},reportBackHandler:function(t){this.showReportExplainPanel(!1,0),this.showReportOptionsPanel(!0)},reportSubmitHandler:function(e){t(e.currentTarget);var i=this.getSelectedReportType(),s=!1;1==i?(s=!0,this.hideReportOverlay(),window.open(this.urls.DMCA,"_blank")):11==i&&(this.hideReportOverlay(),window.open(this.urls.ReportImpersonation,"_blank"),s=!0);var a=this.currentConfigs.type+"Action",r="Report"+this.currentConfigs.type;o.track(a,r,"ReportType_"+i),this.onDoneHandler?(n.log("ReportController.onDoneHandler"),this.onDoneHandler({reportType:i}),this.hideReportOverlay(),this.showSuccessToast(),this.clearHandlers()):this.sendReport(e,i,s)}}});e.a=u}).call(this,i(6),i(14).default,i(31).default,i(21).default)},function(t,e,i){"use strict";var n=function(){this._isSuccess=!1,this._keys={},this.setKey(this.Constants.RESPONSE_MESSAGE,"")};n.Constants={RESPONSE_MESSAGE:"RESPONSE_MESSAGE",RESPONSE_CODE:"RESPONSE_CODE",RESPONSE_DATA:"RESPONSE_DATA"},n.prototype.succeeded=function(t){return this._isSuccess=!0,this.setKey(this.Constants.RESPONSE_MESSAGE,t),this},n.prototype.failed=function(t){return this._isSuccess=!1,this.setKey(this.Constants.RESPONSE_MESSAGE,t),this},n.prototype.isSuccess=function(){return this._isSuccess},n.prototype.setKey=function(t,e){return this._keys[t]=e,this},n.prototype.getKey=function(t){return this._keys[t]},n.prototype.setCode=function(t){return this.setKey(this.Constants.RESPONSE_CODE,t),this},n.prototype.getCode=function(){return this.getKey(this.Constants.RESPONSE_CODE)},n.prototype.setData=function(t){return this.setKey(this.Constants.RESPONSE_DATA,t),this},n.prototype.getData=function(){return this.getKey(this.Constants.RESPONSE_DATA)},n.prototype.setMessage=function(t){return this.setKey(this.Constants.RESPONSE_MESSAGE,t),this},n.prototype.getMessage=function(){return this.getKey(this.Constants.RESPONSE_MESSAGE)},e.a=n},,function(t,e,i){"use strict";(function(t){i(30);var n=i(0),s=i.n(n),o=(i(18),i(35),i(91),i(178)),a={RULES:[{category:"PostImpression",action:"PostImpression",aggregateCVarBy:["PostKey","Position"],debounceTime:2e3}],items:{},values:{},trackEventHandler:null,setTrackEventHandler:function(t){this.trackEventHandler=t},aggregate:function(e){for(var i=this,n=!1,o=0;o<this.RULES.length;o++){var a=this.RULES[o];if(e.category==a.category&&e.action==a.action)switch(function(){var o=e.extractCVars(a.aggregateCVarBy);if(0==Object.keys(o).length)return"continue";var r=e.getHashCode();t.log("aggregate() hashCode="+r,o),n=!0,i.values[r]=i.values[r]||[],i.values[r].push(o);var c=i;return i.items[r]||(c.items[r]=s()({},e),setTimeout(function(){c.mergeTrackEvent(r)},a.debounceTime)),"break"}()){case"continue":continue}}return n},mergeTrackEvent:function(e){var i=this.items[e],n=new o.a(i.category,i.action,i.name,i.value,i.cvars,i.customUrl),s=this.values[e];n.cvars.Aggregated=s instanceof Array?JSON.stringify(s):s,this.items[e]=null,this.values[e]=null,t.log("aggregate mergeTrackEvent() hashCode="+e+", values",s),t.log("aggregate mergeTrackEvent() hashCode="+e+", event-merged",n.getUniqueItemKey()),this.trackEventHandler(n)}};e.a=a}).call(this,i(14).default)},function(t,e,i){"use strict";(function(t,i){var n={UNIQUE_EVENT_CATEGORIES:["PostImpression"],storage:{STORAGE_KEY:"sessionEvents",SESSION_TIME:1800,data:{},expireAt:0,fetch:function(){var e=null;if(void 0!==window.localStorage)try{e=JSON.parse(window.localStorage.getItem(this.STORAGE_KEY))}catch(t){}var n=t.getCurrentTime(),s=null==e?0:e.expireAt;i.log("SessionStorage.fetch() expireAt="+s+", TTL="+(s-n)),n>s?(this.data={},this.expireAt=n+this.SESSION_TIME,i.log("SessionStorage.fetch() newSession")):(this.data=e.data,this.expireAt=e.expireAt)},save:function(){if(void 0!==window.localStorage)try{window.localStorage.setItem(this.STORAGE_KEY,JSON.stringify({data:this.data,expireAt:this.expireAt}))}catch(t){}},extendExpiry:function(){this.expireAt=t.getCurrentTime()+this.SESSION_TIME},getItem:function(t){return this.data[t]},setItem:function(t,e){this.data[t]=e}},checkEvent:function(t){this.storage.fetch();var e=t.getHashCode(),n=!this.storage.getItem(e);return this.storage.setItem(e,1),this.storage.extendExpiry(),this.storage.save(),i.log("SessionFilter.checkEvent() hashCode="+e+", isNew="+n,t),n},filterEvent:function(t){return-1==this.UNIQUE_EVENT_CATEGORIES.indexOf(t.category)?t:this.checkEvent(t)?t:null}};e.a=n}).call(this,i(120).default,i(14).default)},,,,function(t,e,i){"use strict";i.r(e);var n=i(10),s=i.n(n),o=i(9),a=i.n(o),r=function(){function t(){s()(this,t);var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(t){}this.passiveSupported=e}return a()(t,[{key:"addEventListener",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];window.addEventListener(t,e,this.passiveSupported?{passive:!0,capture:i}:i)}},{key:"removeEventListener",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];window.removeEventListener(t,e,this.passiveSupported?{passive:!0,capture:i}:i)}}]),t}();e.default=new r},,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(17),s=i.n(n),o={firePageviewCandidate:function(){window.COMSCORE&&(window.COMSCORE.beacon({c1:"2",c2:"22471533"}),s.a.get("/static/pv.xml?ts=".concat(Date.now())))}};e.default=o},,,,,,function(t,e,i){"use strict";i.r(e);i(30);e.default={controllers:{},setController:function(t,e){this.controllers[t]=e},getController:function(t){return this.controllers[t]}}},function(t,e,i){"use strict";i.r(e);var n={storageImpl:{},nonPersistentLS:{structureLocalStorage:{},setItem:function(t,e){this.structureLocalStorage[t]=e},getItem:function(t){return void 0!==this.structureLocalStorage[t]?this.structureLocalStorage[t]:null},removeItem:function(t){this.structureLocalStorage[t]=void 0}},hasLocalStorage:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(t){return!1}},getStore:function(){return this.storageImpl=this.nonPersistentLS,this.hasLocalStorage()&&(this.storageImpl=localStorage),this.storageImpl}};e.default=n},,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(140),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("figure",{staticClass:"img-container",attrs:{id:t.postDomId}},[i("PostContent",{attrs:{post:t.media,isMedia:!0}}),t._v(" "),t.block.caption?i("figcaption",[t._v(t._s(t.block.caption))]):t._e()],1)},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(141),s=i(1),o=Object(s.a)(n.a,function(){var t=this.$createElement,e=this._self._c||t;return this.html?e("div",{domProps:{innerHTML:this._s(this.html)}}):e("br")},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(142),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"post-text-container"},t._l(t.post.article.blocks,function(e,n){return i(t.getBlockTypeComponent(e.type),{key:t.post.id+"-"+n,tag:"component",attrs:{block:e,media:t.getMedia(e)}})}))},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(143),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"badge-track",style:t.style.a,attrs:{href:"javascript:void(0)","data-track":"post,p,,,d,"+t.post.id+",p",target:"_blank"},on:{click:function(e){e.preventDefault(),t.toggleVideo(e)}}},[i("div",{staticClass:"post-view",class:[t.isAnimatedVideo?"video-post":"gif-post",{media:t.isMedia}],style:t.style.widthStyle},[i("video",{key:t.post.id,ref:"videoPlayer",style:t.style.video,attrs:{preload:"auto",poster:t.posterUrl,loop:"",autoplay:t.autoplay,width:t.style.videoWidthAttr},domProps:{muted:!t.soundOn},on:{timeupdate:t.onTimeUpdate,play:t.onPlay,pause:t.onPause}},[t.supportsH265&&t.h265Path?i("source",{attrs:{src:t.h265Path,type:"video/mp4"}}):t._e(),t._v(" "),t.vp9Path?i("source",{attrs:{src:t.vp9Path,type:"video/webm"}}):t._e(),t._v(" "),i("source",{attrs:{src:t.mp4Path,type:"video/mp4"}}),t._v(" "),i("source",{attrs:{src:t.webmPath,type:"video/webm"}})]),t._v(" "),t.isAnimatedVideo?i("div",{staticClass:"sound-toggle",class:[{hide:!t.isAnimatedVideo},t.soundOn?"on":"off"],on:{click:t.clickSoundIcon}}):t._e(),t._v(" "),t.canShowVideoDuration?i("p",{staticClass:"length"},[t._v(t._s(t.videoDurationText))]):t._e(),t._v(" "),i("div",{class:[t.playing?"hide":"presenting"]},[i("span",{staticClass:"play"},[t._v(t._s(t.playIconText))])])])])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(144),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"youtube-post post-view",class:{media:t.isMedia},style:t.styleObj},[t.showCover?i("TapPost",{staticClass:"badge-evt",attrs:{href:t.postUrl,postId:t.postId,position:t.position,eventKey:"PlayVideo"}},[i("div",{class:{"youtube-thumb":!t.isEmbedVideo},style:t.coverStyleObj,attrs:{alt:t.postTitle},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.startPlayer(e)}}}),t._v(" "),i("span",{staticClass:"play",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.startPlayer(e)}}})]):i("iframe",{key:t.postId,attrs:{id:t.playerId,width:t.videoDimension.width,height:t.videoDimension.height,src:t.videoSrc,scrolling:"no",frameborder:"0",allowfullscreen:"",allow:"encrypted-media"}})],1)},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(145),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"post-container",class:[t.canShowViewFullPageBtn?"with-button":""]},[i("TapPost",{staticClass:"badge-evt badge-track",style:t.styleObj,attrs:{href:t.postUrl,postId:t.postId,position:t.position,target:"_blank",eventKey:t.imageEventKey}},[i("picture",[t.imageWebpUrl?i("source",{attrs:{srcset:t.imageWebpUrl,type:"image/webp"}}):t._e(),t._v(" "),i("img",{style:t.styleObj,attrs:{src:t.imageUrl,alt:t.postTitle},on:{"~error":function(e){t.downloadFail(e)}}})])]),t._v(" "),t.canShowViewFullPageBtn?i("TapPost",{staticClass:"badge-evt",attrs:{postId:t.postId,position:t.position,href:t.postUrl,target:"_blank",eventKey:t.buttonEventKey}},[i("div",{staticClass:"post-read-more"},[t._v("View Full Post")])]):t._e()],1)},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(146),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{class:{zoomable:t.isZoomPost},style:t.styleObj,attrs:{href:"javascript: void(0);"},on:{click:function(e){e.preventDefault(),t.zoomPost(e)}}},[i("div",{staticClass:"image-post post-view"},[i("picture",{ref:"image"},[t.imageWebpUrl?i("source",{attrs:{srcset:t.imageWebpUrl,type:"image/webp"}}):t._e(),t._v(" "),i("img",{key:t.postId,style:t.styleObj,attrs:{src:t.imageUrl,alt:t.postTitle},on:{"~error":function(e){t.downloadFail(e)}}})])])])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(135),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile"},[i("section",{staticClass:"profile-header"},[i("div",{staticClass:"img-container round"},[i("img",{attrs:{src:t.profile.avatarUrl,alt:"Profile Pic"}})]),t._v(" "),i("header",[i("h2",[t._v(t._s(t.fullName)+" "),t.isProUser?i("span",{staticClass:"badge pro"},[t._v("Pro")]):t._e()]),t._v(" "),i("p",[t._v(t._s(t.about))])])]),t._v(" "),i("div",{staticClass:"tab-bar"},[i("ul",{staticClass:"menu"},[i("li",[i("a",{class:t.selected.overview,attrs:{href:t.getRoute({params:{type:null}})}},[t._v("\n                    Home\n                ")])]),t._v(" "),i("li",[i("a",{class:t.selected.posts,attrs:{href:t.getRoute({params:{type:"posts"}})}},[t._v("\n                    Posts\n                ")])]),t._v(" "),i("li",[i("a",{class:t.selected.comments,attrs:{href:t.getRoute({params:{type:"comments"}})}},[t._v("\n                    Comments\n                ")])]),t._v(" "),t.viewingOtherUser?t._e():i("li",[i("a",{class:t.selected.likes,attrs:{href:t.getRoute({params:{type:"likes"}})}},[t._v("\n                    Upvotes\n                ")])])]),t._v(" "),t.viewingOtherUser?i("div",{staticClass:"option"},[i("a",{staticClass:"more",attrs:{href:"javascript:void(0);"},on:{click:t.clickMenu}},[t._v("More")])]):t._e(),t._v(" "),i("div",{staticClass:"clearfix"}),t._v(" "),i("div",{staticClass:"popup-menu profile-more",class:{hide:!t.showMenu}},[i("ul",[i("li",[i("a",{attrs:{href:"javascript:void(0);"},on:{click:t.report}},[t._v("Report")])])])])])])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(131),s=i(1),o=Object(s.a)(n.a,function(){var t=this.$createElement,e=this._self._c||t;return this.adContainer&&!this.collapsed?e("div",{staticClass:"topBannerAd-container"},[e("div",{staticClass:"topBannerAd",attrs:{id:this.adContainerId}})]):this._e()},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(152),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{style:t.containerStyle,attrs:{id:"container"}},[i("SectionSidebar"),t._v(" "),i("div",{staticClass:"page",class:{"post-page":t.isPostPage}},[t.showBannerTopAds?i("BannerTopAds"):t._e(),t._v(" "),i("router-view"),t._v(" "),t.hideSidebar?t._e():i("Sidebar"),t._v(" "),i("div",{staticClass:"clearfix"})],1)],1),t._v(" "),i("vue-progress-bar"),t._v(" "),i("Overlay"),t._v(" "),i("PageComponent")],1)},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(151),s=i(1),o=Object(s.a)(n.a,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-wrap"},[e("PostItem",{attrs:{postId:this.postId,nextPost:this.nextPost}}),this._v(" "),e("div",{attrs:{id:"comment"}}),this._v(" "),e("div",{attrs:{id:"comments"}}),this._v(" "),e("section",{staticClass:"post-comment"},[e("comment-system")],1)],1)},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(150),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"individual-post"}},[i("article",{staticClass:"post-page",attrs:{id:t.postDomId}},[i("header",{ref:"header"},[i("PostSection",{attrs:{post:t.post}}),t._v(" "),i("h1",[t._v(t._s(t.postTitle))]),t._v(" "),i("PostTags",{attrs:{postTags:t.post.tags}}),t._v(" "),i("PostMeta",{attrs:{postId:t.postId,postUpVoteCount:t.post.upVoteCount,postCommentsCount:t.post.commentsCount,isVoteMasked:t.post.isVoteMasked}})],1),t._v(" "),i("PostToolbar",{ref:"toolbar",attrs:{postId:t.postId,postUserScore:t.post.userScore,postTitle:t.postTitle,postImages:t.post.images,nextPostHandler:t.nextPost}}),t._v(" "),i("div",{ref:"container",staticClass:"post-container"},[i("PostContent",{attrs:{post:t.post}}),t._v(" "),i("div",{staticClass:"post-text-container",domProps:{innerHTML:t._s(t.post.descriptionHtml)}})],1),t._v(" "),i("PostShareBottom",{attrs:{postId:t.postId,postTitle:t.postTitle,postImages:t.post.images}}),t._v(" "),i("PostMetaBottom",{attrs:{postId:t.postId,postSourceDomain:t.post.sourceDomain,postSourceUrl:t.post.sourceUrl}})],1)])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(134),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{attrs:{id:t.postDomId}},[i("header",[i("PostSection",{attrs:{post:t.post}}),t._v(" "),i("TapPost",{staticClass:"badge-evt badge-track",attrs:{track:"post,v,,,d,"+t.post.id+",l",href:t.postUrl,postId:t.post.id,position:t.position,eventKey:"PostTitle",target:"_blank"}},[i("h1",[t._v(t._s(t.postTitle))])])],1),t._v(" "),i("div",{staticClass:"post-container"},[i("PostContent",{attrs:{post:t.post,position:t.position,stream:t.stream}}),t._v(" "),i("div",{staticClass:"post-text-container",domProps:{innerHTML:t._s(t.post.descriptionHtml)}})],1),t._v(" "),i("PostMeta",{attrs:{postId:t.post.id,postUpVoteCount:t.post.upVoteCount,postCommentsCount:t.post.commentsCount,postUrl:t.postUrl,position:t.position,isVoteMasked:t.post.isVoteMasked}}),t._v(" "),i("div",{staticClass:"post-afterbar-a in-list-view"},[i("PostVote",{attrs:{postId:t.post.id,postUserScore:t.post.userScore,position:t.position}}),t._v(" "),i("ul",{staticClass:"btn-vote left"},[i("li",[i("TapPost",{ref:"comment",staticClass:" comment badge-evt",attrs:{target:"_blank",href:t.postUrl+"#comment",postId:t.post.id,position:t.position,eventKey:"Comment"}},[t._v("\n                    Comment\n                ")])],1)]),t._v(" "),i("PostExtraMenuBtn",{attrs:{postId:t.post.id,postTitle:t.post.title,position:t.position}}),t._v(" "),i("div",{staticClass:"share right"},[i("PostShare",{attrs:{postId:t.post.id,postTitle:t.post.title,postImages:t.post.images,position:t.position}})],1)],1),t._v(" "),i("div",{staticClass:"clearfix"})],1)},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(133),s=i(1),o=Object(s.a)(n.a,function(){var t=this.$createElement,e=this._self._c||t;return e("article",[e("div",{staticClass:"post-container"},[e("iframe",{key:this.$route.fullPath,attrs:{width:this.dimension.width,height:this.dimension.height,src:this.embedUrl,scrolling:"no",frameBorder:"0",allowfullscreen:"false",allow:"encrypted-media"}})]),this._v(" "),e("div",{staticClass:"clearfix"})])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(136),s=i(1),o=Object(s.a)(n.a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile"},[i("section",{staticClass:"profile-header"},[i("header",[i("h1",[t._v(t._s(t.displayTagName))])])]),t._v(" "),i("div",{staticClass:"tab-bar"},[i("ul",{staticClass:"menu"},[i("li",[i("a",{class:t.selected.hot,attrs:{href:t.getRoute({params:{type:null}})},on:{click:function(e){t.track("TagNavigation","TapHot")}}},[t._v("\n                    Hot\n                ")])]),t._v(" "),i("li",[i("a",{class:t.selected.fresh,attrs:{href:t.getRoute({params:{type:"fresh"}})},on:{click:function(e){t.track("TagNavigation","TapFresh")}}},[t._v("\n                    Fresh\n                ")])])])])])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(162),s=i(161),o={data:function(){return{displayEmail:!1}},components:{SignupSocial:n.a,SignupEmail:s.a},methods:{showLogin:function(){this.$router.push("login")},showSignupEmail:function(){this.displayEmail=!0}},created:function(){this.$route.query&&"email"===this.$route.query.method&&(this.displayEmail=!0)}},a=i(1),r=Object(a.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("section",{attrs:{id:"signup"}},[this.displayEmail?e("SignupEmail"):e("SignupSocial",{attrs:{showLogin:this.showLogin,showSignupEmail:this.showSignupEmail}})],1)},[],!1,null,null,null);e.a=r.exports},function(t,e,i){"use strict";var n=i(15),s=i(5),o={props:{postId:String,postTitle:String,postImages:Object},methods:{getShareTrackingParams:function(t){return n.a.getShareTrackingParams(t,s.a.isPostPage(),this.postId)},getShareEventParams:function(t){return n.a.getShareEventParams(t,s.a.getPageKey(),this.postId)},getShareTitle:function(t){return n.a.getShareTitle(this.postTitle,t)},getShareUrl:function(t){return n.a.getShareUrl(t,this.postId)},getShareImg:function(t){return this.postImages[t]&&this.postImages[t].url||""},clickFbShare:function(){var t=this.getShareUrl("facebook"),e="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t);n.a.openShareWindow(e)},clickPinterestShare:function(){var t=this.getShareUrl("pinterest"),e=this.getShareImg("image700"),i=this.getShareTitle("pinterest"),s="//pinterest.com/pin/create/button/?url="+encodeURIComponent(t)+"&media="+encodeURIComponent(e)+"&description="+i;n.a.openShareWindow(s)}}},a=i(1),r=Object(a.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"post-afterbar-a in-post-bot full-width"},[i("div",{staticClass:"share"},[i("ul",[i("li",[i("a",{staticClass:"badge-evt badge-track btn-share facebook",attrs:{href:"javascript:void(0);","data-track":t.getShareTrackingParams("facebook"),"data-evt":t.getShareEventParams("facebook-bottom"),"data-entry-id":t.postId,rel:"nofollow"},on:{click:function(e){e.preventDefault(),t.clickFbShare()}}},[t._v("\n                    Share on Facebook\n                ")])]),t._v(" "),i("li",[i("a",{staticClass:"badge-evt badge-track btn-share pinterest",attrs:{href:"javascript:void(0);","data-track":t.getShareTrackingParams("pinterest"),"data-evt":t.getShareEventParams("pinterest-bottom"),"data-entry-id":t.postId,rel:"nofollow"},on:{click:function(e){e.preventDefault(),t.clickPinterestShare()}}},[t._v("\n                    Share on Pinterest\n                ")])])])]),t._v(" "),i("div",{staticClass:"clearfix"})])},[],!1,null,null,null);e.a=r.exports},function(t,e,i){"use strict";i(26),i(25);var n=i(0),s=i.n(n),o=i(8),a=i(15),r=i(3),c=Object(r.a)("user").mapState,l={mixins:[o.a],props:{postId:String,postSourceDomain:String,postSourceUrl:String},computed:s()({},c(["uploads"]),{showSource:function(){return""!==this.postSourceDomain&&""!==this.postSourceUrl},showDelete:function(){return this.uploads.includes(this.postId)}}),methods:{clickReport:function(){a.a.reportEntry(this.postId)},clickDelete:function(){a.a.deleteEntry(this.postId)}}},u=i(1),d=Object(u.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"post-afterbar-meta"},[i("p",[t.showSource?[i("a",{attrs:{href:t.postSourceUrl,rel:"nofollow",target:"_blank"},on:{click:function(e){t.track("Outbound","TapPostSource",{Url:t.postSourceUrl})}}},[t._v("\n                Source\n            ")]),t._v(" \n        ")]:t._e(),t._v(" "),t.showDelete?i("a",{attrs:{href:"javascript:void(0);",rel:"nofollow"},on:{click:function(e){e.preventDefault(),t.clickDelete()}}},[t._v("\n            Delete\n        ")]):i("a",{attrs:{href:"javascript: void(0);"},on:{click:function(e){e.preventDefault(),t.clickReport()}}},[t._v("\n            Report\n        ")])],2)])},[],!1,null,null,null);e.a=d.exports},function(t,e,i){"use strict";var n=i(153),s=i(158),o=i(164),a=(i(7),{props:["postId","postUserScore","postTitle","postImages","nextPostHandler","position"],components:{PostVote:n.a,PostShare:s.a,PostExtraMenuBtn:o.a}}),r=i(1),c=Object(r.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fixed-wrap-post-bar"},[i("div",{staticClass:"post-afterbar-a in-post-top"},[i("div",{staticClass:"vote"},[i("PostVote",{attrs:{postId:t.postId,postUserScore:t.postUserScore,position:t.position}})],1),t._v(" "),i("div",{staticClass:"share"},[i("PostShare",{attrs:{postId:t.postId,postTitle:t.postTitle,postImages:t.postImages,position:t.position}})],1),t._v(" "),i("div",{staticClass:"vote left"},[i("PostExtraMenuBtn",{attrs:{postId:t.postId,postTitle:t.postTitle,position:t.position}})],1),t._v(" "),i("div",{staticClass:"post-nav"},[i("a",{staticClass:"next",attrs:{href:"javascript:void(0)",role:"button",rel:"nofollow"},on:{click:t.nextPostHandler}},[i("span",{staticClass:"label"},[t._v("Next Post")]),i("span",{staticClass:"arrow"})])])])])},[],!1,null,null,null);e.a=c.exports},function(t,e,i){"use strict";var n={mixins:[i(8).a]},s=i(1),o=Object(s.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{attrs:{id:"listview-search",action:t.$route.path},on:{submit:function(e){t.track("Search","SubmitSearch",{Element:"SearchPageInputBox"})}}},[i("div",{staticClass:"field"},[i("input",{attrs:{id:"search-hero",type:"text",name:"query"},domProps:{value:t.$route.query.query}})])])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(0),s=i.n(n),o=i(29),a=(i(138),i(3)),r=i(12),c=i(8),l=Object(a.a)("section").mapGetters,u={mixins:[r.a,c.a],computed:s()({},l({getSection:"GET_SECTION"}),{currentSectionUrl:function(){return this.$route.params.section},currentSection:function(){return this.getSection(this.currentSectionUrl)},selected:function(){return{hot:{selected:this.type===o.a.HOT},fresh:{selected:this.type===o.a.FRESH}}}})},d=i(1),h=Object(d.a)(u,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile"},[i("section",{staticClass:"profile-header"},[i("div",{staticClass:"img-container"},[i("img",{attrs:{src:t.currentSection.ogImageUrl}})]),t._v(" "),i("header",[i("h2",[t._v(t._s(t.currentSection.name))]),t._v(" "),i("p",[t._v(t._s(t.currentSection.description))])])]),t._v(" "),i("div",{staticClass:"tab-bar"},[i("ul",{staticClass:"menu"},[i("li",[i("a",{class:t.selected.hot,attrs:{href:t.getRoute({params:{type:null}})},on:{click:function(e){t.track("SectionNavigation","TapHot")}}},[t._v("Hot")])]),t._v(" "),i("li",[i("a",{class:t.selected.fresh,attrs:{href:t.getRoute({params:{type:"fresh"}})},on:{click:function(e){t.track("SectionNavigation","TapFresh")}}},[t._v("Fresh")])])])])])},[],!1,null,null,null);e.a=h.exports},function(t,e,i){"use strict";var n=i(86),s={mixins:[i(8).a],props:["tags","type"],computed:{gaAction:function(){return this.type===n.a.FEATURED?"ViewFeaturedTag":"ViewRelatedTag"},ref:function(){return this.type===n.a.FEATURED?"featured-tag":"related-tag"},label:function(){return this.type===n.a.FEATURED?"featured-tag-label":"related-tag-label"}}},o=i(1),a=Object(o.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"featured-tag"},t._l(t.tags,function(e){return i("a",{key:e.key,attrs:{href:e.url+"?ref="+t.ref},on:{click:function(i){var n;t.track("PostList",t.gaAction,((n={})[t.label]=e.key,n))}}},[t._v("\n        "+t._s(e.key)+"\n    ")])}))},[],!1,null,null,null);e.a=a.exports},function(t,e,i){"use strict";var n=i(0),s=i.n(n),o=i(29),a=i(12),r=i(3),c=Object(r.a)("user"),l=c.mapState,u=(c.mapGetters,Object(r.a)("profile").mapGetters),d={mixins:[a.a],computed:s()({},l(["user"]),u({getProfileByUserName:"GET_PROFILE_BY_USERNAME"}),{profile:function(){return this.getProfileByUserName(this.username)},username:function(){return this.$route.params.username},viewingOtherUser:function(){return this.user.username!==this.username},blankData:function(){return this.type===o.a.COMMENTS?{message:"Posts you commented will show up here",link:"/hot",btn:"Checkout What's Hot"}:this.type===o.a.LIKES?{message:"Posts you upvoted will show up here",link:"/hot",btn:"Checkout What's Hot"}:this.type===o.a.POSTS?{message:"Posts you uploaded will show up here",link:"/submit",btn:"Create a Post"}:{message:"Posts you uploaded and commented will show up here",link:"/hot",btn:"Checkout What's Hot"}}})},h=i(1),p=Object(h.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.viewingOtherUser?[i("h3",[t._v("No posts to show")])]:[i("h3",[t._v(t._s(t.blankData.message))]),t._v(" "),i("div",{staticClass:"btn-container"},[i("a",{staticClass:"btn",attrs:{href:t.blankData.link}},[t._v(t._s(t.blankData.btn))])])]],2)},[],!1,null,null,null);e.a=p.exports},function(t,e,i){"use strict";var n={mixins:[i(8).a],props:["post","position","addClickedPost"],methods:{urlWithRef:function(t){return"".concat(t,"?ref=fsidebar")},clickFeaturedPost:function(){var t={ItemType:"Featured",ItemUrl:this.post.url,ItemPos:this.position};this.track("Sidebar","ClickSidebar",t),this.addClickedPost(this.post.itemId)}}},s=i(1),o=Object(s.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("a",{attrs:{href:t.urlWithRef(t.post.url),target:"_blank"},on:{click:function(e){t.clickFeaturedPost()}}},[i("div",{staticClass:"img-container"},[i("img",{attrs:{src:t.post.imageURL}})]),t._v(" "),i("div",{staticClass:"info-container"},[i("h3",[t._v(t._s(t.post.title))])])])])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n={mixins:[i(8).a]},s=i(1),o=Object(s.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"get-the-app"},[i("h2",{staticClass:"sidebar-title"},[t._v("Get the App")]),t._v(" "),i("ul",[i("li",[i("a",{staticClass:"app-store",attrs:{href:"/iphone",target:"_blank"},on:{click:function(e){t.track("DownloadApp","DownloadApple")}}},[t._v("\n                Download on App Store\n            ")])]),t._v(" "),i("li",[i("a",{staticClass:"google-play",attrs:{href:"/android",target:"_blank"},on:{click:function(e){t.track("DownloadApp","DownloadGoogle")}}},[t._v("\n                Get it on Google Play\n            ")])])])])},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";var n=i(83),s={mixins:[i(8).a],mounted:function(){n.a.renderElement(this.$refs.fbLike);try{twttr.widgets.load(this.$refs.twFollow)}catch(t){}}},o=i(1),a=Object(o.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"block-social-love"},[i("h2",{staticClass:"sidebar-title"},[t._v("Connect with 9GAG!")]),t._v(" "),i("ul",{staticClass:"social-love"},[i("li",{ref:"fbLike",staticClass:"facebook"},[i("div",{staticClass:"fb-like",attrs:{"data-href":"https://facebook.com/9gag","data-layout":"button_count","data-show-faces":"false","data-width":"240","data-action":"like","data-colorscheme":"light"}})]),t._v(" "),i("li",{ref:"twFollow",staticClass:"twitter"},[i("a",{staticClass:"twitter-follow-button",attrs:{href:"https://twitter.com/9gag","data-show-count":"false","data-show-screen-name":"false"}},[t._v("\n                Follow @9gag\n            ")])]),t._v(" "),i("li",[i("a",{staticClass:"instagram-follow",attrs:{target:"_blank",href:"https://www.instagram.com/9GAG/"},on:{click:function(e){t.track("Social","LikeInstagram",{Url:"https://www.instagram.com/9GAG/"})}}},[t._v("\n                Follow on Instagram\n            ")])])])])},[],!1,null,null,null);e.a=a.exports},function(t,e,i){"use strict";var n={components:{Login:i(163).a}},s=i(1),o=Object(s.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("section",{attrs:{id:"signup"}},[e("Login")],1)},[],!1,null,null,null);e.a=o.exports},function(t,e,i){"use strict";(function(t){i(66);var n=i(13),s=i(113),o=t.extend({},new n.a,{init:function(){this.bindElements()},selectors:{SETTING_SOCIAL_UNLINK_BTNS:".badge-social-unbind",PROFILE_AVATAR_IMAGE:"#jsid-profile-avatar",PROFILE_AVATAR_UPLOAD:"input[name=avatar]",PROFILE_DEFAULT_AVATAR:"input[name=default_avatar]",RANDOM_AVATAR_BTN:"#jsid-random-avatar-btn",EMOJI_STATUS_SELECT:"#jsid-emoji-status-select"},_bindSocialUnlinkButtons:function(){t(this.selectors.SETTING_SOCIAL_UNLINK_BTNS).on("click",function(e){var i=t(this).attr("data-platform");t.ajax({url:"/connect/unlink",data:{platform:i},dataType:"json",success:function(t){t&&t.okay&&window.location.reload()},error:function(t){}})})},_bindRandomAvatarButton:function(){var e=t(this.selectors.PROFILE_AVATAR_IMAGE),i=t(this.selectors.PROFILE_DEFAULT_AVATAR),n=t(this.selectors.RANDOM_AVATAR_BTN);t(n).click(t.proxy(function(){var s=n.data("path"),o=n.data("max"),a=Math.floor(Math.random()*o+1),r=s.replace("%random%",a);if(e.attr("src")!=r){e.attr("src",r),i.val(a);var c=t(this.selectors.PROFILE_AVATAR_UPLOAD);c.replaceWith(c.clone())}else n.click();return!1},this)),t(document).on("change",this.selectors.PROFILE_AVATAR_UPLOAD,function(){i.val("")})},_bindEmojiStatusMenu:function(){t.widget("custom.emojiStatusSelect",t.ui.selectmenu,{_renderButtonItem:function(e){return t("<span>").html(s.a.parse(e.label))},_renderItem:function(e,i){var n=t("<div>").html(s.a.parse(i.label));return t("<li>").append(n).appendTo(e)}});var e=t(this.selectors.EMOJI_STATUS_SELECT);e.emojiStatusSelect({width:e.width()+20})},bindElements:function(){this._bindSocialUnlinkButtons(),this._bindRandomAvatarButton(),this._bindEmojiStatusMenu()}});e.a=o}).call(this,i(6))},function(t,e,i){"use strict";(function(t,n){i.d(e,"a",function(){return _});i(51);var s=i(10),o=i.n(s),a=i(9),r=i.n(a),c=i(47),l=i.n(c),u=i(22),d=i.n(u),h=i(62),p=i.n(h),f=i(46),g=i.n(f),m=i(5),_=function(t){function e(){return o()(this,e),l()(this,d()(e).apply(this,arguments))}return g()(e,t),r()(e,[{key:"shouldCheckImpression",value:function(t){return t.data?t.data.nsfwCover?(this.log("Web.shouldCheckImpression() nsfw cover",t),!1):p()(d()(e.prototype),"shouldCheckImpression",this).call(this,t):(this.log("Web.shouldCheckImpression() no data",t),!1)}},{key:"shouldCheckNonVideoView",value:function(t){return t.data?t.data.video||t.data.youtube?(this.log("Web.shouldCheckNonVideoView() is video",t),!1):t.data.nsfwCover?(this.log("Web.shouldCheckNonVideoView() nsfw cover",t),!1):(this.log("Web.shouldCheckNonVideoView()",t),p()(d()(e.prototype),"shouldCheckNonVideoView",this).call(this,t)):(this.log("Web.shouldCheckNonVideoView() no data",t),!1)}},{key:"updateTrackingCVars",value:function(){var t=m.a.getPageKey();this.setScreenKey(t);var e=m.a.getUrlParam("ref"),i="",s="";if(m.a.isPostPage())i="SinglePost";else if(m.a.isProfilePage())i="ProfilePostList",s=t;else if(m.a.isSectionPage())i="SectionPostList",s=t;else if(m.a.isTagPostListPage()){var o=n.capitalize(e.split("-")[0]);i="".concat(o,"TagPostList"),s=t}else m.a.isSearchPage()?i="SearchPostList":(i="PostList",s=t);var a={TriggeredPage:i,TriggeredPageKey:s};this.setTrackingCVars(a)}}]),e}(t)}).call(this,i(313).default,i(43).default)},,,,function(t,e,i){"use strict";(function(t){i(35),i(91),i(18);var n=i(0),s=i.n(n),o=(i(30),i(4)),a=i(28),r=(i(16),i(11)),c=i(288),l=i.n(c),u=function(e){var i={post_id:null,section:null,post_tag:null,profile_id:null,view:"list",refresh:"on"},n=i;switch(e.name){case o.a.POST_PAGE:var a=r.a.getters["post/GET_POST"](e.params.postId),c=a.tags.map(function(e){return t.getCanonicalTagFromUrl(e.url)});n=s()({},i,{post_id:a.id,section:a.sections,post_tag:c,view:"post"});break;case o.a.POST_LIST:var l=e.params.type?e.params.type:"hot";n=s()({},i,{section:[l]});break;case o.a.SECTION_POST_LIST:e.params.section&&(n=s()({},i,{section:[e.params.section]}));break;case o.a.TAG_POST_LIST:e.params.tag&&(n=s()({},i,{post_tag:[e.params.tag]}));break;case o.a.USER_POST_LIST:e.params.username&&(n=s()({},i,{profile_id:[e.params.username]}));break;default:n=s()({},i,{view:null})}return n};e.a={setTargeting:function(t,e){var i={},n=e.name?u(e):{},s=u(t);Object.keys(s).forEach(function(t){l()(s[t],n[t])||(i[t]=s[t])}),a.a.setTargeting(i)}}}).call(this,i(43).default)},,,function(t,e,i){"use strict";(function(t,n,s){i(27),i(5);var o=function(){var e={init:function(){},_isRequesting:!1,deleteEntry:function(i){if(!o._isRequesting){var a={entryId:i};t.ajax({type:"DELETE",url:"/delete",dataType:"json",data:a,beforeSend:function(){e._isRequesting=!0},complete:function(){e._isRequesting=!1},success:function(t){t.okay?n.track("PostAction","DeleteSuccess",i):n.track("PostAction","DeleteFail",i),window.location=t.url||"/"},error:function(t){n.track("PostAction","DeleteFail",i);var e=s.parseJsonString(t);window.location=e.url||"/"}})}}};return{init:e.init,deleteEntry:e.deleteEntry}}();e.a=o}).call(this,i(6),i(21).default,i(16).default)},,function(t,e,i){"use strict";(function(t){i.d(e,"a",function(){return _});i(50);var n=i(0),s=i.n(n),o=(i(35),i(91),i(18),i(26),i(25),i(30),i(60)),a=i.n(o),r=i(7),c=i(58),l=i(100),u=i(21),d=i(20),h=i.n(d),p=i(4),f=i(11),g=i(167),m=i.n(g);function _(){var e={next:null,prev:null},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!n()&&!t)throw"You must set apiInfo or provide url in arg to set post"},n=function(){return f.a.state.post.nextApiInfo||f.a.state.post.currentApiInfo},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return f.a.state.post.postIdsByUrl[t||n().url]},d=function(t){var e="prev"!==t?"nextCursors":"prevCursors";return n()&&f.a.state.post[e][n().url]||""},g=function(t,e){return t.hasOwnProperty("userScore")||(t.userScore=e),t};return{namespaced:!0,state:{posts:{},hydrated:!1,postIdsByUrl:{},loadCountByUrl:{},featuredAdsByUrl:{},currentApiInfo:null,nextApiInfo:null,postApiInfos:{},nextCursors:{},prevCursors:{},sessionCache:{}},getters:{GET_POST:function(t){return function(e){return t.posts[e]||{}}},POST_LIST_IDS:function(t,e,i){var n=t.currentApiInfo&&a()(t.postIdsByUrl[t.currentApiInfo.url])||[],s=t.currentApiInfo&&t.currentApiInfo.name||null,o=t.currentApiInfo&&t.currentApiInfo.pageKey||null,r=[p.a.POST_LIST,p.a.SECTION_POST_LIST,p.a.TAG_POST_LIST].includes(s)?i.user.uninterestedPosts:[],c=m()(i.user.recommendedPosts||[])[0]||null;return c&&c.list===o&&c.position<=n.length&&t.posts[c.postKey]&&n.splice(c.position-1,0,c.postKey),n.filter(function(t,e){return n.indexOf(t)===e&&!r.includes(t)})},LOAD_COUNT:function(t){return t.currentApiInfo&&t.loadCountByUrl[t.currentApiInfo.url]||1},FEATURED_ADS:function(t){return t.currentApiInfo&&t.featuredAdsByUrl[t.currentApiInfo.url]||[]},NEXT_CURSOR:function(t){return d("next")}},mutations:{ADD_POST:function(t,e){var s=e.data,a=e.url;i(a),a=a||n().url,r.a.set(t.posts,s.id,s),o(a)||r.a.set(t.postIdsByUrl,a,[]),o(a).push(s.id)},SET_NEXT_POSTS:function(t,e){var s=e.posts,a=e.cursor,c=e.url;i(c),c=c||n().url,o(c)||r.a.set(t.postIdsByUrl,c,[]),s&&s.forEach(function(e){o(c).push(e.id),e=g(e,0),r.a.set(t.posts,e.id,e)}),r.a.set(t.nextCursors,c,a||null)},SET_PREV_POSTS:function(t,e){var s=e.posts,a=e.cursor,c=e.url;i(c),c=c||n().url,o(c)||r.a.set(t.postIdsByUrl,c,[]),s&&s.forEach(function(e){o(c).unshift(e.id),e=g(e,0),r.a.set(t.posts,e.id,e)}),r.a.set(t.prevCursors,c,a||null)},UPDATE_POST_AUTO_PLAY:function(t,e){e.mediaId?r.a.set(t.posts[e.id].article.medias[e.mediaId],"autoPlayEvent",e.autoPlayEvent):r.a.set(t.posts[e.id],"autoPlayEvent",e.autoPlayEvent)},UPDATE_POSTS_USER_SCORE:function(t,e){var i=e.votes;i&&Object.keys(i).forEach(function(n){var o=t.posts[n],a=o&&o.userScore?o.userScore:0;if(o){var c=i[n],l=o.upVoteCount-a+c,u=s()({},o,{userScore:c});e.updateCount&&(u.upVoteCount=l),r.a.set(t.posts,o.id,u)}})},SET_CURRENT_API_INFO:function(t,e){t.currentApiInfo=e,t.nextApiInfo=null},SET_NEXT_API_INFO:function(t,e){t.nextApiInfo=e},SAVE_POST_API_INFO:function(t,e){r.a.set(t.postApiInfos,e,n())},SET_HYDRATE:function(t,e){t.hydrated=e},CLEAR_POST_IDS:function(t,e){e=e||n().url,r.a.set(t.postIdsByUrl,e,null),r.a.set(t.loadCountByUrl,e,null),r.a.set(t.nextCursors,e,null)},UPDATE_LOAD_COUNT:function(t,e){r.a.set(t.loadCountByUrl,n().url,e)},SET_FEATURED_ADS:function(t,e){r.a.set(t.featuredAdsByUrl,n().url,e)},SAVE_SESSION_CACHE:function(e,i){Object.keys(e.sessionCache).forEach(function(i){e.sessionCache[i].expireAt<=t.getCurrentTime()&&r.a.delete(e.sessionCache,i)});var s=[],a=[];o().forEach(function(t){a.push(t),s.push(e.posts[t])}),a.includes(i)&&r.a.set(e.sessionCache,i,{apiInfo:n(),posts:s,cursor:d("next"),expireAt:t.getCurrentTime()+60})}},actions:{TO_NEXT_POST:function(t){return(0,t.dispatch)("TO_NEAR_POST","next")},TO_PREV_POST:function(t){return(0,t.dispatch)("TO_NEAR_POST","prev")},TO_NEAR_POST:function(t,i){t.commit,t.state,t.rootGetters;var s=t.rootState,a=t.dispatch,r=o()||[],c=r.indexOf(s.route.params.postId);if(r.length||!e[i]){return function(){if("next"===i&&r.length-c-7>0||"prev"===i&&c>7)return Promise.resolve();var t=function(){return e[i]?e[i]:d(i)?(t=n().name===p.a.POST_PAGE?"LOAD_PAGE_POSTS":"LOAD_LIST_POSTS",e[i]=a(t,{direction:i}).then(function(){e[i]=null}),e[i]):Promise.resolve();var t};return"prev"===i&&0!==c||"next"===i&&c!==r.length-1?(t(),Promise.resolve()):t()}().then(function(){if("next"===i&&c<r.length-1)c++;else{if(!("prev"===i&&c>0))return Promise.resolve();c--}var t=r[c];return Promise.resolve(t)})}},LOAD_PAGE_POSTS:function(t,e){var i=t.commit,s=(t.state,t.rootState),o=e.direction,a=e.addCurrentPost;return c.a.getListPosts(n(),d(o)).then(function(t){var e=t.data,n=t.url,o=[];a&&e.post&&i("ADD_POST",{data:e.post,url:n}),e.nextPosts&&(o=e.nextPosts.map(function(t){return t.id}),i("SET_NEXT_POSTS",{posts:e.nextPosts,cursor:e.nextCursor,url:n})),e.prevPosts&&(o=o.concat(e.prevPosts.map(function(t){return t.id})),i("SET_PREV_POSTS",{posts:e.prevPosts,cursor:e.prevCursor,url:n}));var r=h()(s.user.votes,o);return i("UPDATE_POSTS_USER_SCORE",{votes:r}),e})},INIT_PAGE_POSTS:function(t,e){var i=t.commit,n=(t.state,t.dispatch,e.post),s=e.nextPosts,o=e.nextCursor,a=e.prevPosts,r=e.prevCursor;return n&&i("ADD_POST",{data:n}),s&&i("SET_NEXT_POSTS",{posts:s,cursor:o}),a&&i("SET_PREV_POSTS",{posts:a,cursor:r}),i("SET_HYDRATE",!0),Promise.resolve()},LOAD_LIST_POSTS:function(t){var e=t.commit,i=(t.state,t.rootState),s=t.dispatch,o=d("next");return c.a.getListPosts(n(),o).then(function(t){var n=t.data,a=t.url,r=n.posts.map(function(t){return t.id});e("SET_NEXT_POSTS",{posts:n.posts,cursor:n.nextCursor,url:a});var c=h()(i.user.votes,r);return e("UPDATE_POSTS_USER_SCORE",{votes:c}),o&&s("UPDATE_LOAD_COUNT",n.nextCursor),n.featuredAds&&e("SET_FEATURED_ADS",n.featuredAds),{data:n,url:a}})},INIT_LIST_POSTS:function(t,e){var i=t.commit,s=(t.state,t.dispatch,e.data),o=e.hydrate,a=void 0!==o&&o,r=s.posts,c=s.nextCursor,l=s.group,u=s.tags,d=s.tag,h=s.profile,p=s.featuredAds,f=n().url;return a&&r&&i("SET_NEXT_POSTS",{posts:r,cursor:c}),l&&i("section/ADD_SECTION",l,{root:!0}),u&&i("tag/SET_TAGS",{tags:u,key:f},{root:!0}),d&&i("tag/SET_TAG_NAV",{tagNav:d,key:f},{root:!0}),h&&i("profile/ADD_PROFILE",h,{root:!0}),p&&i("SET_FEATURED_ADS",p),a&&i("SET_HYDRATE",!0),Promise.resolve()},UPDATE_LOAD_COUNT:function(t,e){var i=t.commit,s=(t.state,t.getters.LOAD_COUNT),o=e?"LoadList":"LoadListEnd",a=n().pageKey;u.default.track("PostList",o,a,"",{LoadedCount:s}),i("UPDATE_LOAD_COUNT",++s)},UPDATE_POSTS_USER_SCORE_AND_CACHE:function(t,e){var i=t.commit;l.a.addToCache(e),i("UPDATE_POSTS_USER_SCORE",{votes:e,updateCount:1})},RESTORE_SESSION_CACHE:function(e,i){var n=e.commit,s=e.state;e.dispatch;if(s.sessionCache[i]&&!(s.sessionCache[i].expireAt<=t.getCurrentTime())){var o=s.sessionCache[i],a=o.apiInfo,r=o.posts,c=o.cursor;a&&n("SET_CURRENT_API_INFO",a),r&&n("SET_NEXT_POSTS",{posts:r,cursor:c})}}}}}}).call(this,i(120).default)},function(t,e,i){"use strict";(function(t){i.d(e,"a",function(){return o});var n=i(7),s=i(2);function o(){return{namespaced:!0,state:{darkMode:!1,topNavHeight:48,location:"",supportsH265:t.supportsH265()},mutations:{SET_LOCATION:function(t,e){t.location=e},TOGGLE_DARK_MODE:function(t){t.darkMode=!t.darkMode},UPDATE_TOP_NAV_HEIGHT:function(t,e){t.topNavHeight=e}},actions:{CHECK_DARK_MODE:function(t){var e=t.state;e.darkMode&&s.a.$emit("nav::updateDarkMode",e.darkMode)},TOGGLE_DARK_MODE:function(t){var e=t.commit,i=t.state;e("TOGGLE_DARK_MODE"),s.a.$emit("nav::updateDarkMode",i.darkMode)},UPDATE_TOP_NAV_HEIGHT:function(t,e){var i=t.commit;t.state;i("UPDATE_TOP_NAV_HEIGHT",e)},CHECK_LOCATION:function(t){var e=t.commit,i=n.a.cookie.get("____lo");i&&e("SET_LOCATION",i)},UPDATE_SIGNUP_REFERRER:function(t){var e=t.rootGetters;n.a.cookie.get("sign_up_referer")||n.a.cookie.set("sign_up_referer",document.referrer,{domain:e["config/COOKIE_DOMAIN"],expires:365,path:"/"})}}}}}).call(this,i(378).default)},,function(t,e,i){"use strict";i(51);var n={all_shortcuts:{},commandMode:!1,add:function(t,e,i){var n={type:"keydown",propagate:!1,disable_in_input:!1,require_command_mode:!0,target:document,keycode:!1};if(i)for(var s in n)void 0===i[s]&&(i[s]=n[s]);else i=n;var o=i.target;"string"==typeof i.target&&(o=document.getElementById(i.target));var a=this;t=t.toLowerCase();var r=function(n){var s,o,r;if((n=n||window.event,i.disable_in_input)&&(n.target?r=n.target:n.srcElement&&(r=n.srcElement),3==r.nodeType&&(r=r.parentNode),"INPUT"==r.tagName||"TEXTAREA"==r.tagName))return;if(!i.require_command_mode||a.commandMode){n.keyCode?s=n.keyCode:n.which&&(s=n.which);var c=String.fromCharCode(s).toLowerCase();188==s&&(c=","),190==s&&(c=".");var l=t.split("+"),u=0,d={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},h={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},p={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};n.ctrlKey&&(p.ctrl.pressed=!0),n.shiftKey&&(p.shift.pressed=!0),n.altKey&&(p.alt.pressed=!0),n.metaKey&&(p.meta.pressed=!0);for(var f=0;o=l[f],f<l.length;f++)"ctrl"==o||"control"==o?(u++,p.ctrl.wanted=!0):"shift"==o?(u++,p.shift.wanted=!0):"alt"==o?(u++,p.alt.wanted=!0):"meta"==o?(u++,p.meta.wanted=!0):o.length>1?h[o]==s&&u++:i.keycode?i.keycode==s&&u++:c==o?u++:d[c]&&n.shiftKey&&(c=d[c])==o&&u++;return u!=l.length||p.ctrl.pressed!=p.ctrl.wanted||p.shift.pressed!=p.shift.wanted||p.alt.pressed!=p.alt.wanted||p.meta.pressed!=p.meta.wanted||(e(n),i.propagate)?void 0:(n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation&&(n.stopPropagation(),n.preventDefault()),!1)}};this.all_shortcuts[t]={callback:r,target:o,event:i.type},o.addEventListener?o.addEventListener(i.type,r,!1):o.attachEvent?o.attachEvent("on"+i.type,r):o["on"+i.type]=r},remove:function(t){t=t.toLowerCase();var e=this.all_shortcuts[t];if(delete this.all_shortcuts[t],e){var i=e.event,n=e.target,s=e.callback;n.detachEvent?n.detachEvent("on"+i,s):n.removeEventListener?n.removeEventListener(i,s,!1):n["on"+i]=!1}},commandModeListener:null,toggleCommandMode:function(){this.commandMode=!this.commandMode,null!=this.commandModeListener&&this.commandModeListener()}};e.a=n},function(t,e,i){"use strict";(function(t,n,s){var o=i(48),a=t.extend({},new o.a,{remoteUrl:"/cacheable",queue:[],addToQueue:function(t,e,i){this.queue.push({controllerName:t,params:e,callback:i})},processQueue:function(){if(0!=this.queue.length)if(this.issetPhpSessionId()){n.log("calling cacheable");var e=[],i=[],o=[];t.each(this.queue,function(t,n){e[t]=n.params,i[t]=n.controllerName,o[t]=n.callback}),t.ajax({url:this.remoteUrl,type:"POST",dataType:"json",data:{json:JSON.stringify(e)},success:function(e){t.each(o,function(t,n){s.getController(i[t])[n](e)})},error:function(){t.each(o,function(t,e){s.getController(i[t])[e](json)})}}),this.queue=[]}else this.issetPhpSessionId()||n.log("CacheableRemoteHandler php session id is not set. Bye!!");else n.log("Skip call remoteUrl. Reason: empty queue")},issetPhpSessionId:function(){return t.cookie("PHPSESSID")}});e.a=a}).call(this,i(6),i(14).default,i(235).default)},function(t,e,i){"use strict";(function(t){var n=i(38),s=t.extend({},n.a,{cacheKey:"cacheableContentRecommended",cacheTTL:1800,formatRemoteParams:function(t){return{action:"content-recommended",params:{}}},addToCache:function(t){return!1},removeFromCache:function(t){return!1}});e.a=s}).call(this,i(6))},function(t,e,i){"use strict";(function(t,n){var s=i(13),o=i(299),a=t.extend({},new s.a,{controllerName:"contentsRecommended",handler:null,remoteHandler:null,init:function(t){return this.handler=o.a,this.remoteHandler=t,this},process:function(){this.handler.get()||(n.log("empty contents recommended. try to retrieve from server"),this.remoteHandler.addToQueue(this.controllerName,this.handler.formatRemoteParams(),"responseCallback"))},responseCallback:function(t){if(void 0!=t["content-recommended"]){var e=t["content-recommended"];this.handler.updateCache(e)}}});e.a=a}).call(this,i(6),i(14).default)},function(t,e,i){"use strict";(function(t,n){var s=i(13),o=i(172),a=t.extend({},new s.a,{controllerName:"userReport",handler:null,remoteHandler:null,init:function(t){return this.handler=o.a,this.remoteHandler=t,this},process:function(){this.handler.get()||(n.log("empty cacheUserReport. try to retrieve from server"),this.remoteHandler.addToQueue(this.controllerName,this.handler.formatRemoteParams(),"responseCallback"))},responseCallback:function(t){void 0!==t["user-report"]&&this.handler.updateCache(t["user-report"])}});e.a=a}).call(this,i(6),i(14).default)},function(t,e,i){"use strict";(function(t){var n=i(38),s=t.extend({},n.a,{cacheKey:"cacheableUserQuota",cacheTTL:1800,formatRemoteParams:function(t){return{action:"user-quota",params:{}}},addToCache:function(t){return!1},removeFromCache:function(t){return!1}});e.a=s}).call(this,i(6))},function(t,e,i){"use strict";(function(t,n,s){var o=i(13),a=i(61),r=i(302),c=t.extend({},new o.a,{controllerName:"userQuota",handler:null,remoteHandler:null,init:function(t){return this.handler=r.a,this.remoteHandler=t,this},process:function(){var t=this.handler.get();t?(n._configs.user.showCaptcha=!1!==t.restricted,this.updateUI()):(s.log("empty cacheUserQuota. try to retrieve from server"),this.remoteHandler.addToQueue(this.controllerName,this.handler.formatRemoteParams(),"responseCallback"))},responseCallback:function(t){void 0!=t["user-quota"]&&(this.handler.updateCache(t["user-quota"]),n._configs.user.showCaptcha=!1!==t["user-quota"].restricted,this.updateUI())},updateUI:function(t){a.a.initialize()}});e.a=c}).call(this,i(6),i(34).default,i(14).default)},function(t,e,i){"use strict";(function(t,n){var s=i(13),o=i(174),a=t.extend({},new s.a,{controllerName:"userUpload",handler:null,remoteHandler:null,init:function(t){return this.handler=o.a,this.remoteHandler=t,this},process:function(){this.handler.get()||(n.log("empty cacheUserUpload. try to retrieve from server"),this.remoteHandler.addToQueue(this.controllerName,this.handler.formatRemoteParams(),"responseCallback"))},responseCallback:function(t){if(void 0!=t["user-upload"]){var e=t["user-upload"];this.handler.updateCache(e)}}});e.a=a}).call(this,i(6),i(14).default)},function(t,e,i){"use strict";(function(t){var n=i(13),s=i(173),o=(i(5),t.extend({},new n.a,{controllerName:"userPreference",selectors:{},handler:null,remoteHandler:null,init:function(t){return this.handler=s.a,this.remoteHandler=t,this},process:function(){this.handler.get()||this.remoteHandler.addToQueue(this.controllerName,this.handler.formatRemoteParams(),"responseCallback")},responseCallback:function(t){if(void 0!=t["user-preference"]){var e=t["user-preference"];this.handler.updateCache(e)}}}));e.a=o}).call(this,i(6))},function(t,e,i){"use strict";(function(t,n,s,o,a){var r=i(13),c=i(61),l=i(209),u=i(27),d=i(88),h=t.extend({},new r.a,{controllerName:"user",selectors:{},handler:null,remoteHandler:null,init:function(t){return this.handler=l.a,this.remoteHandler=t,this},process:function(){var t=this.handler.get();t&&(n.log("found cache cachedUser. update ui"),this.updateUI(t)),t||(n.log("empty cache cachedUser. try to retrieve from server"),this.remoteHandler.addToQueue(this.controllerName,this.handler.formatRemoteParams(),"responseCallback"))},responseCallback:function(e){if(void 0!=e.user){var i=this.handler.getFromCache();null==i&&(i={}),t.each(e.user,function(t,e){i[t]=e}),this.handler.updateCache(i),this.updateUI(e)}else s.PageController.initUserFunction()},updateUI:function(e){if(e.user)var i=e.user;else i=e;var n=i.username,r=i.userId,l=i.accountId,h=i.avatar,p=i.notiOptions,f=i.commentSso,g=i.hashId,m=i.verified;(o._configs.user.username=n,o._configs.user.id=r,o._configs.user.account_id=l,o._configs.user.avatar=h,o._configs.user.noti=p,o._configs.user.comment_auth=f,o._configs.user.hashId=g,o._configs.user.verified=m,u.a.init(),s.PageController.initUserFunction(),!1===m&&s.PageController.showConfirmEmailBanner(n),n)&&(document.getElementById("jsid-my-profile")&&(document.getElementById("jsid-my-profile").href="/u/"+n));h&&(t("#jsid-avatar").attr("src",h),c.a.updateMyProfileOnlyIcon(h)),a.setUser(i),d.a.setUserId(g)}});e.a=h}).call(this,i(6),i(14).default,i(31).default,i(34).default,i(92).default)},function(t,e,i){"use strict";(function(t,n){var s=i(13),o=i(100),a=t.extend({},new s.a,{controllerName:"vote",selectors:{ENTRY:"article[data-entry-id]"},handler:null,remoteHandler:null,init:function(t){return this.handler=o.a,this.remoteHandler=t,this},process:function(){this.handler.get()||(n.log("empty cache. try to retrieve from server"),this.remoteHandler.addToQueue(this.controllerName,this.handler.formatRemoteParams(),"responseCallback"))},responseCallback:function(e){if(void 0!=e.vote){var i=this.handler.getFromCache();null==i&&(i={}),t.each(e.vote,function(t,e){i[t]=parseInt(e)}),this.handler.updateCache(i)}}});e.a=a}).call(this,i(6),i(14).default)},function(t,e,i){"use strict";(function(t,n,s,o,a){var r=i(13),c=i(307),l=i(306),u=i(305),d=i(304),h=i(303),p=i(301),f=i(300),g=i(298),m=t.extend({},new r.a,{cacheableControllersOrderedList:["contentsRecommended","vote","user","userPreference","userUpload","userQuota","userReport"],cacheableControllers:{vote:c.a,user:l.a,userPreference:u.a,userUpload:d.a,userQuota:h.a,userReport:p.a,contentsRecommended:f.a},clearCookieKey:"cacheableClear",remoteHandler:null,selectors:{BTN_LOGOUT:".badge-logout-btn"},init:function(){this.remoteHandler=g.a;var e=this;if(t.each(this.cacheableControllersOrderedList,function(t,i){var s=e.cacheableControllers[i].init(e.remoteHandler);n.setController(i,s)}),t.cookie(this.clearCookieKey)&&(this.clearAllCache(),t.cookie(this.clearCookieKey,0,{domain:s.get("page.cookie_domain"),expires:-1,path:"/"})),!this.remoteHandler.issetPhpSessionId())return this.remoteHandler.issetPhpSessionId()||o.log("CacheableRemoteHandler php session id is not set. Bye!!"),void a.PageController.initUserFunction();o.log("calling cacheable"),this.bindDomReady(),this.bindLogoutBtn()},clearAllCache:function(){o.log("CacheableController clear all cache"),t.each(this.cacheableControllersOrderedList,function(t,e){n.getController(e).handler.clearCache()}),a.PageController.initUserFunction()},bindDomReady:function(){var e=this;t(function(){t.each(e.cacheableControllersOrderedList,function(t,e){n.getController(e).process()}),e.remoteHandler.processQueue()})},bindLogoutBtn:function(){var e=this;t(this.selectors.BTN_LOGOUT).on("click",function(t){e.clearAllCache()})}});e.a=m}).call(this,i(6),i(235).default,i(34).default,i(14).default,i(31).default)},,,,function(t,e,i){"use strict";i.r(e),function(t,n){var s=i(0),o=i.n(s),a={EVENT_CATEGORY:"PostImpression",EVENT_ACTION_IMPRESSION:"PostImpression",timedActionList:[{action:"ViewPostForOneSecond",threshold:1},{action:"ViewPostForThreeSeconds",threshold:3}],trackedActions:{},getActionsByVideoViewTime:function(t,e,i){for(var n=e-i,s=[],o=0;o<this.timedActionList.length;o++)t>=this.timedActionList[o].threshold&&this.timedActionList[o].threshold<=n&&s.push(this.timedActionList[o].action);return s},getUniqueActionKey:function(t,e,i){var n=e;return i&&(n+=":"+i.TriggeredPage,n+=":"+i.TriggeredPageKey),n},filterTrackedActions:function(e,i,n,s){var o=this.getUniqueActionKey(e,n,s);t.log("uniqueActionKey",o);for(var a=this.trackedActions[o]||[],r=[],c=0;c<i.length;c++)-1===a.indexOf(i[c])&&(r.push(i[c]),a.push(i[c]));return this.trackedActions[o]=a,r},onImpression:function(t,e,i,n){this.sendUntrackedPostActions(t,e,i,[this.EVENT_ACTION_IMPRESSION],n)},onNonVideoView:function(t,e,i,n,s){this.sendUntrackedPostActions(t,e,i,["ViewPostForOneSecond"],s)},onVideoView:function(t,e,i,n,s,o,a){var r=this.getActionsByVideoViewTime(n,s,o);n>=.95*(s-o)&&r.push("FinishedVideo"),this.sendUntrackedPostActions(t,e,i,r,a)},sendUntrackedPostActions:function(e,i,s,a,r){var c=this.filterTrackedActions(e,a,i,r);t.log("sendUntrackedPostActions.untrackedActions entryId=".concat(i,",pos=").concat(s),c);var l=o()({PostKey:i},r);s&&(l.Position=s);for(var u=0;u<c.length;u++)n.trackEvent(this.EVENT_CATEGORY,c[u],e,1,l)}};e.default=a}.call(this,i(14).default,i(75).default)},function(t,e,i){"use strict";i.r(e),function(t,n,s){i(18);var o=i(10),a=i.n(o),r=i(9),c=i.n(r),l=.5,u=function(){function e(t){a()(this,e),this.id="TTM:"+Math.floor(1e3*Math.random()),this.visibilityObserver=null,this.videoTimeManager=t,this.setTimedViewVisibilityThreshold(l),this.timers={},this.videoPlayed={},this.screenKey="",this.trackingCVars={},this.intersectionHandler=this.intersectionHandler.bind(this),this.setVisibilityObserver=this.setVisibilityObserver.bind(this),this.onVideoTimeUpdate=this.onVideoTimeUpdate.bind(this)}return c()(e,[{key:"getVideoTimeManager",value:function(){return this.videoTimeManager}},{key:"setScreenKey",value:function(t){this.screenKey=t}},{key:"setTimedViewVisibilityThreshold",value:function(t){this.log("setTimedViewVisibilityThreshold()",t),this.threshold=t}},{key:"setTrackingCVars",value:function(t){this.log("setTrackingCVars()",t),this.trackingCVars=t}},{key:"setVisibilityObserver",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.visibilityObserver){var n=[0,l];this.visibilityObserver=new t.VisibilityObserver(this.intersectionHandler,e,i,n)}}},{key:"log",value:function(t,e){n.log("["+this.id+"] TimedTrackingManager."+t,e)}},{key:"track",value:function(t,e){this.visibilityObserver.observe(document.getElementById(t),e)}},{key:"untrackAll",value:function(){this.visibilityObserver&&this.visibilityObserver.reset()}},{key:"start",value:function(){this.videoTimeManager&&this.videoTimeManager.addListener(this.onVideoTimeUpdate)}},{key:"stop",value:function(){this.videoTimeManager&&this.videoTimeManager.removeListeners()}},{key:"trackImpression",value:function(t){"ENTER"===t.visibilityStatus&&t.intersectionRatio>0&&(this.shouldCheckImpression(t)&&s.onImpression(this.screenKey,t.data.key,t.data.position,this.trackingCVars))}},{key:"trackNonVideoView",value:function(e){var i=e.data.key;if(e.intersectionRatio>l&&this.shouldCheckNonVideoView(e)){var n=this;void 0===this.timers[i]&&(this.timers[i]=setTimeout(function(){n.timers[i]=0,s.onNonVideoView(n.screenKey,i,e.data.position,1,n.trackingCVars)},1e3))}e.visibilityStatus===t.VISIBILITY_STATUS.exit&&0===e.intersectionRatio&&this.timers[i]&&(clearTimeout(this.timers[i]),delete this.timers[i])}},{key:"intersectionHandler",value:function(t){var e=this;t.forEach(function(t){e.trackImpression(t),e.trackNonVideoView(t)})}},{key:"onVideoTimeUpdate",value:function(t,e,i,n,o){o=o||0;var a=t.key;if(a){var r=this.shouldCountVideoTime(t,e,i,n,o);if(this.log("onVideoTimeUpdate() key="+a+", startTime="+o+", currentTime="+i+", duration="+n+", shouldCount="+r,t),r){var c=this.videoPlayed[a]||{accumPlayTime:0,lastPlayTime:0,startTime:o,duration:n},l=c.accumPlayTime>n,u=i-c.lastPlayTime,d=0;(d=u>0?u:n-c.lastPlayTime+(i-o))>0&&1e3*d<=5e3?c.accumPlayTime+=d:(d=0,this.log("onVideoTimeUpdate() key="+a+", accumPlayTimeIncrease="+d+", invalid playtime change")),c.lastPlayTime=i,this.videoPlayed[a]=c,this.log("onVideoTimeUpdate() key="+a+", accumPlayTimeIncrease="+d+", completed="+l,c),l||s.onVideoView(this.screenKey,a,t.position,c.accumPlayTime,n,o,this.trackingCVars)}}}},{key:"isIntersectionRatioAboveThreshold",value:function(t){return this.visibilityObserver.getSortedVisibleItems(this.threshold).map(function(t){return t.domId}).indexOf(t)>-1}},{key:"shouldCheckImpression",value:function(t){return!0}},{key:"shouldCheckNonVideoView",value:function(t){return!0}},{key:"shouldCountVideoTime",value:function(t,e,i,n){return i=i||0,n=n||0,!!(e&&i&&n)&&this.isIntersectionRatioAboveThreshold(t.domId)}}]),e}();e.default=u}.call(this,i(116).default,i(14).default,i(312).default)},function(t,e,i){"use strict";i.r(e),function(t){i(18);var n=i(10),s=i.n(n),o=i(9),a=i.n(o),r=function(){function e(){s()(this,e),this.observers={}}return a()(e,[{key:"setDimensionChangeListener",value:function(e,i){if(!1 in window)t.log("LayoutUtils.setDimensionChangeListener() MutationObserver not supported");else try{var n=null;if(!i)return(n=this.observers[e])&&n.disconnect(),void(this.observers[e]=null);var s=document.getElementById(e);if(!s)return;var o=s.style.height,a=s.style.width;n=new MutationObserver(function(e){e.forEach(function(e){if("style"===e.attributeName&&(o!==s.style.height||a!==s.style.width)){var n={oldValue:{width:parseInt(a),height:parseInt(o)},newValue:{width:parseInt(s.style.width),height:parseInt(s.style.height)}},r=1e3*((parseFloat(s.style.transitionDelay)||0)+(parseFloat(s.style.transitionDuration)||0));t.log("LayoutUtils.setDimensionChangeListener() delay",r+"ms"),setTimeout(function(){t.log("LayoutUtils.setDimensionChangeListener()",n),i(n)},r+100),o=s.style.height,a=s.style.width}})}),this.observers[e]=n,n.observe(s,{attributes:!0,attributeFilter:["style"]})}catch(e){t.log("LayoutUtils.setDimensionChangeListener",e)}}}]),e}();e.default=new r}.call(this,i(14).default)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e),function(t){i(90),i(89),i(18);var n=i(10),s=i.n(n),o=i(9),a=i.n(o),r=function(){function e(t){var i=t.id,n=t.onSeek,o=t.onPercentageChange,a=t.onStart,r=t.onResume,c=t.onPause,l=t.onEnded,u=t.onReady;s()(this,e),this.id=i,this.timestamp=Date.now(),this.lastPlayerState=-1,this.lastPercentage=0,this.lastPlayerTime=0,this.started=!1,this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.onPlayerReady=this.onPlayerReady.bind(this),this.onYouTubePlayerAPIReady=this.onYouTubePlayerAPIReady.bind(this),this.onStateChange=this.onStateChange.bind(this),this.checkStatus=this.checkStatus.bind(this),this.isSeeking=this.isSeeking.bind(this),this.getCurrentState=this.getCurrentState.bind(this),this.getPlayerId=this.getPlayerId.bind(this),this.onSeek=n,this.onPercentageChange=o,this.onStart=a,this.onResume=r,this.onPause=c,this.onEnded=l,this.onReady=u}return a()(e,[{key:"start",value:function(){window.YT&&window.YT.Player?this.onYouTubePlayerAPIReady():(e.callbacks.push(this.onYouTubePlayerAPIReady),t.loadScript("https://www.youtube.com/iframe_api",null)),this.checkStatusInterval=setInterval(this.checkStatus,1e3)}},{key:"stop",value:function(){this.checkStatusInterval&&clearInterval(this.checkStatusInterval)}},{key:"onPlayerReady",value:function(t){this.player=t.target,this.onReady&&this.onReady()}},{key:"onYouTubePlayerAPIReady",value:function(){var t=this.getPlayerId,e=this.onPlayerReady,i=this.onStateChange;new YT.Player(t(),{videoId:this.id,events:{onReady:e,onStateChange:i}})}},{key:"onStateChange",value:function(t){var e=this.getCurrentState();if(null!==e){var i=this.lastPlayerState===YT.PlayerState.PLAYING,n=this.lastPlayerState===YT.PlayerState.PAUSED,s=t.data===YT.PlayerState.PLAYING,o=t.data===YT.PlayerState.PAUSED&&!this.isSeeking(),a=t.data===YT.PlayerState.ENDED,r=this.onStart,c=this.onResume,l=this.onPause,u=this.onEnded;s&&!this.started&&(r&&r(e),this.started=!0),s&&n&&c&&c(e),o&&i&&l&&l(e),a&&u&&u(e),this.lastPlayerState=t.data}}},{key:"checkStatus",value:function(){var t=this.getCurrentState();if(null!==t){var e=this.onSeek,i=this.onPercentageChange;this.isSeeking()&&e&&e(t),t.percentage>this.lastPercentage&&i&&i(t),this.lastPercentage=t.percentage,this.lastPlayerTime=t.time}}},{key:"isSeeking",value:function(){var t=Math.floor(this.player.getCurrentTime());return Math.abs(t-this.lastPlayerTime)>2}},{key:"getCurrentState",value:function(){if(!this.player)return null;var t=Math.floor(this.player.getCurrentTime()),e=Math.floor(this.player.getDuration());return{state:this.player.getPlayerState(),percentage:t/e*100,isPlaying:this.player.getPlayerState()===YT.PlayerState.PLAYING,time:t,lastTime:this.lastPlayerTime,duration:e}}},{key:"getPlayerId",value:function(){return"embedded-youtube-view-".concat(this.id,"-").concat(this.timestamp)}},{key:"play",value:function(){this.player&&this.player.playVideo()}},{key:"pause",value:function(){this.player&&this.player.pauseVideo()}},{key:"mute",value:function(){this.player&&this.player.mute()}}]),e}();r.callbacks=[],window.onYouTubePlayerAPIReady=function(){var t=!0,e=!1,i=void 0;try{for(var n,s=r.callbacks[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){(0,n.value)()}}catch(t){e=!0,i=t}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}r.callbacks=[]},e.default=r}.call(this,i(186).default)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(10),s=i.n(n),o=i(9),a=i.n(o),r=function(){function t(){s()(this,t)}return a()(t,[{key:"supportsH265",value:function(){return"MediaSource"in window?MediaSource.isTypeSupported('video/mp4; codecs="hvc1"'):"probably"===document.createElement("video").canPlayType('video/mp4; codecs="hvc1"')}}]),t}();e.default=new r},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(63),s=i.n(n),o=i(0),a=i.n(o),r=(i(119),i(99)),c=i.n(r),l=i(10),u=i.n(l),d=i(9),h=i.n(d),p=i(17),f=i.n(p),g=i(19),m=i.n(g),_=function(){function t(e){var i=e.apiKey,n=e.appId,s=e.minSuggestCount,o=e.searchIndex;u()(this,t),this.apiKey=i,this.appId=n,this.minSuggestCount=s,this.searchIndex=o}return h()(t,[{key:"getTagSuggestions",value:function(){var t=c()(s.a.mark(function t(e){var i,n,o,r,c,l,u,d,h,p,g=this,_=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=_.length>1&&void 0!==_[1]?_[1]:{},n=i.maxFacetHits,o=void 0===n?10:n,r=a()({},i,{facetQuery:e,maxFacetHits:o}),c="tags",l=this.appId.toLowerCase(),u="https://".concat(l,"-dsn.algolia.net/1/indexes/").concat(this.searchIndex,"/facets/").concat(c,"/query"),d={"x-algolia-application-id":this.appId,"x-algolia-api-key":this.apiKey},t.prev=7,t.next=10,f.a.post("".concat(u,"?").concat(m.a.stringify(d)),r,{headers:{"content-type":"application/x-www-form-urlencoded"}});case 10:if(h=t.sent,(p=h.data).facetHits){t.next=14;break}return t.abrupt("return",[]);case 14:return t.abrupt("return",p.facetHits.filter(function(t){return t.count>g.minSuggestCount}));case 17:return t.prev=17,t.t0=t.catch(7),t.abrupt("return",[]);case 20:case"end":return t.stop()}},t,this,[[7,17]])}));return function(e){return t.apply(this,arguments)}}()}]),t}();e.default=_},,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(10),s=i.n(n),o=i(9),a=i.n(o),r=i(419),c=function(){function t(){s()(this,t)}return a()(t,null,[{key:"murmurhash3",value:function(t,e){return r.murmur3(t,e)}}]),t}();e.default=c},,,,,,,,function(t,e,i){"use strict";i.r(e),function(t,e,n,s,o,a){i(90),i(89),i(18);var r=i(72),c=i(34),l=i(5),u=i(101),d=i(175),h=i(27),p=i(83),f=i(87),g=i(56),m=i(308),_=i(171),v=i(170),T=i(23),E=i(214),S=i(213),P=i(284),O=i(64),I=i(28),C=i(61),y=i(168);t.PageController=S.a,t.ReportController=E.a,t.OverlayController=T.a;var A=A||{};A.GA=e,A.Piwik=n,A.App=function(){var t={_data:{},_models:{},_controllers:{},init:function(){var i=t;s(document).ready(function(){i._onDomReady()}),s(window).on("load",function(){i._onWindowLoad()}),s(window).on("scroll",function(t){i._runOnControllers("onScroll")}),window.addEventListener("error",function(t){var i=t.error,n=t.filename;!1!==(void 0===n?"":n).indexOf("web6")&&i&&(console.error(i),e.trackException(i.message),o.logException(i.message,{info:i.stack}))})},_onDomReady:function(){t._runOnModels("init"),t._runOnControllers("init")},_onWindowLoad:function(){t._runOnModels("onWindowLoad"),t._runOnControllers("onWindowLoad")},_runOnObjects:function(t,e){!t instanceof Object||s.each(t,function(t,i){i[e]&&"function"==typeof i[e]&&i[e]()})},_runOnModels:function(e){t._runOnObjects(t._models,e)},_runOnControllers:function(e){t._runOnObjects(t._controllers,e)},addModel:function(e){return t._models=e,this},addController:function(e){return t._controllers=e,this},setData:function(e,i){t._data[e]=i},_scriptMap:{facebook:"//connect.facebook.net/en_US/sdk.js",twitter:"//platform.twitter.com/widgets.js",recaptcha:"https://www.google.com/recaptcha/api.js?onload=onCaptchaLoadedCallback&render=explicit&hl=en"},loadAsynScripts:function(e){var i=!0,n=!1,s=void 0;try{for(var o,r=e[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var c=o.value;a.loadScript(t._scriptMap[c],null)}}catch(t){n=!0,s=t}finally{try{i||null==r.return||r.return()}finally{if(n)throw s}}},loadConfigs:function(t){return c.default.load(t),this}};return{init:t.init,loadConfigs:t.loadConfigs,loadAsynScripts:t.loadAsynScripts,addModel:t.addModel,addController:t.addController}}();var b={CacheFactory:r.a,User:h.a,Configs:c.default,Page:l.a,Toast:u.a,Track:d.a,Facebook:p.a,Vote:f.a},R={RcfgAdsController:I.a,AccountController:g.a,CacheableController:m.a,KeyboardController:_.a,NotificationsScrollingController:v.a,OverlayController:T.a,ReportController:E.a,PageController:S.a,ProfileSettingController:P.a,PushController:O.a,UploadController:C.a,WebNotiController:y.a};A.App.addModel(b).addController(R).init(),window.GAG=A}.call(this,i(31).default,i(21).default,i(75).default,i(6),i(92).default,i(186).default)},,,,,,,,function(t,e,i){"use strict";i.r(e);i(128),i(51),i(52);var n=i(85),s=i.n(n);i(94),i(66);!function(t,e,i){if(!t.PushStream){var n={},o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=function(t){return(t<10?"0":"")+t};n.dateToUTCString=function(t){var e=r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds());return o[t.getUTCDay()]+", "+r(t.getUTCDate())+" "+a[t.getUTCMonth()]+" "+t.getUTCFullYear()+" "+e+" GMT"};var c=function(){for(var t=arguments[0]||{},e=0;e<arguments.length;e++){var i=arguments[e];for(var n in i)i.hasOwnProperty&&!i.hasOwnProperty(n)||(t[n]=i[n])}return t},l=/^[\],:{}\s]*$/,u=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,h=/(?:^|:|,)(?:\s*\[)+/g;n.parseJSON=function(e){if(!e||!T(e))return null;if(e=function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}(e),t.JSON&&t.JSON.parse)try{return t.JSON.parse(e)}catch(t){throw"Invalid JSON: "+e}if(l.test(e.replace(u,"@").replace(d,"]").replace(h,"")))return new Function("return "+e)();throw"Invalid JSON: "+e};var p=function(t){var e={};return e[t.tagArgument]="",e[t.timeArgument]="",e[t.eventIdArgument]="",t.messagesControlByArgument&&(e[t.tagArgument]=Number(t._etag),t._lastModified?e[t.timeArgument]=t._lastModified:t._lastEventId&&(e[t.eventIdArgument]=t._lastEventId)),e},f=function(){return(new Date).getTime()},g=function(){return{_:f()}},m=function(t){var e=t;if("object"===s()(t)){for(var i in e="",t)t.hasOwnProperty&&!t.hasOwnProperty(i)||(e+="&"+i+"="+O(t[i]));e=e.substring(1)}return e||""},_=function(t,e){return t+(t.indexOf("?")<0?"?":"&")+m(e)},v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},T=function(t){return"[object String]"===Object.prototype.toString.call(t)},E=function(t){return"[object Date]"===Object.prototype.toString.call(t)},S={logger:null,debug:function(){"debug"===V.LOG_LEVEL&&S._log.apply(S._log,arguments)},info:function(){"info"!==V.LOG_LEVEL&&"debug"!==V.LOG_LEVEL||S._log.apply(S._log,arguments)},error:function(){S._log.apply(S._log,arguments)},_initLogger:function(){var e=t.console;e&&e.log&&(e.log.apply?S.logger=e.log:"object"===s()(e.log)&&Function.prototype.bind?S.logger=Function.prototype.bind.call(e.log,e):"object"===s()(e.log)&&Function.prototype.call&&(S.logger=function(){Function.prototype.call.call(e.log,e,Array.prototype.slice.call(arguments))}))},_log:function(){if(S.logger||S._initLogger(),S.logger)try{S.logger.apply(t.console,arguments)}catch(e){S._initLogger(),S.logger&&S.logger.apply(t.console,arguments)}var i=e.getElementById(V.LOG_OUTPUT_ELEMENT_ID);if(i){for(var n="",s=0;s<arguments.length;s++)n+=arguments[s]+" ";i.innerHTML+=n+"\n";var o=i.innerHTML.split("\n");o.length>100&&(i.innerHTML=o.slice(-100).join("\n"))}}},P={_getXHRObject:function(e){var i=!1;if(e){try{i=new t.XDomainRequest}catch(t){}if(i)return i}try{i=new t.XMLHttpRequest}catch(e){try{i=new t.ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{i=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){i=!1}}}return i},_send:function(e,i){(e=e||{}).timeout=e.timeout||3e4;var n=P._getXHRObject(e.crossDomain);if(n&&e.url){P.clear(e),e.xhr=n,t.XDomainRequest&&n instanceof t.XDomainRequest?(n.onload=function(){e.afterReceive&&e.afterReceive(n),e.success&&e.success(n.responseText)},n.onerror=n.ontimeout=function(){e.afterReceive&&e.afterReceive(n),e.error&&e.error(n.status)}):n.onreadystatechange=function(){4===n.readyState&&(P.clear(e),e.afterReceive&&e.afterReceive(n),200===n.status?e.success&&e.success(n.responseText):e.error&&e.error(n.status))},e.beforeOpen&&e.beforeOpen(n);var s={},o=null,a="GET";i?(o=m(e.data),a="POST"):s=e.data||{},n.open(a,_(e.url,c({},s,g())),!0),e.beforeSend&&e.beforeSend(n);return i?n.setRequestHeader&&(n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Content-type","application/x-www-form-urlencoded")):e.timeoutId=t.setTimeout(function(){P.clear(e);try{n.abort()}catch(t){}e.error(304)},e.timeout+2e3),n.send(o),n}},_clear_xhr:function(t){t&&(t.onreadystatechange=null)},_clear_script:function(t){t&&(t.onerror=t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t))},_clear_timeout:function(t){t.timeoutId=k(t.timeoutId)},_clear_jsonp:function(e){var i=e.data.callback;i&&(t[i]=function(){t[i]=null})},clear:function(t){P._clear_timeout(t),P._clear_jsonp(t),P._clear_script(e.getElementById(t.scriptId)),P._clear_xhr(t.xhr)},jsonp:function(i){i.timeout=i.timeout||3e4,P.clear(i);var n=e.head||e.getElementsByTagName("head")[0],s=e.createElement("script"),o=f(),a=function(){P.clear(i);var t=f();i.error(t-o>i.timeout/2?304:403)};return s.onerror=a,s.onload=s.onreadystatechange=function(t){s.readyState&&!/loaded|complete/.test(s.readyState)||(i.afterSuccess?(P.clear(i),i.load()):a())},i.beforeOpen&&i.beforeOpen({}),i.beforeSend&&i.beforeSend({}),i.timeoutId=t.setTimeout(a,i.timeout+2e3),i.scriptId=i.scriptId||f(),i.afterSuccess=null,i.data.callback=i.scriptId+"_onmessage_"+f(),t[i.data.callback]=function(){i.afterSuccess=!0,i.success.apply(null,arguments)},s.setAttribute("src",_(i.url,c({},i.data,g()))),s.setAttribute("async","async"),s.setAttribute("id",i.scriptId),n.insertBefore(s,n.firstChild),i},load:function(t){return P._send(t,!1)},post:function(t){return P._send(t,!0)}},O=function(e){return e?t.encodeURIComponent(e):""},I=function(e){return e?t.decodeURIComponent(e):""};n.parseMessage=function(t,e){var i=t;return T(t)&&(i=n.parseJSON(t)),{id:i[e.jsonIdKey],channel:i[e.jsonChannelKey],text:T(i[e.jsonTextKey])?I(i[e.jsonTextKey]):i[e.jsonTextKey],tag:i[e.jsonTagKey],time:i[e.jsonTimeKey],eventid:i[e.jsonEventIdKey]||""}};var C=function(t){return t.backtrack?".b"+Number(t.backtrack):""},y=function(t,e){var i="";for(var n in t)t.hasOwnProperty&&!t.hasOwnProperty(n)||(i+="/"+n+(e?C(t[n]):""));return i},A=function(t,e,i,n){var s=t.wrapper.type===D.TYPE,o=t.useSSL,a=R(o,t.port),r=s?o?"wss://":"ws://":o?"https://":"http://";r+=t.host,r+=a?":"+a:"",r+=e;var l=y(t.channels,n);if(t.channelsByArgument){var u={};u[t.channelsArgument]=l.substring(1),i=c({},i,u)}else r+=l;return _(r,i)},b=function(t){var e=R(t.useSSL,t.port),i=t.useSSL?"https://":"http://";return i+=t.host,i+=e?":"+e:"",i+=t.urlPrefixPublisher,i+="?id="+y(t.channels,!1)};n.extract_xss_domain=function(t){if(t.match(/^(\d{1,3}\.){3}\d{1,3}$/))return t;var e=t.split("."),i=Math.max(e.length-1,t.match(/(\w{4,}\.\w{2}|\.\w{3,})$/)?2:3);return e.slice(-1*i).join(".")};var R=function(t,e){return e=Number(e||(t?443:80)),!t&&80===e||t&&443===e?"":e};n.isCrossDomainUrl=function(i){if(!i)return!1;var n=e.createElement("a");n.href=i;var s=R("https:"===t.location.protocol,t.location.port),o=R("https:"===n.protocol,n.port);return t.location.protocol!==n.protocol||t.location.hostname!==n.hostname||s!==o};var N=function(t,e){return function(){return t.apply(e,arguments)}},k=function(e){return e&&t.clearTimeout(e),null},L=function(t){S.info("["+this.type+"] message received",arguments);var e=n.parseMessage(t.data,this.pushstream);e.tag&&(this.pushstream._etag=e.tag),e.time&&(this.pushstream._lastModified=e.time),e.eventid&&(this.pushstream._lastEventId=e.eventid),this.pushstream._onmessage(e.text,e.id,e.channel,e.eventid,!0,e.time)},U=function(){this.pushstream._onopen(),S.info("["+this.type+"] connection opened")},w=function(e){S.info("["+this.type+"] error (disconnected by server):",e),this.pushstream.readyState===V.OPEN&&this.type===M.TYPE&&"error"===e.type&&this.connection.readyState===t.EventSource.CONNECTING||(this._closeCurrentConnection(),this.pushstream._onerror({type:e&&("load"===e.type||"close"===e.type&&1006===e.code)||this.pushstream.readyState===V.CONNECTING?"load":"timeout"}))},D=function e(i){if(!t.WebSocket&&!t.MozWebSocket)throw"WebSocket not supported";this.type=e.TYPE,this.pushstream=i,this.connection=null};D.TYPE="WebSocket",D.prototype={connect:function(){this._closeCurrentConnection();var e=c({},this.pushstream.extraParams(),g(),p(this.pushstream)),i=A(this.pushstream,this.pushstream.urlPrefixWebsocket,e,!this.pushstream._useControlArguments());this.connection=t.WebSocket?new t.WebSocket(i):new t.MozWebSocket(i),this.connection.onerror=N(w,this),this.connection.onclose=N(w,this),this.connection.onopen=N(U,this),this.connection.onmessage=N(L,this),S.info("[WebSocket] connecting to:",i)},disconnect:function(){this.connection&&(S.debug("[WebSocket] closing connection to:",this.connection.url),this.connection.onclose=null,this._closeCurrentConnection(),this.pushstream._onclose())},_closeCurrentConnection:function(){if(this.connection){try{this.connection.close()}catch(t){}this.connection=null}},sendMessage:function(t){this.connection&&this.connection.send(t)}};var M=function e(i){if(!t.EventSource)throw"EventSource not supported";this.type=e.TYPE,this.pushstream=i,this.connection=null};M.TYPE="EventSource",M.prototype={connect:function(){this._closeCurrentConnection();var e=c({},this.pushstream.extraParams(),g(),p(this.pushstream)),i=A(this.pushstream,this.pushstream.urlPrefixEventsource,e,!this.pushstream._useControlArguments());this.connection=new t.EventSource(i),this.connection.onerror=N(w,this),this.connection.onopen=N(U,this),this.connection.onmessage=N(L,this),S.info("[EventSource] connecting to:",i)},disconnect:function(){this.connection&&(S.debug("[EventSource] closing connection to:",this.connection.url),this.connection.onclose=null,this._closeCurrentConnection(),this.pushstream._onclose())},_closeCurrentConnection:function(){if(this.connection){try{this.connection.close()}catch(t){}this.connection=null}}};var x=function t(e){this.type=t.TYPE,this.pushstream=e,this.connection=null,this.url=null,this.frameloadtimer=null,this.pingtimer=null,this.iframeId="PushStreamManager_"+e.id};x.TYPE="Stream",x.prototype={connect:function(){this._closeCurrentConnection();var t=n.extract_xss_domain(this.pushstream.host);try{e.domain=t}catch(e){S.error("[Stream] (warning) problem setting document.domain = "+t+" (OBS: IE8 does not support set IP numbers as domain)")}var i=c({},this.pushstream.extraParams(),g(),{streamid:this.pushstream.id},p(this.pushstream));this.url=A(this.pushstream,this.pushstream.urlPrefixStream,i,!this.pushstream._useControlArguments()),S.debug("[Stream] connecting to:",this.url),this.loadFrame(this.url)},disconnect:function(){this.connection&&(S.debug("[Stream] closing connection to:",this.url),this._closeCurrentConnection(),this.pushstream._onclose())},_clear_iframe:function(){var t=e.getElementById(this.iframeId);t&&(t.onload=null,t.src="about:blank",t.parentNode&&t.parentNode.removeChild(t))},_closeCurrentConnection:function(){this._clear_iframe(),this.connection&&(this.pingtimer=k(this.pingtimer),this.frameloadtimer=k(this.frameloadtimer),this.connection=null,this.transferDoc=null,"function"==typeof t.CollectGarbage&&t.CollectGarbage())},loadFrame:function(i){this._clear_iframe();var n=null;if("ActiveXObject"in t){var s=new t.ActiveXObject("htmlfile");s.open(),s.write("<html><script>document.domain='"+e.domain+"';<\/script>"),s.write("<body><iframe id='"+this.iframeId+"' src='"+i+"'></iframe></body></html>"),s.parentWindow.PushStream=V,s.close(),n=s.getElementById(this.iframeId),this.transferDoc=s}else(n=e.createElement("IFRAME")).style.width="1px",n.style.height="1px",n.style.border="none",n.style.position="absolute",n.style.top="-10px",n.style.marginTop="-10px",n.style.zIndex="-20",n.PushStream=V,e.body.appendChild(n),n.setAttribute("src",i),n.setAttribute("id",this.iframeId);n.onload=N(w,this),this.connection=n,this.frameloadtimer=t.setTimeout(N(w,this),this.pushstream.timeout)},register:function(t){this.frameloadtimer=k(this.frameloadtimer),t.p=N(this.process,this),this.connection.onload=N(this._onframeloaded,this),this.pushstream._onopen(),this.setPingTimer(),S.info("[Stream] frame registered")},process:function(t,e,i,n,s,o){this.pingtimer=k(this.pingtimer),S.info("[Stream] message received",arguments),-1!==t&&(o&&(this.pushstream._etag=o),s&&(this.pushstream._lastModified=s),n&&(this.pushstream._lastEventId=n)),this.pushstream._onmessage(I(i),t,e,n||"",!0,s),this.setPingTimer()},_onframeloaded:function(){S.info("[Stream] frame loaded (disconnected by server)"),this.pushstream._onerror({type:"timeout"}),this.connection.onload=null,this.disconnect()},setPingTimer:function(){this.pingtimer&&k(this.pingtimer),this.pingtimer=t.setTimeout(N(w,this),this.pushstream.pingtimeout)}};var F=function t(e){this.type=t.TYPE,this.pushstream=e,this.connection=null,this.opentimer=null,this.messagesQueue=[],this._linkedInternalListen=N(this._internalListen,this),this.xhrSettings={timeout:this.pushstream.timeout,data:{},url:null,success:N(this.onmessage,this),error:N(this.onerror,this),load:N(this.onload,this),beforeSend:N(this.beforeSend,this),afterReceive:N(this.afterReceive,this)}};F.TYPE="LongPolling",F.prototype={connect:function(){this.messagesQueue=[],this._closeCurrentConnection(),this.urlWithBacktrack=A(this.pushstream,this.pushstream.urlPrefixLongpolling,{},!0),this.urlWithoutBacktrack=A(this.pushstream,this.pushstream.urlPrefixLongpolling,{},!1),this.xhrSettings.url=this.urlWithBacktrack,this.useJSONP=this.pushstream._crossDomain||this.pushstream.useJSONP,this.xhrSettings.scriptId="PushStreamManager_"+this.pushstream.id,this.useJSONP&&(this.pushstream.messagesControlByArgument=!0),this._listen(),this.opentimer=t.setTimeout(N(U,this),150),S.info("[LongPolling] connecting to:",this.xhrSettings.url)},_listen:function(){this._internalListenTimeout&&k(this._internalListenTimeout),this._internalListenTimeout=t.setTimeout(this._linkedInternalListen,100)},_internalListen:function(){this.pushstream._keepConnected&&(this.xhrSettings.url=this.pushstream._useControlArguments()?this.urlWithoutBacktrack:this.urlWithBacktrack,this.xhrSettings.data=c({},this.pushstream.extraParams(),this.xhrSettings.data,p(this.pushstream)),this.useJSONP?this.connection=P.jsonp(this.xhrSettings):this.connection||(this.connection=P.load(this.xhrSettings)))},disconnect:function(){this.connection&&(S.debug("[LongPolling] closing connection to:",this.xhrSettings.url),this._closeCurrentConnection(),this.pushstream._onclose())},_closeCurrentConnection:function(){if(this.opentimer=k(this.opentimer),this.connection){try{this.connection.abort()}catch(t){try{P.clear(this.connection)}catch(t){}}this.connection=null,this.xhrSettings.url=null}},beforeSend:function(t){this.pushstream.messagesControlByArgument||(t.setRequestHeader("If-None-Match",this.pushstream._etag),t.setRequestHeader("If-Modified-Since",this.pushstream._lastModified))},afterReceive:function(t){this.pushstream.messagesControlByArgument||(this.pushstream._etag=t.getResponseHeader("Etag"),this.pushstream._lastModified=t.getResponseHeader("Last-Modified")),this.connection=null},onerror:function(t){this._closeCurrentConnection(),this.pushstream._keepConnected&&(304===t?this._listen():(S.info("[LongPolling] error (disconnected by server):",t),this.pushstream._onerror({type:403===t||this.pushstream.readyState===V.CONNECTING?"load":"timeout"})))},onload:function(){this._listen()},onmessage:function(t){this._internalListenTimeout&&k(this._internalListenTimeout),S.info("[LongPolling] message received",t);for(var e=null,i=v(t)?t:t.replace(/\}\{/g,"}\r\n{").split("\r\n"),s=0;s<i.length;s++)i[s]&&(e=n.parseMessage(i[s],this.pushstream),this.messagesQueue.push(e),this.pushstream.messagesControlByArgument&&e.time&&(this.pushstream._etag=e.tag,this.pushstream._lastModified=e.time));for(this._listen();this.messagesQueue.length>0;){var o=this.messagesQueue.shift();this.pushstream._onmessage(o.text,o.id,o.channel,o.eventid,0===this.messagesQueue.length,o.time)}}};var H=[],V=function(e){e=e||{},this.id=H.push(this)-1,this.useSSL=e.useSSL||!1,this.host=e.host||t.location.hostname,this.port=Number(e.port||(this.useSSL?443:80)),this.timeout=e.timeout||3e4,this.pingtimeout=e.pingtimeout||3e4,this.reconnectOnTimeoutInterval=e.reconnectOnTimeoutInterval||3e3,this.reconnectOnChannelUnavailableInterval=e.reconnectOnChannelUnavailableInterval||6e4,this.autoReconnect=!1!==e.autoReconnect,this.lastEventId=e.lastEventId||null,this.messagesPublishedAfter=e.messagesPublishedAfter,this.messagesControlByArgument=e.messagesControlByArgument||!1,this.tagArgument=e.tagArgument||"tag",this.timeArgument=e.timeArgument||"time",this.eventIdArgument=e.eventIdArgument||"eventid",this.useJSONP=e.useJSONP||!1,this._reconnecttimer=null,this._etag=0,this._lastModified=null,this._lastEventId=null,this.urlPrefixPublisher=e.urlPrefixPublisher||"/pub",this.urlPrefixStream=e.urlPrefixStream||"/sub",this.urlPrefixEventsource=e.urlPrefixEventsource||"/ev",this.urlPrefixLongpolling=e.urlPrefixLongpolling||"/lp",this.urlPrefixWebsocket=e.urlPrefixWebsocket||"/ws",this.jsonIdKey=e.jsonIdKey||"id",this.jsonChannelKey=e.jsonChannelKey||"channel",this.jsonTextKey=e.jsonTextKey||"text",this.jsonTagKey=e.jsonTagKey||"tag",this.jsonTimeKey=e.jsonTimeKey||"time",this.jsonEventIdKey=e.jsonEventIdKey||"eventid",this.modes=(e.modes||"eventsource|websocket|stream|longpolling").split("|"),this.wrappers=[],this.wrapper=null,this.onchanneldeleted=e.onchanneldeleted||null,this.onmessage=e.onmessage||null,this.onerror=e.onerror||null,this.onstatuschange=e.onstatuschange||null,this.extraParams=e.extraParams||function(){return{}},this.channels={},this.channelsCount=0,this.channelsByArgument=e.channelsByArgument||!1,this.channelsArgument=e.channelsArgument||"channels",this._crossDomain=n.isCrossDomainUrl(b(this));for(var i=0;i<this.modes.length;i++)try{var s=null;switch(this.modes[i]){case"websocket":s=new D(this);break;case"eventsource":s=new M(this);break;case"longpolling":s=new F(this);break;case"stream":s=new x(this)}this.wrappers[this.wrappers.length]=s}catch(t){S.info(t)}this.readyState=0};V.LOG_LEVEL="error",V.LOG_OUTPUT_ELEMENT_ID="Log4jsLogOutput",V.CLOSED=0,V.CONNECTING=1,V.OPEN=2,V.prototype={addChannel:function(t,e){if(O(t)!==t)throw"Invalid channel name! Channel has to be a set of [a-zA-Z0-9]";if(S.debug("entering addChannel"),void 0!==this.channels[t])throw"Cannot add channel "+t+": already subscribed";e=e||{},S.info("adding channel",t,e),this.channels[t]=e,this.channelsCount++,this.readyState!==V.CLOSED&&this.connect(),S.debug("leaving addChannel")},removeChannel:function(t){this.channels[t]&&(S.info("removing channel",t),delete this.channels[t],this.channelsCount--)},removeAllChannels:function(){S.info("removing all channels"),this.channels={},this.channelsCount=0},_setState:function(t){this.readyState!==t&&(S.info("status changed",t),this.readyState=t,this.onstatuschange&&this.onstatuschange(this.readyState))},connect:function(){if(S.debug("entering connect"),!this.host)throw"PushStream host not specified";if(isNaN(this.port))throw"PushStream port not specified";if(!this.channelsCount)throw"No channels specified";if(0===this.wrappers.length)throw"No available support for this browser";this._keepConnected=!0,this._lastUsedMode=0,this._connect(),S.debug("leaving connect")},disconnect:function(){S.debug("entering disconnect"),this._keepConnected=!1,this._disconnect(),this._setState(V.CLOSED),S.info("disconnected"),S.debug("leaving disconnect")},_useControlArguments:function(){return this.messagesControlByArgument&&(null!==this._lastModified||null!==this._lastEventId)},_connect:function(){if(null===this._lastEventId&&(this._lastEventId=this.lastEventId),null===this._lastModified){var t=this.messagesPublishedAfter;if(!E(t)){var e=Number(this.messagesPublishedAfter);e>0?(t=new Date).setTime(t.getTime()-1e3*e):e<0&&(t=new Date(0))}E(t)&&(this._lastModified=n.dateToUTCString(t))}this._disconnect(),this._setState(V.CONNECTING),this.wrapper=this.wrappers[this._lastUsedMode++%this.wrappers.length];try{this.wrapper.connect()}catch(t){this.wrapper&&this.wrapper.disconnect()}},_disconnect:function(){this._reconnecttimer=k(this._reconnecttimer),this.wrapper&&this.wrapper.disconnect()},_onopen:function(){this._reconnecttimer=k(this._reconnecttimer),this._setState(V.OPEN),this._lastUsedMode>0&&this._lastUsedMode--},_onclose:function(){this._reconnecttimer=k(this._reconnecttimer),this._setState(V.CLOSED),this._reconnect(this.reconnectOnTimeoutInterval)},_onmessage:function(t,e,i,n,s,o){S.debug("message",t,e,i,n,s,o),-2===e?this.onchanneldeleted&&this.onchanneldeleted(i):e>0&&this.onmessage&&this.onmessage(t,e,i,n,s,o)},_onerror:function(t){this._setState(V.CLOSED),this._reconnect("timeout"===t.type?this.reconnectOnTimeoutInterval:this.reconnectOnChannelUnavailableInterval),this.onerror&&this.onerror(t)},_reconnect:function(e){this.autoReconnect&&this._keepConnected&&!this._reconnecttimer&&this.readyState!==V.CONNECTING&&(S.info("trying to reconnect in",e),this._reconnecttimer=t.setTimeout(N(this._connect,this),e))},sendMessage:function(t,e,i){t=O(t),this.wrapper.type===D.TYPE?(this.wrapper.sendMessage(t),e&&e()):P.post({url:b(this),data:t,success:e,error:i,crossDomain:this._crossDomain})}},V.sendMessage=function(t,e,i,n){P.post({url:t,data:O(e),success:i,error:n})},V.register=function(t){var e=t.window.location.href.match(/streamid=([0-9]*)&?/);e[1]&&H[e[1]]&&H[e[1]].wrapper.register(t)},V.unload=function(){for(var t=0;t<H.length;t++)try{H[t].disconnect()}catch(t){}},t.PushStream=V,t.PushStreamManager=H,t.attachEvent&&t.attachEvent("onunload",V.unload),t.addEventListener&&t.addEventListener.call(t,"unload",V.unload,!1)}}(window,document)},function(t,e){},,,,,,,,,,,,function(t,e,i){i(6),i(446),i(129),i(445),i(208),i(444),i(440),i(253),i(438),i(205),i(436),t.exports=i(428)}],[[449,0,1]]]);